<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>微纪元</title>
  <subtitle>根据同名科幻小说改编</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.mindcont.com/"/>
  <updated>2016-12-26T06:27:05.107Z</updated>
  <id>http://blog.mindcont.com/</id>
  
  <author>
    <name>mindcont</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>局域网内nginx反向代理上网</title>
    <link href="http://blog.mindcont.com/2016/12/26/nginx-proxy-lan/"/>
    <id>http://blog.mindcont.com/2016/12/26/nginx-proxy-lan/</id>
    <published>2016-12-26T04:31:25.000Z</published>
    <updated>2016-12-26T06:27:05.107Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;https://sslbucket-a.akamaihd.net/www.opswat.com/images/blog/web-proxy-diagram-new.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;p&gt;局域网下有两台Linux服务器，信息如下：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;服务器&lt;/th&gt;
&lt;th&gt;IP地址&lt;/th&gt;
&lt;th&gt;操作系统&lt;/th&gt;
&lt;th&gt;Internet访问&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;HOSTA(OpenWrt路由器)&lt;/td&gt;
&lt;td&gt;110.1.1.65(wan)&lt;/td&gt;
&lt;td&gt;CentOS 6.7 x64&lt;/td&gt;
&lt;td&gt;是&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HOSTB&lt;/td&gt;
&lt;td&gt;110.1.1.215&lt;/td&gt;
&lt;td&gt;CentOS 6.7 x64&lt;/td&gt;
&lt;td&gt;否&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;需求：&lt;/strong&gt;HOSTA和HOSTB均处在局域网中，二者能够互相ping通，HOSTA开通网络策略支持互联网访问，但是HOSTB不支持，现在需要将HOSTA作为代理服务器，让HOSTB通过HOSTA实现互联网访问，主要需要HOSTB能够进行在线的软件包安装（yum和pip）&lt;/p&gt;
&lt;h2 id=&quot;方案&quot;&gt;&lt;a href=&quot;#方案&quot; class=&quot;headerlink&quot; title=&quot;方案&quot;&gt;&lt;/a&gt;方案&lt;/h2&gt;&lt;p&gt;使用Nginx反向代理将HOSTA作为http服务器，在HOSTB上配置http全局代理。&lt;/p&gt;
&lt;h3 id=&quot;设置nginx为HTTP代理服务器&quot;&gt;&lt;a href=&quot;#设置nginx为HTTP代理服务器&quot; class=&quot;headerlink&quot; title=&quot;设置nginx为HTTP代理服务器&quot;&gt;&lt;/a&gt;设置nginx为HTTP代理服务器&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;服务器端即HOSTA主机&lt;/strong&gt;,设置nginx为HTTP代理服务器上网，只需要3步，分别为安装nginx、配置nginx、修改OpenWrt 防火墙。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1、登录OpenWrt 安装nginx&lt;/strong&gt;&lt;br&gt;在windows下使用SSH工具，如&lt;a href=&quot;http://www.chiark.greenend.org.uk/~sgtatham/putty/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Putty&lt;/a&gt;等，在Host name 填写192.168.1.1，端口22 ，然后点击 Open.&lt;br&gt;&lt;img src=&quot;/images/ubuntu/openwrt/putty.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;在linux下，打开终端输入&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;ssh&lt;/span&gt; root@&lt;span class=&quot;number&quot;&gt;192.168.1.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;输人密码（默认 admin）登陆,如下图所示s&lt;br&gt;&lt;img src=&quot;/images/ubuntu/openwrt/welcome.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;使用opkg安装 nginx ,输入下面的指令&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;opkg &lt;span class=&quot;keyword&quot;&gt;update&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;opkg &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; nginx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2、配置 nginx&lt;/strong&gt;&lt;br&gt;这里我们首先将nginx原本配置文件&lt;code&gt;nginx.conf&lt;/code&gt;备份为&lt;code&gt;nginx.conf.backup&lt;/code&gt;，后修改里面的内容，配置为HTTP反向代理模式，选择8080为服务监听端口。&lt;br&gt;&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;cd&lt;/span&gt; /etc/nginx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;cp&lt;/span&gt; nginx.&lt;span class=&quot;keyword&quot;&gt;conf&lt;/span&gt; nginx.&lt;span class=&quot;keyword&quot;&gt;conf&lt;/span&gt;.backup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;vi&lt;/span&gt; nginx.&lt;span class=&quot;keyword&quot;&gt;conf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;将下面的内容替换&lt;code&gt;nginx.conf&lt;/code&gt;中默认的内容&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;user&lt;/span&gt; nobody nogroup;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;worker_processes&lt;/span&gt;  &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;events&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;worker_connections&lt;/span&gt;  &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;http&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;#include       mime.types;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;#default_type  application/octet-stream;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;#log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;#                  &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;#                  &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;sendfile&lt;/span&gt;        &lt;span class=&quot;literal&quot;&gt;on&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;#tcp_nopush     on;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;keepalive_timeout&lt;/span&gt;  &lt;span class=&quot;number&quot;&gt;65&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;gzip&lt;/span&gt;  &lt;span class=&quot;literal&quot;&gt;on&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;#include /etc/nginx/conf.d/*.conf;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;resolver&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;114.114.114.114&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;section&quot;&gt;server&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;listen&lt;/span&gt;       &lt;span class=&quot;number&quot;&gt;8080&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;location&lt;/span&gt; / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              &lt;span class=&quot;attribute&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$scheme&lt;/span&gt;://&lt;span class=&quot;variable&quot;&gt;$http_host&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$request_uri&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;修改完成后，按　esc ，输入&lt;code&gt;：wq!&lt;/code&gt; 保存&lt;br&gt;紧接着，启动nginx&lt;br&gt;&lt;figure class=&quot;highlight dos&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; /etc/init.d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./nginx &lt;span class=&quot;built_in&quot;&gt;start&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3、修改OpenWrt 防火墙&lt;/strong&gt;&lt;br&gt;由于OpenWrt wan口防火墙默认禁止入站数据，这里我们需要改为&lt;code&gt;ACCEPT&lt;/code&gt;。在OpenWrt LuCI 界面中修改防火期设置。&lt;/p&gt;
&lt;p&gt;打开浏览器，输入&lt;code&gt;192.168.1.1&lt;/code&gt; ，账号默认为root,默认密码admin。依次选择网络 -&amp;gt; 防火墙&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/openwrt/firewall.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;使你的设置同绿框中标明的那样，然后点击&lt;code&gt;保存&amp;amp;应用&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;略过此步，使用windows 网络 -&amp;gt;疑难解答,你将会看到&lt;strong&gt;该设备或资源(Web 代理)未设置为接受端口’8080’上的连接&lt;/strong&gt;的错误提示，如下&lt;br&gt;&lt;img src=&quot;/images/ubuntu/openwrt/reject-detail.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;设置浏览器的代理-以IE为例&quot;&gt;&lt;a href=&quot;#设置浏览器的代理-以IE为例&quot; class=&quot;headerlink&quot; title=&quot;设置浏览器的代理(以IE为例)&quot;&gt;&lt;/a&gt;设置浏览器的代理(以IE为例)&lt;/h3&gt;&lt;p&gt;设置HOSTB为http全局代理，以windows平台为例，在控制面板 -&amp;gt; Internet选项 -&amp;gt; 连接 -&amp;gt; 局域网设置 -&amp;gt; 代理服务器&lt;/p&gt;
&lt;p&gt;填写IP(这里我们填写HOSTA 的IP，即110.1.1.65)和Port(即nginx 监听端口8080)即可。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/openwrt/client-config.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;注明：&lt;strong&gt;nginx不支持https正向代理&lt;/strong&gt; 因为nginx不支持CONNECT，所以无法正向代理https网站。&lt;/p&gt;
&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/guowenyan001/article/details/22718179&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Nginx：设置为HTTP代理服务器上网&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/xshrim/p/5934032.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;局域网下通过代理实现服务器的互联网访问&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/aa120515692/article/details/46917637&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;openwrt 防火墙设置 /etc/config/firewall&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://sslbucket-a.akamaihd.net/www.opswat.com/images/blog/web-proxy-diagram-new.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; cl
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>naoqi ros 开发环境搭建</title>
    <link href="http://blog.mindcont.com/2016/12/14/ros-naoqi-ubuntu/"/>
    <id>http://blog.mindcont.com/2016/12/14/ros-naoqi-ubuntu/</id>
    <published>2016-12-14T08:47:33.000Z</published>
    <updated>2016-12-14T11:18:30.778Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/hero_product.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;ROS( robot operating system) 是一款开源的面向与机器人控制领域的操作系统，起源于2007斯坦福大学人工智能实验室的项目与机器人技术公司Willow Garage 的个人机器人项目之间的合作，2008年之后由Willow Garage 推动，2010 年该公司将其开源，2015年，ros 发布了Jade 版本。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.mindcont.com/2016/12/14/naoqi-robot-sdk-ubuntu/&quot;&gt;书接上回&lt;/a&gt;，下面我将带您一览ros和naoqi robot 在ubuntu 14.04(lts)版本下开发环境的搭建。&lt;/p&gt;
&lt;h3 id=&quot;安装-ros-indigo-desktop&quot;&gt;&lt;a href=&quot;#安装-ros-indigo-desktop&quot; class=&quot;headerlink&quot; title=&quot;安装 ros-indigo-desktop&quot;&gt;&lt;/a&gt;安装 ros-indigo-desktop&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;1、 配置 Ubuntu 软件仓库&lt;br&gt;配置你的 Ubuntu 软件仓库(repositories) 以允许 “restricted”、”universe” 和 “multiverse”这三种安装模式。 你可以 &lt;a href=&quot;https://help.ubuntu.com/community/Repositories/Ubuntu&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;按照ubuntu中的配置指南&lt;/a&gt;来完成配置。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/ubuntu-repositories-config.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;2、 添加 sources.list&lt;br&gt;配置你的电脑使其能够安装来自 packages.ros.org的软件。 ROS Indigo 仅 支持 Saucy (13.10) 和 Trusty (14.04)。&lt;/p&gt;
&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[官方]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo &lt;span class=&quot;keyword&quot;&gt;sh&lt;/span&gt; -c &#39;echo &lt;span class=&quot;string&quot;&gt;&quot;deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main&quot;&lt;/span&gt; &amp;gt; /etc/apt/sources.&lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;d&lt;/span&gt;/ros-latest.&lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt;&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[国内镜像]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo &lt;span class=&quot;keyword&quot;&gt;sh&lt;/span&gt; -c &#39;. /etc/lsb-release &amp;amp;&amp;amp; echo &lt;span class=&quot;string&quot;&gt;&quot;deb http://mirrors.ustc.edu.cn/ros/ubuntu/ $DISTRIB_CODENAME main&quot;&lt;/span&gt; &amp;gt; /etc/apt/sources.&lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;d&lt;/span&gt;/ros-latest.&lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt;&#39;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;注&lt;/strong&gt;：强烈建议使用国内或者新加坡的镜像源，这样能够大大提高安装下载速度。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;3、 添加 keys&lt;/p&gt;
&lt;figure class=&quot;highlight q&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;built_in&quot;&gt;key&lt;/span&gt; adv --keyserver hkp:&lt;span class=&quot;comment&quot;&gt;//ha.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;update&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;4、 桌面版安装： 包含ROS、rqt、rviz以及通用机器人函数库。&lt;/p&gt;
&lt;figure class=&quot;highlight actionscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; install ros-indigo-desktop&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;5、后续环节&lt;/p&gt;
&lt;figure class=&quot;highlight vala&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# 安装　rosinstall&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; install python-rosinstall&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# 初始化 rosdep&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo rosdep init&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rosdep update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# 配置环境变量　Environment setup&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;echo &lt;span class=&quot;string&quot;&gt;&quot;source /opt/ros/indigo/setup.bash&quot;&lt;/span&gt; &amp;gt;&amp;gt; ~/.bashrc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;. ~/.bashrc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;note&lt;/strong&gt;: If you have more than one ROS distribution installed, ~/.bashrc must only source the setup.bash for the version you are currently using.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;启动-ROS-on-a-virtual-NAOqi&quot;&gt;&lt;a href=&quot;#启动-ROS-on-a-virtual-NAOqi&quot; class=&quot;headerlink&quot; title=&quot;启动 ROS on a virtual NAOqi&quot;&gt;&lt;/a&gt;启动 ROS on a virtual NAOqi&lt;/h3&gt;&lt;p&gt;Before starting, please make sure you meet all the required dependencies especially the packages &lt;a href=&quot;http://wiki.ros.org/naoqi_driver&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;naoqi_driver&lt;/a&gt;, &lt;a href=&quot;http://wiki.ros.org/naoqi_bridge&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;naoqi_bridge&lt;/a&gt; and &lt;a href=&quot;http://wiki.ros.org/nao_description&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;nao_description&lt;/a&gt;. You can either install the official releases via your package manager or directly clone the necessary ros packages from github.&lt;/p&gt;
&lt;figure class=&quot;highlight vala&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#时钟同步，用于同步机器人和开发者PC　指令时钟&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; install chrony&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#中间层驱动&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; install ros-indigo-naoqi-driver ros-indigo-naoqi-bridge ros-indigo-nao-description&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# robot 3D meshes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; install ros-indigo-nao-meshes&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;安装 naoqi 为ros提供的中间接口部件&lt;br&gt;The core functionality is implemented in the &lt;a href=&quot;http://wiki.ros.org/nao_robot&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;nao_robot&lt;/a&gt; stack (can be installed on the robot or on a remote PC), extended with further functionality in &lt;a href=&quot;http://wiki.ros.org/nao_extras&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;nao_extras&lt;/a&gt; (should be installed on a remote PC).&lt;br&gt;&lt;figure class=&quot;highlight actionscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; install ros-indigo-nao-robot ros-indigo-nao-extras&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1、运行roscore&lt;/strong&gt;&lt;br&gt;打开命令行窗口，这里我们称它为窗口1&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;roscore&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/roscore.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2、运行naoqi-bin 启动虚拟naoqi&lt;/strong&gt;&lt;br&gt;再打开一个新的命令行窗口，这里我们称它为窗口2&lt;br&gt;&lt;figure class=&quot;highlight accesslog&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;~/naoqi/choregraphe-suite-&lt;span class=&quot;number&quot;&gt;2.1.4.13&lt;/span&gt;-linux64/bin/naoqi-bin --verbose --broker-ip &lt;span class=&quot;number&quot;&gt;127.0.0.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;broker-ip地址127.0.0.1是用于连接到您自己的PC的环回地址。 因此，只有本地ROS可以连接到NAOqi。 NAOqi API可以通过broker-ip地址访问，nao_driver充当NAOqi API的包装器。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/naoqi-bin.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3、然后启动ros_driver包，使ros连接到本地PC上的模拟Naoqi&lt;/strong&gt;&lt;br&gt;再打开一个新的命令行窗口，这里我们称它为窗口3，在新终端中运行：&lt;/p&gt;
&lt;figure class=&quot;highlight xquery&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;LD_LIBRARY_PATH=~/naoqi/choregraphe-suite-&lt;span class=&quot;number&quot;&gt;2.1&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;4.13&lt;/span&gt;-linux64/lib:$LD_LIBRARY_PATH NAO_IP=&lt;span class=&quot;number&quot;&gt;127.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; roslaunch naoqi_driver_py naoqi_driver.launch&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;：不要将此路径添加到.bashrc中的全局LD_LIBRARY_PATH，因为其他事情将会中断。 例如 rviz将无法运行与错误&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/naoqi_driver_launch.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;完整输出如下：&lt;br&gt;&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;... logging to &lt;span class=&quot;regexp&quot;&gt;/home/&lt;/span&gt;pi&lt;span class=&quot;regexp&quot;&gt;/.ros/&lt;/span&gt;log&lt;span class=&quot;regexp&quot;&gt;/873f953c-c1d1-11e6-bfbe-68f728886d0f/&lt;/span&gt;roslaunch-MINDCONT&lt;span class=&quot;number&quot;&gt;-32499.&lt;/span&gt;log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Checking log directory &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; disk usage. This may take awhile.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Press Ctrl-C to interrupt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Done checking log file disk usage. Usage is &amp;lt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;GB.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;started roslaunch server &lt;span class=&quot;string&quot;&gt;http:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//MINDCONT:44778/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SUMMARY&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;========&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PARAMETERS&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* &lt;span class=&quot;regexp&quot;&gt;/naoqi_joint_states/&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;use_odometry:&lt;/span&gt; True&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* /&lt;span class=&quot;string&quot;&gt;rosdistro:&lt;/span&gt; indigo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;* /&lt;span class=&quot;string&quot;&gt;rosversion:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1.11&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.20&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NODES&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; /&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   nao_logger (naoqi_driver_py/naoqi_logger.py)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   naoqi_joint_states (naoqi_driver_py/naoqi_joint_states.py)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   naoqi_moveto (naoqi_driver_py/naoqi_moveto.py)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ROS_MASTER_URI=&lt;span class=&quot;string&quot;&gt;http:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//localhost:11311&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;core service [/rosout] found&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;process[naoqi_joint_states&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;]: started with pid [&lt;span class=&quot;number&quot;&gt;32526&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;process[naoqi_moveto&lt;span class=&quot;number&quot;&gt;-2&lt;/span&gt;]: started with pid [&lt;span class=&quot;number&quot;&gt;32527&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;process[nao_logger&lt;span class=&quot;number&quot;&gt;-3&lt;/span&gt;]: started with pid [&lt;span class=&quot;number&quot;&gt;32528&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[INFO] [&lt;span class=&quot;string&quot;&gt;WallTime:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1481702387.495187&lt;/span&gt;] Connecting to NaoQi at &lt;span class=&quot;number&quot;&gt;127.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;9559&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;32527&lt;/span&gt; qimessaging.&lt;span class=&quot;string&quot;&gt;session:&lt;/span&gt; Session listener created on &lt;span class=&quot;string&quot;&gt;tcp:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//0.0.0.0:0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;32527&lt;/span&gt; qimessaging.&lt;span class=&quot;string&quot;&gt;transportserver:&lt;/span&gt; TransportServer will listen &lt;span class=&quot;string&quot;&gt;on:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;tcp:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//172.17.0.1:34320&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;32527&lt;/span&gt; qimessaging.&lt;span class=&quot;string&quot;&gt;transportserver:&lt;/span&gt; TransportServer will listen &lt;span class=&quot;string&quot;&gt;on:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;tcp:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//192.168.1.123:34320&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;32527&lt;/span&gt; qimessaging.&lt;span class=&quot;string&quot;&gt;transportserver:&lt;/span&gt; TransportServer will listen &lt;span class=&quot;string&quot;&gt;on:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;tcp:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//127.0.0.1:34320&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;至此，你就通过ros -&amp;gt; naoqi_driver -&amp;gt; virtual NAOqi 会话过程的建立，但是还没有可视化过程，下面我们将进行可视化。&lt;/p&gt;
&lt;h3 id=&quot;通过rviz可视化模拟机器人-Nao-robot&quot;&gt;&lt;a href=&quot;#通过rviz可视化模拟机器人-Nao-robot&quot; class=&quot;headerlink&quot; title=&quot;通过rviz可视化模拟机器人 Nao robot&quot;&gt;&lt;/a&gt;通过rviz可视化模拟机器人 Nao robot&lt;/h3&gt;&lt;p&gt;关闭所有的窗口，然后打开一个新的窗口，输入下面的指令&lt;br&gt;&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;roslaunch nao_description display.&lt;span class=&quot;built_in&quot;&gt;launch&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在左上角的“显示”窗口中，将“固定框架”更改为“/ base_link”。如果只有“/ map”选项可用，则不会从上一步加载URDF模型。&lt;br&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/fixed-frame-base_link.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;点击“添加”按钮并添加RobotModel&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/add-robot-model.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;如果一切正常，你会看到一个机器人模型。通过调节右侧的滑块，机器人将做相应的动作。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/naoqi-display.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/turtlebot.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;如果过程中遇到错误和问题，请参考下面的&lt;a href=&quot;http://blog.mindcont.coms/2016/12/14/ros-naoqi-ubuntu/#参考&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考链接&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;本文系作者原创，&lt;strong&gt;转载注明出处 &lt;a href=&quot;http://blog.mindcont.com/2016/12/14/ros-naoqi-ubuntu/&quot;&gt;http://blog.mindcont.com/2016/12/14/ros-naoqi-ubuntu/&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.ros.org/openni/Contests/ROS%203D/Humanoid%20Teleoperation&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Humanoid Teleoperation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.ros.org/nao/Tutorials&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;nao Tutorials&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.ros.org/cturtle/Installation/Ubuntu&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ubuntu install of C turtle&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.ros.org/cn/indigo/Installation/Ubuntu&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;在Ubuntu中安装ROS Indigo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.ros.org/nao&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ros-nao&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.ros.org/nao/Tutorials/Installation&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ros-nao-install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.ros.org/nao/Tutorials/Getting-Started&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Getting started with ROS for Nao&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.ros.org/nao/Tutorials/Getting-Started#Launching_ROS_on_a_virtual_NAOqi&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Launching_ROS_on_a_virtual_NAOqi&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/hero_product.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;ROS( robot operating system) 是一款开源的面向与机器人控制领域的操
    
    </summary>
    
    
      <category term="ros" scheme="http://blog.mindcont.com/tags/ros/"/>
    
  </entry>
  
  <entry>
    <title>naoqi robot 开发环境搭建</title>
    <link href="http://blog.mindcont.com/2016/12/14/naoqi-robot-sdk-ubuntu/"/>
    <id>http://blog.mindcont.com/2016/12/14/naoqi-robot-sdk-ubuntu/</id>
    <published>2016-12-14T02:52:41.000Z</published>
    <updated>2016-12-26T04:41:44.581Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/2016_DEV_PROG_launch_banner_600x360_mailing_V3_EN.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;本文将带您完成naoqi robot SDK 在ubuntu 14.04(lts)下开发环境的配置,这里值得注意的是您不一定需要购买一个naoqi 机器人才能进行开发，这里可以选择使用虚拟机器人，一般开发过程中我们首先将程序指令在虚拟机器人中进行调试，待成功后下载到真实机器人中进行实地运行。&lt;/p&gt;
&lt;h3 id=&quot;安装-naoqi-choregraphe-suite&quot;&gt;&lt;a href=&quot;#安装-naoqi-choregraphe-suite&quot; class=&quot;headerlink&quot; title=&quot;安装　naoqi choregraphe suite&quot;&gt;&lt;/a&gt;安装　naoqi choregraphe suite&lt;/h3&gt;&lt;p&gt;Choregraphe是一个多平台的桌面应用程序，允许您：&lt;/p&gt;
&lt;p&gt;1、创建动画，行为和对话框，&lt;br&gt;2、在模拟机器人上或直接在真实机器人上测试它们，&lt;br&gt;3、监控和控制你的机器人，&lt;br&gt;4、使用自己的Python代码丰富Choregraphe行为。&lt;/p&gt;
&lt;p&gt;由于官方提供的链接国内下载容易失败，这里可以使用笔者已经下载好的文件。&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;wget&lt;/span&gt; ftp://mindcont.com/IoT/Naoqi/Choregraphe/choregraphe-suite-2.1.4.13-linux64.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tar -xvf choregraphe-suite-&lt;span class=&quot;number&quot;&gt;2.1.4.13&lt;/span&gt;-linux64.tar.gz naoqi/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cd ~/naoqi/choregraphe-suite-&lt;span class=&quot;number&quot;&gt;2.1.4.13&lt;/span&gt;-linux64/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./choregraphe&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/choregraphe-license.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;这里先选择试用，当然你可以去&lt;a href=&quot;https://community.ald.softbankrobotics.com/en/developerprogram&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;开发者社区&lt;/a&gt;申请为开发者，可以无限制的免费使用，但同一时间只能有一个　choregraphe运行。&lt;/p&gt;
&lt;p&gt;打开后界面如下,类似于matlab 工具箱中的模块化编程，可以在左下角中选择官方封装好的模块，然后用鼠标拖动到中间区域，连线使之成为一个通路，然后点击上方的绿色三角形，让虚拟机器人开始执行。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/choregraphe.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;通过执行naoqi来检查安装是否成功:&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;cd&lt;/span&gt; ~/naoqi/choregraphe-suite-&lt;span class=&quot;number&quot;&gt;2.1.4.13&lt;/span&gt;-linux64/bin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./naoqi-bin&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;你应该看到类似的输出:&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pi@MINDCONT:~/naoqi/choregraphe-suite-&lt;span class=&quot;number&quot;&gt;2.1&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;4.13&lt;/span&gt;-linux64/bin$ ./naoqi-bin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; core&lt;span class=&quot;selector-class&quot;&gt;.naoqi&lt;/span&gt;: ..::: starting NAOqi version &lt;span class=&quot;number&quot;&gt;2.1&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt; :::..&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; core&lt;span class=&quot;selector-class&quot;&gt;.naoqi&lt;/span&gt;: Copyright (c) &lt;span class=&quot;number&quot;&gt;2005&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;2013&lt;/span&gt;, Aldebaran Robotics&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; core&lt;span class=&quot;selector-class&quot;&gt;.naoqi&lt;/span&gt;: Build tag: jenkins-release-&lt;span class=&quot;number&quot;&gt;2.1&lt;/span&gt;_choregraphe-suite_linux64-&lt;span class=&quot;number&quot;&gt;39&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; qimessaging&lt;span class=&quot;selector-class&quot;&gt;.servicedirectory&lt;/span&gt;: ServiceDirectory listener created on tcp:&lt;span class=&quot;comment&quot;&gt;//0.0.0.0:9559&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; qimessaging&lt;span class=&quot;selector-class&quot;&gt;.transportserver&lt;/span&gt;: TransportServer will listen on: tcp:&lt;span class=&quot;comment&quot;&gt;//172.17.0.1:9559&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; qimessaging&lt;span class=&quot;selector-class&quot;&gt;.transportserver&lt;/span&gt;: TransportServer will listen on: tcp:&lt;span class=&quot;comment&quot;&gt;//192.168.1.123:9559&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; qimessaging&lt;span class=&quot;selector-class&quot;&gt;.transportserver&lt;/span&gt;: TransportServer will listen on: tcp:&lt;span class=&quot;comment&quot;&gt;//127.0.0.1:9559&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; qimessaging&lt;span class=&quot;selector-class&quot;&gt;.servicedirectory&lt;/span&gt;: Registered Service &lt;span class=&quot;string&quot;&gt;&quot;ServiceDirectory&quot;&lt;/span&gt; (#&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; qimessaging&lt;span class=&quot;selector-class&quot;&gt;.servicedirectory&lt;/span&gt;: Registered Service &lt;span class=&quot;string&quot;&gt;&quot;LogManager&quot;&lt;/span&gt; (#&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;．．．．&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;．．．．&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.LongTermMemory&lt;/span&gt;: User database creation succeed&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: No dialog history management&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: AI system enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: BNF confidence &lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: REMOTE confidence &lt;span class=&quot;number&quot;&gt;0.3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Serialization enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Upper SLM &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Enable &lt;span class=&quot;attribute&quot;&gt;auto&lt;/span&gt; update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Push mode &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Enable full speech recognition&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Audio expression enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Smalldisplacement enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Breath enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: No animated speech configuration&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Default volume &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: No dialog history management&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: AI system enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: BNF confidence &lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: REMOTE confidence &lt;span class=&quot;number&quot;&gt;0.3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Serialization enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Upper SLM &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Enable &lt;span class=&quot;attribute&quot;&gt;auto&lt;/span&gt; update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Push mode &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Enable full speech recognition&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Audio expression enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Smalldisplacement enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Breath enabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: No animated speech configuration&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; Dialog&lt;span class=&quot;selector-class&quot;&gt;.preference&lt;/span&gt;: Default volume &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; qimessaging&lt;span class=&quot;selector-class&quot;&gt;.servicedirectory&lt;/span&gt;: Registered Service &lt;span class=&quot;string&quot;&gt;&quot;ALDialog&quot;&lt;/span&gt; (#&lt;span class=&quot;number&quot;&gt;77&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[I] &lt;span class=&quot;number&quot;&gt;27177&lt;/span&gt; core&lt;span class=&quot;selector-class&quot;&gt;.naoqi&lt;/span&gt;: NAOqi is ready...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;安装-naoqi-python-SDK&quot;&gt;&lt;a href=&quot;#安装-naoqi-python-SDK&quot; class=&quot;headerlink&quot; title=&quot;安装　naoqi python SDK&quot;&gt;&lt;/a&gt;安装　naoqi python SDK&lt;/h3&gt;&lt;p&gt;这里我们采用 naoqi 官方提供的python 接口(类似的还可以选择 java 、c++ 步骤类似)，调用封装好的函数，实现自己的功能。我已经下载好windows、mac、linux 各个平台的开发所需的文件，大家可以在&lt;a href=&quot;ftp://mindcont.com/IoT/Naoqi&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ftp://mindcont.com/IoT/Naoqi&lt;/a&gt;自行下载。&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;wget&lt;/span&gt; ftp://mindcont.com/IoT/Naoqi/sdk/python/pynaoqi-python2.7-2.1.4.13-linux64.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tar -xvf pynaoqi-python2.&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;2.1.4.13&lt;/span&gt;-linux64.tar.gz naoqi/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 配置环境变量，在打开的文本中添加下面的内容．注意换成你的路径&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gedit ~/.bashrc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# edit for naoqi python sdk&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;export PYTHONPATH=&lt;span class=&quot;variable&quot;&gt;$&amp;#123;PYTHONPATH&amp;#125;&lt;/span&gt;:/home/pi/naoqi/pynaoqi-python2.&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;2.1.4.13&lt;/span&gt;-linux64/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 保存后，输入下面的指令使其生效&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;source ~/.bashrc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;打开新的命令行窗口，用python 的导入naoqi 包，来测试你的路径是否配置成功。如果没有报错，那麽恭喜你完成了naoqi 机器人的开发环境搭建。&lt;br&gt;&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;python&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;string&quot;&gt; naoqi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/naoqi-python-sdk.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Next&quot;&gt;&lt;a href=&quot;#Next&quot; class=&quot;headerlink&quot; title=&quot;Next&quot;&gt;&lt;/a&gt;Next&lt;/h2&gt;&lt;p&gt;下一步，我们会构建&lt;a href=&quot;http://blog.mindcont.com/2016/12/14/ros-naoqi-ubuntu/&quot;&gt;基于ROS的 naoqi 机器人开发环境&lt;/a&gt;的搭建，欢迎继续关注。&lt;/p&gt;
&lt;p&gt;本文系作者原创，&lt;strong&gt;转载注明出处 &lt;a href=&quot;http://blog.mindcont.com/2016/12/14/naoqi-robot-sdk-ubuntu/&quot;&gt;http://blog.mindcont.com/2016/12/14/naoqi-robot-sdk-ubuntu/&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.ros.org/nao/Tutorials/Getting-Started&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Getting started with ROS for Nao&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://doc.aldebaran.com/1-14/dev/python/install_guide.html#python-install-guide&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Python SDK Install Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://doc.aldebaran.com/2-1/software/choregraphe/choregraphe_overview.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Naoqi Robot Choregraphe doc&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://dn-mindcont.qbox.me/blog/images/ubuntu/ros/2016_DEV_PROG_launch_banner_600x360_mailing_V3_EN.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;本文将带您完成nao
    
    </summary>
    
    
      <category term="ros" scheme="http://blog.mindcont.com/tags/ros/"/>
    
  </entry>
  
  <entry>
    <title>使用OpenWrt打造透明路由</title>
    <link href="http://blog.mindcont.com/2016/11/15/use-shadowsocks-on-openwrt/"/>
    <id>http://blog.mindcont.com/2016/11/15/use-shadowsocks-on-openwrt/</id>
    <published>2016-11-15T12:32:36.000Z</published>
    <updated>2016-11-16T03:32:23.166Z</updated>
    
    <content type="html">&lt;p&gt;Openwrt是用于路由器的高度模块化，高度智能化的嵌入式Linux发行版，具有强大的扩展性，有数百个编译好的软件可供安装。Openwrt版本的Shadowsocks，具有透明代理，UDP转发等功能，透明代理实现流量转发，DNS的污染问题则通过UDP转发解决(DNS查询使用UDP协议)。&lt;/p&gt;
&lt;h2 id=&quot;前提&quot;&gt;&lt;a href=&quot;#前提&quot; class=&quot;headerlink&quot; title=&quot;前提&quot;&gt;&lt;/a&gt;前提&lt;/h2&gt;&lt;p&gt;本方案实施的前提条件：一台支持刷为Openwrt的路由器，一台PC机，Shadowscosks账号。&lt;/p&gt;
&lt;h2 id=&quot;思路&quot;&gt;&lt;a href=&quot;#思路&quot; class=&quot;headerlink&quot; title=&quot;思路&quot;&gt;&lt;/a&gt;思路&lt;/h2&gt;&lt;p&gt;本方案翻墙流程大致如下：客户端发出某域名的DNS请求–&amp;gt;chinadns解析–&amp;gt;解析到的IP存入ipset表中–&amp;gt;设置iptables规则，ipset表中的ip地址全部走SS代理端口–&amp;gt;正常浏览被墙网站。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;路由器网络(Network)-&amp;gt;DHCP and DNS 即（dnsmasq进程）将所有的dns解析任务转发到本地127.0.0.1:5353 端口&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;chinadns 监听本地5353端口，分别对国内IP和国外Ip双向过滤，并向它的上一级请求219.149.6.99（ISP供应商）和8.8.8.8（谷歌DNS）,从而实现国内国外走不同的线路。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;再配置ipset表和iptables规则，将解析到的IP存入ipset表中–设置iptables规则，ipset表中的ip地址（即dnsmasq.d/dnsmasq_list.conf.conf文件中的地址）全部走SS代理端口(如本地1080端口)–正常浏览被墙网站。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;而这里的shadowsocks中的ss-redir 负责监听本地端口1080，负责将收到的包经由ss，加密socks代理至ss服务器。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;配置&quot;&gt;&lt;a href=&quot;#配置&quot; class=&quot;headerlink&quot; title=&quot;配置&quot;&gt;&lt;/a&gt;配置&lt;/h2&gt;&lt;h3 id=&quot;安装shasowsocks和chinadns&quot;&gt;&lt;a href=&quot;#安装shasowsocks和chinadns&quot; class=&quot;headerlink&quot; title=&quot;安装shasowsocks和chinadns&quot;&gt;&lt;/a&gt;安装shasowsocks和chinadns&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/images/ubuntu/openwrt/shadowsocks-install.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;chinadns 的安装过程类似。&lt;/p&gt;
&lt;h3 id=&quot;配置Shadowsocks&quot;&gt;&lt;a href=&quot;#配置Shadowsocks&quot; class=&quot;headerlink&quot; title=&quot;配置Shadowsocks&quot;&gt;&lt;/a&gt;配置Shadowsocks&lt;/h3&gt;&lt;p&gt;在windows下使用SSH工具，如&lt;a href=&quot;http://www.chiark.greenend.org.uk/~sgtatham/putty/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Putty&lt;/a&gt;等，在Host name 填写192.168.1.1，端口22 ，然后点击 Open.&lt;br&gt;&lt;img src=&quot;/images/ubuntu/openwrt/putty.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;在linux下，打开终端输入&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;ssh&lt;/span&gt; root@&lt;span class=&quot;number&quot;&gt;192.168.1.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;输人密码（默认 admin）登陆,如下图所示&lt;br&gt;&lt;img src=&quot;/images/ubuntu/openwrt/welcome.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;配置 /etc/shadowsocks.json：运行命令vi /etc/shadowsocks.json，格式如下：&lt;/p&gt;
&lt;figure class=&quot;highlight 1c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;server&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;X.X.X.X&quot;&lt;/span&gt;,    &lt;span class=&quot;meta&quot;&gt;#这里填写你的SS服务器IP&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;server_port&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;443&lt;/span&gt;,     &lt;span class=&quot;meta&quot;&gt;#SS服务器端口&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;local_port&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1080&lt;/span&gt;,     &lt;span class=&quot;meta&quot;&gt;#本地端口1080&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;password&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;password&quot;&lt;/span&gt;, &lt;span class=&quot;meta&quot;&gt;# 密码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;timeout&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;,          &lt;span class=&quot;meta&quot;&gt;# 超时时间&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;method&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;chacha20&quot;&lt;/span&gt;    &lt;span class=&quot;meta&quot;&gt;# 加密方式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;按　esc ，输入：wq! 保存&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;修改 /etc/init.d/shadowsocks，通过指令vi /etc/init.d/shadowsocks 注释掉ss-local，取消掉ss-redir（透明代理）。格式如下：&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#!/bin/sh /etc/rc&lt;span class=&quot;selector-class&quot;&gt;.common&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;START=&lt;span class=&quot;number&quot;&gt;95&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SERVICE_USE_PID=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SERVICE_WRITE_PID=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SERVICE_DAEMONIZE=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CONFIG=/etc/shadowsocks&lt;span class=&quot;selector-class&quot;&gt;.json&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;selector-id&quot;&gt;#service_start&lt;/span&gt; /usr/bin/ss-local -c &lt;span class=&quot;variable&quot;&gt;$CONFIG&lt;/span&gt; -&lt;span class=&quot;selector-tag&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        service_start /usr/bin/ss-redir -c &lt;span class=&quot;variable&quot;&gt;$CONFIG&lt;/span&gt; -&lt;span class=&quot;selector-tag&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;selector-id&quot;&gt;#service_start&lt;/span&gt; /usr/bin/ss-tunnel -c &lt;span class=&quot;variable&quot;&gt;$CONFIG&lt;/span&gt; -&lt;span class=&quot;selector-tag&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0.0&lt;/span&gt; -l &lt;span class=&quot;number&quot;&gt;5353&lt;/span&gt; -L &lt;span class=&quot;number&quot;&gt;8.8&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;8.8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;selector-id&quot;&gt;#service_stop&lt;/span&gt; /usr/bin/ss-local&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        service_stop /usr/bin/ss-redir&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;selector-id&quot;&gt;#service_stop&lt;/span&gt; /usr/bin/ss-tunnel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;按　esc ，输入：wq! 保存&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;配置dnsmasq和ipset&quot;&gt;&lt;a href=&quot;#配置dnsmasq和ipset&quot; class=&quot;headerlink&quot; title=&quot;配置dnsmasq和ipset&quot;&gt;&lt;/a&gt;配置dnsmasq和ipset&lt;/h3&gt;&lt;p&gt;修改 /etc/dnsmasq.conf&lt;br&gt;&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;cd&lt;/span&gt; /etc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ls&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;vi&lt;/span&gt; dnsmasq.&lt;span class=&quot;keyword&quot;&gt;conf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在文本末尾填写如下内容&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# add &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; dnsmasq config &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;&lt;span class=&quot;regexp&quot;&gt;/11/&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;                              &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;conf-dir=&lt;span class=&quot;regexp&quot;&gt;/etc/&lt;/span&gt;dnsmasq.d  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;按　esc ，输入：wq! 保存&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;新建并进入目录 /etc/dnsmasq.d，下载&lt;a href=&quot;http://pan.baidu.com/s/1pKl8AgV&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;dnsmasq_list.conf&lt;/a&gt;并放在该目录下（本人仅添加了谷歌，Youtube，脸书，推特等等常用域名，该列表持续更新中。注意域名太多反而会影响dnsmasq的性能！）。&lt;br&gt;&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;mkdir&lt;/span&gt; dnsmasq.&lt;span class=&quot;built_in&quot;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;cd&lt;/span&gt; dnsmasq.&lt;span class=&quot;built_in&quot;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# 将下载的dnsmasq_list.&lt;span class=&quot;keyword&quot;&gt;conf&lt;/span&gt; 放到dnsmasq.&lt;span class=&quot;keyword&quot;&gt;d&lt;/span&gt; 目录下&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# windows 下可通过winscp 工具上传&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# linux 下通过  scp pi@192.168.113:/home/pi/dnsmasq_list.&lt;span class=&quot;keyword&quot;&gt;conf&lt;/span&gt; .&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;Luci界面配置&quot;&gt;&lt;a href=&quot;#Luci界面配置&quot; class=&quot;headerlink&quot; title=&quot;Luci界面配置&quot;&gt;&lt;/a&gt;Luci界面配置&lt;/h3&gt;&lt;p&gt;这一部分我们通过openwrt 的web管理界面进行配置。在浏览器输入 192.168.1.1 登录路由器管理界面，默认账户root 默认密码：admin。&lt;/p&gt;
&lt;h4 id=&quot;配置路由器DNS-dnsmasq&quot;&gt;&lt;a href=&quot;#配置路由器DNS-dnsmasq&quot; class=&quot;headerlink&quot; title=&quot;配置路由器DNS(dnsmasq)&quot;&gt;&lt;/a&gt;配置路由器DNS(dnsmasq)&lt;/h4&gt;&lt;p&gt;进入网络(Network)-&amp;gt;DHCP and DNS。&lt;br&gt;将DNS解析端口设置为127.0.0.1#5353。这将使得路由器将DNS请求经由dnsmasq全部转发至ChinaDNS处理。&lt;br&gt;&lt;img src=&quot;/images/ubuntu/openwrt/dhcp.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;勾选“忽略解析文件”(ignore resolve file), 保存并应用&lt;br&gt;&lt;img src=&quot;/images/ubuntu/openwrt/dhcp_hosts.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;ChinaDNS配置&quot;&gt;&lt;a href=&quot;#ChinaDNS配置&quot; class=&quot;headerlink&quot; title=&quot;ChinaDNS配置&quot;&gt;&lt;/a&gt;ChinaDNS配置&lt;/h4&gt;&lt;p&gt;在路由器web管理页面，进入服务(Services)-&amp;gt;ChinaDNS&lt;br&gt;本地端口写5353，中国路由表(CHNRoute File)填/etc/chinadns_chnroute.txt&lt;br&gt;上游DNS服务器填114.114.114.114,.8.8.8.8。（可将114.114.114.114改成当前ISP提供的DNS服务器IP）&lt;br&gt;保存并应用&lt;br&gt;&lt;img src=&quot;/images/ubuntu/openwrt/chinadns.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;这样设置后，从内网主机端发出的国外DNS请求将发送至：dnsmasq-&amp;gt;ChinaDNS-&amp;gt;8.8.8.8，&lt;br&gt;国内DNS请求则：dnsmasq-&amp;gt;ChinaDNS-&amp;gt;114.114.114（或你的ISP供应商的DNS）。&lt;/p&gt;
&lt;h4 id=&quot;shadowsocks-配置&quot;&gt;&lt;a href=&quot;#shadowsocks-配置&quot; class=&quot;headerlink&quot; title=&quot;shadowsocks 配置&quot;&gt;&lt;/a&gt;shadowsocks 配置&lt;/h4&gt;&lt;p&gt;进入服务(Services)-&amp;gt;ShadowSocks 。访问控制－&amp;gt;接口-WAN 被忽略的IP 列表选择 chinadns路由表,保存并应用。&lt;br&gt;&lt;img src=&quot;/images/ubuntu/openwrt/shadowsocks_udp.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;自定义防火墙&quot;&gt;&lt;a href=&quot;#自定义防火墙&quot; class=&quot;headerlink&quot; title=&quot;自定义防火墙&quot;&gt;&lt;/a&gt;自定义防火墙&lt;/h4&gt;&lt;p&gt;进入Luci界面-网络-防火墙-自定义规则，加入以下规则（最后的1080是Shadowsocks的本地端口，请酌情修改）：&lt;br&gt;&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ipset -&lt;span class=&quot;keyword&quot;&gt;N&lt;/span&gt; gfwlist iphash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;iptables -t nat -A PREROUTING -&lt;span class=&quot;keyword&quot;&gt;p&lt;/span&gt; tcp -&lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; --&lt;span class=&quot;keyword&quot;&gt;match&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; gfwlist dst -&lt;span class=&quot;keyword&quot;&gt;j&lt;/span&gt; REDIRECT --&lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt;-port &lt;span class=&quot;number&quot;&gt;1080&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;iptables -t nat -A OUTPUT -&lt;span class=&quot;keyword&quot;&gt;p&lt;/span&gt; tcp -&lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; --&lt;span class=&quot;keyword&quot;&gt;match&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; gfwlist dst -&lt;span class=&quot;keyword&quot;&gt;j&lt;/span&gt; REDIRECT --&lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt;-port &lt;span class=&quot;number&quot;&gt;1080&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如下图所示&lt;br&gt;&lt;img src=&quot;/images/ubuntu/openwrt/iptable.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;调试&quot;&gt;&lt;a href=&quot;#调试&quot; class=&quot;headerlink&quot; title=&quot;调试&quot;&gt;&lt;/a&gt;调试&lt;/h3&gt;&lt;p&gt;路由器&lt;strong&gt;重启后&lt;/strong&gt;，即可无界访问了。如果遇到问题，请打开&lt;strong&gt;下面的参考链接&lt;/strong&gt;。可以通过　netstat -nl 查看当前活动的链接，看看相应的端口是否已经打开。&lt;br&gt;&lt;figure class=&quot;highlight dns&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;root@DEEPMIND:~# netstat -nl&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Active Internet connections (only servers)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Proto Recv-Q Send-Q Local Address           Foreign Address         State       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;139&lt;/span&gt;             &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*               LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;80&lt;/span&gt;              &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*               LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;53&lt;/span&gt;              &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*               LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;22&lt;/span&gt;              &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*               LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;1080&lt;/span&gt;            &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*               LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;445&lt;/span&gt;             &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*               LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; :&lt;span class=&quot;number&quot;&gt;::139&lt;/span&gt;                  :::*                    LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; :&lt;span class=&quot;number&quot;&gt;::80&lt;/span&gt;                   :::*                    LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; :&lt;span class=&quot;number&quot;&gt;::53&lt;/span&gt;                   :::*                    LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; :&lt;span class=&quot;number&quot;&gt;::22&lt;/span&gt;                   :::*                    LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tcp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; :&lt;span class=&quot;number&quot;&gt;::445&lt;/span&gt;                  :::*                    LISTEN      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 127.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;1:53001&lt;/span&gt;         &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;53&lt;/span&gt;              &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;67&lt;/span&gt;              &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0:35696&lt;/span&gt;           &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 192.168.1&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;255:137&lt;/span&gt;       &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 192.168.1&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;137&lt;/span&gt;         &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;137&lt;/span&gt;             &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 192.168.1&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;255:138&lt;/span&gt;       &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 192.168.1&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;138&lt;/span&gt;         &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;138&lt;/span&gt;             &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;5353&lt;/span&gt;            &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0:54250&lt;/span&gt;           &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*                           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; :&lt;span class=&quot;number&quot;&gt;::547&lt;/span&gt;                  :::*                                &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;udp        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; :&lt;span class=&quot;number&quot;&gt;::53&lt;/span&gt;                   :::*                                &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;raw        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0 0.0.0&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;               &lt;span class=&quot;number&quot;&gt;0.0.0.0&lt;/span&gt;:*               &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;           &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;raw        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; ::%&lt;span class=&quot;number&quot;&gt;4559988:58&lt;/span&gt;           :::*                    &lt;span class=&quot;number&quot;&gt;58&lt;/span&gt;          &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;raw        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; ::%&lt;span class=&quot;number&quot;&gt;4559988:58&lt;/span&gt;           :::*                    &lt;span class=&quot;number&quot;&gt;58&lt;/span&gt;          &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Active UNIX domain sockets (only servers)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Proto RefCnt Flags       Type       State         I-Node Path&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;unix  &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;      [ ACC ]     STREAM     LISTENING       &lt;span class=&quot;number&quot;&gt;2315&lt;/span&gt; /var/nmbd/unexpected&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;unix  &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;      [ ACC ]     STREAM     LISTENING        &lt;span class=&quot;number&quot;&gt;379&lt;/span&gt; /var/run/ubus.sock&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;通过　top 查看当前活动进程。下图是我配置好以后的运行进程。&lt;br&gt;&lt;figure class=&quot;highlight cos&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Mem: &lt;span class=&quot;number&quot;&gt;26204&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;K&lt;/span&gt; used, &lt;span class=&quot;number&quot;&gt;3300&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;K&lt;/span&gt; free, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;K&lt;/span&gt; shrd, &lt;span class=&quot;number&quot;&gt;1908&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;K&lt;/span&gt; buff, &lt;span class=&quot;number&quot;&gt;6840&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;K&lt;/span&gt; cached&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CPU:   &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;% usr   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% sys   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% nic  &lt;span class=&quot;number&quot;&gt;96&lt;/span&gt;% idle   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% io   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% irq   &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;% sirq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Load average: &lt;span class=&quot;number&quot;&gt;0.00&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0.01&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0.05&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;number&quot;&gt;45&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;11322&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  PID  PPID USER     STAT   VSZ &lt;span class=&quot;built_in&quot;&gt;%VSZ&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;%CPU&lt;/span&gt; COMMAND&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;number&quot;&gt;1891&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1732&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;% /usr/sbin/hostapd -P /var/run/wifi-ph&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;916&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1544&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /sbin/netifd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;11309&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;993&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1216&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/sbin/dropbear -F -P /var/run/dro&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;number&quot;&gt;1574&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1484&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% &amp;#123;mwan3track&amp;#125; /bin/sh /usr/sbin/mwan3t&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;11320&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;11312&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;R&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1484&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% top&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;882&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1048&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /sbin/logd -&lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;number&quot;&gt;1413&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;      &lt;span class=&quot;number&quot;&gt;832&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/bin/chinadns -p &lt;span class=&quot;number&quot;&gt;5353&lt;/span&gt; -&lt;span class=&quot;keyword&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;219.149&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;number&quot;&gt;1387&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;8912&lt;/span&gt;  &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/sbin/collectd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;number&quot;&gt;1325&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;3180&lt;/span&gt;  &lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/sbin/nmbd -&lt;span class=&quot;keyword&quot;&gt;D&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;number&quot;&gt;1323&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;3088&lt;/span&gt;  &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/sbin/smbd -&lt;span class=&quot;keyword&quot;&gt;D&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;number&quot;&gt;1434&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;3040&lt;/span&gt;  &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/bin/ss-redir -c /etc/shadowsocks&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;number&quot;&gt;1371&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; nobody   &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;2068&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/sbin/dnsmasq -C /var/etc/dnsmasq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;number&quot;&gt;1028&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1580&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/sbin/uhttpd -f -&lt;span class=&quot;keyword&quot;&gt;h&lt;/span&gt; /www -&lt;span class=&quot;keyword&quot;&gt;r&lt;/span&gt; OpenWr&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;number&quot;&gt;1463&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1484&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/sbin/ntpd -n -p &lt;span class=&quot;number&quot;&gt;0.&lt;/span&gt;openwrt.pool.n&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;975&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1484&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/sbin/crond -f -c /etc/crontabs -&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;11312&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;11309&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1484&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% -ash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;11322&lt;/span&gt;  &lt;span class=&quot;number&quot;&gt;1574&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1472&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% sleep &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1420&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /sbin/procd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;953&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1184&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/sbin/odhcpd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;993&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; root     &lt;span class=&quot;keyword&quot;&gt;S&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;1148&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;%   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;% /usr/sbin/dropbear -F -P /var/run/dro&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://php-rmcr7.rhcloud.com/openwrt-fq/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;教你如何实现Openwrt路由器智能翻墙&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://undownding.me/2015/02/10/use-shadowsocks-on-openwrt/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;在 OpenWRT 上使用 ShadowSocks 建立透明代理&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.chionlab.moe/2016/01/23/openwrt-bypass-gfw-solution/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;OpenWRT路由器上的ShadowSocks+ChinaDNS搭梯子方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.logcg.com/archives/860.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;路由器刷OpenWRT安装shadowsocks使用透明代理+去DNS污染&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.logcg.com/archives/868.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;路由器刷OpenWRT使用ShadowSocks透明代理进阶配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.shintaku.cc/2016/06/01/chinadns/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ChinaDNS+ShadowSocks实现路由器透明代理&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Openwrt是用于路由器的高度模块化，高度智能化的嵌入式Linux发行版，具有强大的扩展性，有数百个编译好的软件可供安装。Openwrt版本的Shadowsocks，具有透明代理，UDP转发等功能，透明代理实现流量转发，DNS的污染问题则通过UDP转发解决(DNS查询使用
    
    </summary>
    
    
      <category term="树莓派" scheme="http://blog.mindcont.com/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
  </entry>
  
  <entry>
    <title>发布自己的软件包存档</title>
    <link href="http://blog.mindcont.com/2016/11/13/ppa/"/>
    <id>http://blog.mindcont.com/2016/11/13/ppa/</id>
    <published>2016-11-13T11:45:31.000Z</published>
    <updated>2016-11-13T13:28:13.826Z</updated>
    
    <content type="html">&lt;p&gt;PPA，或是Personal Package Archive（个人软件包存档），是默认情况下并未被包含在Ubuntu中的软件的一个集合。使用个人包存档（PPA），您可以直接向Ubuntu用户分发软件和更新。&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;创建你的源码包，上传它，Launchpad将构建二进制文件，然后将它们托管在您自己的apt存储库中。 这意味着Ubuntu用户可以安装您的软件包，就像安装标准Ubuntu软件包一样，他们会自动接收更新。&lt;/p&gt;
&lt;p&gt;Launchpad中的每个个人和团队都可以拥有一个或多个PPA，每个PPA都有自己的URL。 您在PPA中发布的软件包将保留在那里，直到您删除它们，它们将被您上传的另一个软件包或其所构建的Ubuntu版本所取代。&lt;/p&gt;
&lt;h2 id=&quot;前期准备&quot;&gt;&lt;a href=&quot;#前期准备&quot; class=&quot;headerlink&quot; title=&quot;前期准备&quot;&gt;&lt;/a&gt;前期准备&lt;/h2&gt;&lt;p&gt;而创建一个属于自己维护的PPA，大致包括一下流程：创建自己的GPG KEY密钥(用于对软件包认证和签名)，SSH KEY,创建launchpad账户并配置密钥，安装打包环境，编写软件包，打包测试，对生成的软件包认证，最后上传到launchpad。下面我将逐步的介绍。&lt;/p&gt;
&lt;h3 id=&quot;安装打包需要的软件环境&quot;&gt;&lt;a href=&quot;#安装打包需要的软件环境&quot; class=&quot;headerlink&quot; title=&quot;安装打包需要的软件环境&quot;&gt;&lt;/a&gt;安装打包需要的软件环境&lt;/h3&gt;&lt;p&gt;Ubuntu 11.10之前&lt;br&gt;&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt; install gnupg pbuilder ubuntu-dev-tools bzr-builddeb apt-&lt;span class=&quot;built_in&quot;&gt;file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ubuntu 11.10之后，可以通过如下命令安装：&lt;br&gt;&lt;figure class=&quot;highlight q&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; install packaging-&lt;span class=&quot;built_in&quot;&gt;dev&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;创建自己的GPG-key&quot;&gt;&lt;a href=&quot;#创建自己的GPG-key&quot; class=&quot;headerlink&quot; title=&quot;创建自己的GPG key&quot;&gt;&lt;/a&gt;创建自己的GPG key&lt;/h3&gt;&lt;p&gt;1991年，程序员&lt;a href=&quot;http://en.wikipedia.org/wiki/Phil_Zimmermann&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Phil Zimmermann&lt;/a&gt;为了避开政府监视，开发了加密软件PGP。这个软件非常好用，迅速流传开来，成了许多程序员的必备工具。但是，它是商业软件，不能自由使用。所以，自由软件基金会决定，开发一个PGP的替代品，取名为GnuPG。这就是GPG的由来。&lt;/p&gt;
&lt;p&gt;如果想要将软件包上传到launchpad.net，就必须使用gpg签名。要配置gpg，可以参考gpp官网上的&lt;a href=&quot;http://www.gnupg.org/howtos/zh/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;袖珍说明书&lt;/a&gt;。&lt;strong&gt;注意&lt;/strong&gt;，过程中会要求你输入一个加密密码，一定要记住，不要乱写！！！&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;gpg &lt;span class=&quot;comment&quot;&gt;--gen-key&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/ppa/gpgkey.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;之后你应该会看到如下信息：&lt;br&gt;&lt;figure class=&quot;highlight dns&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pub   &lt;span class=&quot;number&quot;&gt;2048&lt;/span&gt;R/AA08D&lt;span class=&quot;number&quot;&gt;2A8 2014&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;03&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       密钥指纹 = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;EAC &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;E2F &lt;span class=&quot;number&quot;&gt;5507&lt;/span&gt; E388 E316  &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;AD9 F&lt;span class=&quot;number&quot;&gt;894 2D76&lt;/span&gt; AA08 D2A8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;uid                  zhangxin (openyoudao) &amp;lt;justzx2011@gmail.com&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sub   &lt;span class=&quot;number&quot;&gt;2048&lt;/span&gt;R/&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;A54FE&lt;span class=&quot;number&quot;&gt;05 2014-03&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;其中AA08D2A8是生成的key&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;将key的公共部分上传到key server，这样全世界的开发者就可以根据你的key来识别你的信息和文件&lt;br&gt;&lt;figure class=&quot;highlight brainfuck&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;gpg&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;keys&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;keyserver&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;keyserver&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;ubuntu&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;com&lt;/span&gt; &amp;lt;&lt;span class=&quot;comment&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;ID&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;这里的&lt;/span&gt;&amp;lt;&lt;span class=&quot;comment&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;ID&lt;/span&gt;&amp;gt;&lt;span class=&quot;comment&quot;&gt;　用你的　pub&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;字段中　2048R/****　中的****替换，如下例所示&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;gpg&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;keys&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;keyserver&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;keyserver&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;ubuntu&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;com&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;AA08D2A8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;创建你的ssh-key&quot;&gt;&lt;a href=&quot;#创建你的ssh-key&quot; class=&quot;headerlink&quot; title=&quot;创建你的ssh key&quot;&gt;&lt;/a&gt;创建你的ssh key&lt;/h3&gt;&lt;p&gt;ssh 代表安全的shell ,这里用来安全的把文件上传到PPA发布平台&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ssh-keygen -t rsa&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;创建pbuilder&quot;&gt;&lt;a href=&quot;#创建pbuilder&quot; class=&quot;headerlink&quot; title=&quot;创建pbuilder&quot;&gt;&lt;/a&gt;创建pbuilder&lt;/h3&gt;&lt;p&gt;pbuilder 是允许开发者在本地创建PPA包的工具&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;如果是&lt;span class=&quot;selector-tag&quot;&gt;Ubuntu&lt;/span&gt; 13&lt;span class=&quot;selector-class&quot;&gt;.04&lt;/span&gt; (代号 &lt;span class=&quot;selector-tag&quot;&gt;Raring&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;Ringtail&lt;/span&gt;)，所以执行如下命令&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;pbuilder-dist&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;raring&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;create&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;如果是&lt;span class=&quot;selector-tag&quot;&gt;Ubuntu&lt;/span&gt; 14&lt;span class=&quot;selector-class&quot;&gt;.04&lt;/span&gt; (代号 &lt;span class=&quot;selector-tag&quot;&gt;Trusty&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;Tahr&lt;/span&gt;)，则执行：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;pbuilder-dist&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;trusty&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;create&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;之后便是漫长的等待…..&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/ppa/pbuilder.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;创建Launchpad账户&quot;&gt;&lt;a href=&quot;#创建Launchpad账户&quot; class=&quot;headerlink&quot; title=&quot;创建Launchpad账户&quot;&gt;&lt;/a&gt;创建Launchpad账户&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://login.launchpad.net/+new_account&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官网注册&lt;/a&gt;,之后上传GPG key到Launchpad。&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;通过如下指令查看自己的GPG key：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gpg ­­--fingerprint &amp;lt;email@&lt;span class=&quot;selector-tag&quot;&gt;address&lt;/span&gt;.com&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;例如我的：&lt;br&gt;&lt;figure class=&quot;highlight asciidoc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pi@DeepMind:~$ gpg --fingerprint bond@mindcont.com&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;/home/pi/.gnupg/pubring.gpg&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---------------------------&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pub   4096R/D38B4796 2016-04-12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;code&quot;&gt;      密钥指纹 = EB4C 1BFD 4F04 2F6D DDCC  EC91 7721 F63B D38B 4796&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;uid                  Google Inc. (Linux Packages Signing Authority) &amp;lt;linux-packages-keymaster@google.com&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sub   4096R/640DB551 2016-04-12 [有效至：2019-04-12]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pub   2048R/D059E4D9 2016-11-11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;code&quot;&gt;      密钥指纹 = AD34 CE83 5C79 C68B A81D  4F02 ED3C A58E D059 E4D9&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;uid                  zhangzhengxuan &amp;lt;bond@mindcont.com&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sub   2048R/EDE83100 2016-11-11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;登陆你的launchpad，选择下图红框的位置&lt;br&gt;&lt;img src=&quot;/images/ubuntu/ppa/upload_gpg_key_1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;然后填写刚才我们查找的pub字段，密钥指纹中的字符串&lt;br&gt;&lt;img src=&quot;/images/ubuntu/ppa/upload_gpg_key_2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;点击　import 之后，系统会发送一封邮件到你的邮箱，用来对导入的key进行验证。你需要用自己的私钥对服务器用你刚上传公钥加密的内容进行解密 。&lt;strong&gt;其中邮件的内容为不可读的&lt;/strong&gt;,需要解密的内容类似于：&lt;br&gt;&lt;figure class=&quot;highlight smali&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;­­­­­BEGIN PGP MESSAGE­­­­­&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Version: GnuPG v1.4.3 (GNU/Linux)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  hQIOA0THhKozD+K5EAf9F3PcOL2iU6onH2YsvB6IKDXNxbK0NBVy6ppxcNq8hoTe&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  cuHvzWLFfh1ehhSNe1V6xpuFnt5sJoeA4qEEOxez3HmY80tKIKMPLyhC/8JiSIW9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  fwuxj4C0F6pdyrpvGbQAzfPEFk/P1AtIHXm4WLXduhBT7YEpmUk/I4A/KlSrKoiP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  J5vBtbroUyp2jvIhDUmY7ToU+ifrDe3+VP1ZzSEJzOOXec9oPbcbvf5NptXA7Hbp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  S0ElBAcLjKpAu7VKotCwFZIsVXDHT/mxf2qm88bGIrlXS5uTzvmyhQps1KmyNiCz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  I0i5kSVvHZWyVZ+8FrROLqYAqqnEIMg9hUnbFAervgf/YiYs0xxWLYf9e14eoMZA&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ranGT72q/JHmBNBYenOijaquFNi1TH5J8Udtt2RfdyRUlmGilxRvtIYL8gpnuNpS&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  +GHOoBWUN2f4nawaDeqgrf6Nt3qQWWLO4iJPgieejFP2FP6zkLme1t7dXo+z1ary&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  EZuxSLtKIWkOFEZ8Gcn02hBgOhJZucnkF6BmVW9dr1C4QEAmGM631uqfsp5PapAn&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  yjHbEU1L2R9i7vPtJNRr6ubFLWg1Yhfv63ByxSx/WQHMMqlrbL+moXBGED3L2hM8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  7FP9eapBRgmS+Bda9ArcGMUElTOkWoUYIOPyLOYmo15LvbxHOVaXjn7+fDgr2S1J&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  R9LArwHycmdKKelRww+ZvylHIfq8xy10atRQIYawchh9A1myXD1TlWbrrIkodQJF&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  iEpO2i1LKvqwZHOx3szT4hF+44tNFzQIL1j+zF5Hrt2WOTnS5WXGgGRtfEd8F7fN&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  khQZOAdhwrnlY+yknruC8Y8Jm8vM57+KnPgBfvxuxzLX1XFTfTZCHXeUmwwu3mga&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  m+6WzckeBGBDHKK6GqwFoOAykTwjyqOZaty7DPHeoINc0tLMVr9Ks64DScf8bgh4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  MkNonA0YhMQbkmwRc33APw441+/iLw5gqndQdX44kKqC71dG6LqanAOjD29Xj3JV&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ZBsjg95Jrx7Sx+i/V0PUeaU9QjCT0Q1jEy1Bcs8NYtTJnpG+4oHYJ0pyiGxIquQH&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  V9E+hW6Qehx5DbsIXEvfeaBBHOfAHHOhUH14WK4bsJWm8wZ50XiYBZrNFOqzsm13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  2STcY4VIoJp3Uw2qNyvZXQUhpndlfgQGO14CMSadzDn6Vts=&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  =hTe6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  END PGP MESSAGE­­­­­&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;将邮件中这些内容拷贝到一个文件中，例如：file.txt，然后执行如下命令：&lt;br&gt;&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;gpg &lt;span class=&quot;comment&quot;&gt;--decrypt file.txt&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;此时会提示你输入之前设置的&lt;strong&gt;加密私钥key密码&lt;/strong&gt;，解密成功后，会有如下提示：&lt;br&gt;&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Please &lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt; here &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;finish&lt;/span&gt; adding the key &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; your Launchpad accoun&lt;span class=&quot;variable&quot;&gt;t:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[[http&lt;span class=&quot;variable&quot;&gt;s:&lt;/span&gt;//launchpad.net/token/bP56TDKg8HXQbBs6LsN0]]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;复制该链接，在浏览器中打开，即完成了GPG key 上传。同样的方法，我们还要&lt;strong&gt;上传SSH KEY&lt;/strong&gt;。&lt;br&gt;&lt;figure class=&quot;highlight processing&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;打开id_rsa.pub文件,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gedit ~/.ssh/id_rsa.pub&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;将其中的内容拷贝到帐号的&lt;span class=&quot;built_in&quot;&gt;add&lt;/span&gt; ssh &lt;span class=&quot;built_in&quot;&gt;key&lt;/span&gt;文本框中，选择导入后完成上传&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;配置-Bazzar和环境变量&quot;&gt;&lt;a href=&quot;#配置-Bazzar和环境变量&quot; class=&quot;headerlink&quot; title=&quot;配置 Bazzar和环境变量&quot;&gt;&lt;/a&gt;配置 Bazzar和环境变量&lt;/h3&gt;&lt;p&gt;Bazzar一个版本控制软件同git一样,可以管理代码,&lt;a href=&quot;http://doc.bazaar.canonical.com/latest/en/mini-tutorial/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Bazaar in five minutes&lt;/a&gt; 。这里我们安装一个bzr可视化管理工具，详见&lt;a href=&quot;http://doc.bazaar.canonical.com/explorer/en/install-linux.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;bzr explorer install&lt;/a&gt;&lt;br&gt;&lt;figure class=&quot;highlight smali&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo&lt;span class=&quot;built_in&quot;&gt; add-apt-repository &lt;/span&gt;ppa:bzr-explorer-dev/ppa&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install bzr-explorer&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;告诉Bazzar你是谁,和git 中全局信息设置类似。&lt;br&gt;&lt;figure class=&quot;highlight mipsasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;bzr &lt;/span&gt;whoami &lt;span class=&quot;string&quot;&gt;&quot;xin zhang &amp;lt;justzx2011@gmail.com&amp;gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;bzr &lt;/span&gt;launchpad-login &lt;span class=&quot;keyword&quot;&gt;justzx2011（我的Launchpad账户id）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 之后可以通过输入, 查看你的配置信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;bzr &lt;/span&gt;whoami&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;配置你的shell环境变量&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 打开.bashrc 文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gedit ~/.bashrc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 在文件开头加上如下内容&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; DEBFULLNAME=&lt;span class=&quot;string&quot;&gt;&quot;xin zhang&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; DEBEMAIL=&lt;span class=&quot;string&quot;&gt;&quot;justzx2011@gmail.com&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 执行&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt; ~/.bashrc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;打包上传&quot;&gt;&lt;a href=&quot;#打包上传&quot; class=&quot;headerlink&quot; title=&quot;打包上传&quot;&gt;&lt;/a&gt;打包上传&lt;/h2&gt;&lt;h3 id=&quot;安装编译工具&quot;&gt;&lt;a href=&quot;#安装编译工具&quot; class=&quot;headerlink&quot; title=&quot;安装编译工具&quot;&gt;&lt;/a&gt;安装编译工具&lt;/h3&gt;&lt;figure class=&quot;highlight armasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;sudo&lt;/span&gt; apt-&lt;span class=&quot;meta&quot;&gt;get&lt;/span&gt; install &lt;span class=&quot;keyword&quot;&gt;build-essential &lt;/span&gt;dh-make&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这里我们使用openyoudao 软件包为例说明一个软件包的上传过程。首先下载Openyoudao源码包，Openyoudao代码托管在Github上，下载源码包，首先感谢 Linux之父&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E6%9E%97%E7%BA%B3%E6%96%AF%C2%B7%E6%89%98%E7%93%A6%E5%85%B9&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;林纳斯·托瓦兹&lt;/a&gt;发明了Git，为世界创造了一个知识传递平台.&lt;br&gt;&lt;figure class=&quot;highlight groovy&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;wget &lt;span class=&quot;string&quot;&gt;https:&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;//github.com/justzx2011/openyoudao/archive/beta0.2.tar.gz&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;根据模板生成配置文件&quot;&gt;&lt;a href=&quot;#根据模板生成配置文件&quot; class=&quot;headerlink&quot; title=&quot;根据模板生成配置文件&quot;&gt;&lt;/a&gt;根据模板生成配置文件&lt;/h3&gt;&lt;p&gt;bzr-builddeb包括一个插件，用于从模板创建一个新的包。 插件是一个包装　dh_make命令，如果你安装了packaging-dev，你应该已经有了这些。 运行命令，提供上游tarball的软件包名称，版本号和路径。&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;bzr&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;dh-make&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;openyoudao&lt;/span&gt; 0&lt;span class=&quot;selector-class&quot;&gt;.2&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;beta0&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.gz&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;之后你会看到,配置信息和本地软件包的编译位置。如 /home/pi/work/openyoudao&lt;br&gt;&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;literal&quot;&gt;pi&lt;/span&gt;@DeepMind:~/work$ bzr dh-make openyoudao &lt;span class=&quot;number&quot;&gt;0.2&lt;/span&gt; beta0&lt;span class=&quot;number&quot;&gt;.2&lt;/span&gt;.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Fetching tarball                                                               &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Looking &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;a&lt;/span&gt; way &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; retrieve &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; upstream tarball&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Upstream tarball already exists &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; build &lt;span class=&quot;built_in&quot;&gt;directory&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; that&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Type &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; package: single binary, indep binary, multiple binary, library, kernel module, kernel patch?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; [s/i/m/l/k/n] s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Maintainer name  : zhengxuan zhang&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Email-Address    : bond@mindcont.com&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Date             : Sun, &lt;span class=&quot;number&quot;&gt;13&lt;/span&gt; Nov &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;57&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;30&lt;/span&gt; +&lt;span class=&quot;number&quot;&gt;0800&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Package Name     : openyoudao&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Version          : &lt;span class=&quot;number&quot;&gt;0.2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;License          : blank&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Type &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; Package  : Single&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Hit &amp;lt;enter&amp;gt; &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; confirm:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Skipping creating ../openyoudao_0&lt;span class=&quot;number&quot;&gt;.2&lt;/span&gt;.orig.tar.gz because &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; already exists&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Currently there is no top level Makefile. This may &lt;span class=&quot;built_in&quot;&gt;require&lt;/span&gt; additional tuning.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Done. Please edit &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;files&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; debian/ subdirectory now. You should also&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;check that &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; openyoudao Makefiles install &lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; $DESTDIR &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; / .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Package prepared &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; /home/&lt;span class=&quot;literal&quot;&gt;pi&lt;/span&gt;/work/openyoudao&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;修改配置文件&quot;&gt;&lt;a href=&quot;#修改配置文件&quot; class=&quot;headerlink&quot; title=&quot;修改配置文件&quot;&gt;&lt;/a&gt;修改配置文件&lt;/h3&gt;&lt;p&gt;这里我们主要修改openyoudao/debian/changelog　、control 两个文件。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;changelog文件中修改　trusty为ubuntu 14.04 的版本代号（代表我们的软件包运行平台）和版本号&lt;/p&gt;
&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;openyoudao (&lt;span class=&quot;number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;) trusty; urgency=low&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  * Initial &lt;span class=&quot;built_in&quot;&gt;release&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;control　文件中修改　Section: net　不然会报错。&lt;/p&gt;
&lt;figure class=&quot;highlight dts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Source:&lt;/span&gt; openyoudao&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Section:&lt;/span&gt; net&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Priority:&lt;/span&gt; optional&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Maintainer:&lt;/span&gt; zhengxuan zhang &lt;span class=&quot;params&quot;&gt;&amp;lt;bond@mindcont.com&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Build-Depends: debhelper (&amp;gt;= &lt;span class=&quot;number&quot;&gt;8.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Standards-Version: &lt;span class=&quot;number&quot;&gt;3.9&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Homepage:&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;&amp;lt;insert the upstream URL, if relevant&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#Vcs-Git: git:&lt;span class=&quot;comment&quot;&gt;//git.debian.org/collab-maint/openyoudao.git&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#Vcs-Browser: http:&lt;span class=&quot;comment&quot;&gt;//git.debian.org/?p=collab-maint/openyoudao.git;a=summary&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Package:&lt;/span&gt; openyoudao&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Architecture:&lt;/span&gt; any&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Depends:&lt;/span&gt; $&amp;#123;shlibs:Depends&amp;#125;, $&amp;#123;misc:Depends&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Description:&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;&amp;lt;insert up to &lt;span class=&quot;number&quot;&gt;60&lt;/span&gt; chars description&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;params&quot;&gt;&amp;lt;insert long description, indented with spaces&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里的配置信息很重要，不然你最后将软件包上传之后，可能会收到系统发送的拒绝邮件。你可能会遇到下面几个错误。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;错误1&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Rejected:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Unable &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; find distroseries: unstable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Further &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; processing &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; possible because &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; a critical previous &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;openyoudao (&lt;span class=&quot;number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;) unstable; urgency=low&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  * Initial release (Closes: &lt;span class=&quot;comment&quot;&gt;#nnnn)  &amp;lt;nnnn is the bug number of your ITP&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;解决方法：修改changelog文件中修改 将unstable 修改为ubuntu 对于平台版本代号 例如14.04 为trusty&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;错误2　&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Rejected:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;opencv_2&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-1.&lt;/span&gt;dsc: Unknown section &lt;span class=&quot;string&quot;&gt;&#39;unknown&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;opencv_2&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;.orig.tar.gz: Unknown section &lt;span class=&quot;string&quot;&gt;&#39;unknown&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;opencv_2&lt;span class=&quot;number&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-1.&lt;/span&gt;debian.tar.gz: Unknown section &lt;span class=&quot;string&quot;&gt;&#39;unknown&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Further error processing &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; possible because &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;a&lt;/span&gt; critical previous error.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;opencv (&lt;span class=&quot;number&quot;&gt;2.1&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.0&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;) trusty; urgency=low&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  * Initial release (Closes: &lt;span class=&quot;comment&quot;&gt;#nnnn)  &amp;lt;nnnn is the bug number of your ITP&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;解决方法：修改control 文件中Section:unknown 为Section: net&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;错误3&lt;/p&gt;
&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Rejected:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;File&lt;/span&gt; opencv_2.1.0.orig.tar.gz already exists &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; Primary Archive &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; Ubuntu, but uploaded &lt;span class=&quot;keyword&quot;&gt;version&lt;/span&gt; has different contents. See &lt;span class=&quot;keyword&quot;&gt;more&lt;/span&gt; information &lt;span class=&quot;keyword&quot;&gt;about&lt;/span&gt; this &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; https:&lt;span class=&quot;comment&quot;&gt;//help.launchpad.net/Packaging/UploadErrors.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Files specified &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; DSC are broken or missing, skipping package unpack verification.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;opencv (2.1.0-1) trusty; urgency=low&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;  * Initial release 0.1.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;解决办法：&lt;br&gt;你上传的opencv_2.1.0.orig.tar.gz 已经存在于官方维护的存档中，你上传的版本与官方的冲突。更改版本号。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;值得注意的是，这里大部分错误信息都可以在&lt;a href=&quot;https://help.launchpad.net/Packaging/UploadErrors&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官方的文档&lt;/a&gt;中找到解决方法。参照打好的包： &lt;a href=&quot;https://github.com/justzx2011/openyoudao/tree/beta&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/justzx2011/openyoudao/tree/beta&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;将修改提交到打包分支&quot;&gt;&lt;a href=&quot;#将修改提交到打包分支&quot; class=&quot;headerlink&quot; title=&quot;将修改提交到打包分支&quot;&gt;&lt;/a&gt;将修改提交到打包分支&lt;/h3&gt;&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;cd&lt;/span&gt; openyoudao&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bzr commit -&lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Initial commit of Debian packaging.&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;之后你应该会看到如下信息：&lt;br&gt;&lt;figure class=&quot;highlight armasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;@DeepMind:~/work/openyoudao$ bzr commit -m &quot;Initial commit of Debian packaging.&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Committing&lt;/span&gt; to: /home/pi/work/openyoudao/                                       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;added &lt;/span&gt;debian&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;added &lt;/span&gt;debian/README.Debian&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;added &lt;/span&gt;debian/README.source&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;added &lt;/span&gt;debian/changelog&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;added &lt;/span&gt;debian/compat&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;added &lt;/span&gt;debian/control&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;added &lt;/span&gt;debian/copyright&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;added &lt;/span&gt;debian/docs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;added &lt;/span&gt;debian/rules&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;added &lt;/span&gt;debian/source&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;Committed&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;revision &lt;/span&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;在当前环境中编译软件包&quot;&gt;&lt;a href=&quot;#在当前环境中编译软件包&quot; class=&quot;headerlink&quot; title=&quot;在当前环境中编译软件包&quot;&gt;&lt;/a&gt;在当前环境中编译软件包&lt;/h3&gt;&lt;figure class=&quot;highlight armasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;bzr &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;builddeb &lt;/span&gt;-- -us -uc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;附 debuild命令例子:&lt;br&gt;&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;只生成二进制包，不签名&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debuild -&lt;span class=&quot;keyword&quot;&gt;us&lt;/span&gt; -uc -b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;生成二进制包和源码包，不签名&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debuild -&lt;span class=&quot;keyword&quot;&gt;us&lt;/span&gt; -uc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;生成二进制包和源码包，签名&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debuild -&lt;span class=&quot;keyword&quot;&gt;sa&lt;/span&gt; -k42AA6EC7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;只生成源码包，签名&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debuild -S -&lt;span class=&quot;keyword&quot;&gt;sa&lt;/span&gt; -k42AA6EC7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;只生成只包含debian打包脚本部分的源码包，签名&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debuild -S -sd -k42AA6EC7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;软件包生成完毕后，可以使用dpgk-deb来查看其内容清单。&lt;/p&gt;
&lt;h3 id=&quot;检测软件包是否存在bug&quot;&gt;&lt;a href=&quot;#检测软件包是否存在bug&quot; class=&quot;headerlink&quot; title=&quot;检测软件包是否存在bug&quot;&gt;&lt;/a&gt;检测软件包是否存在bug&lt;/h3&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;cd&lt;/span&gt; ..&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;lintian&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;openyoudao_0&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.2-1ubuntu1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.dsc&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;之后你应该会看到如下信息：&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pi@DeepMind:~/work$ lintian openyoudao_0.2-1.dsc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;E: openyoudao source: source-is-missing &lt;span class=&quot;keyword&quot;&gt;cache&lt;/span&gt;/js/autocomplete.r156903.js&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;E: openyoudao &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt;: &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;missing&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;cache&lt;/span&gt;/js/jquery-ui.&lt;span class=&quot;keyword&quot;&gt;min&lt;/span&gt;.js&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;E: openyoudao &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt;: &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;missing&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;cache&lt;/span&gt;/js/jquery.&lt;span class=&quot;keyword&quot;&gt;min&lt;/span&gt;.js&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;E: openyoudao &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt;: &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;missing&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;cache&lt;/span&gt;/js/&lt;span class=&quot;keyword&quot;&gt;result&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;min&lt;/span&gt;.js&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;W: openyoudao &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt;: &lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt;-needs-versioned-debhelper-&lt;span class=&quot;keyword&quot;&gt;build&lt;/span&gt;-depends &lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;W: openyoudao &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt;: superfluous-clutter-&lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;-homepage &amp;lt;&lt;span class=&quot;keyword&quot;&gt;insert&lt;/span&gt; the upstream &lt;span class=&quot;keyword&quot;&gt;URL&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; relevant&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;W: openyoudao &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt;: bad-homepage &amp;lt;&lt;span class=&quot;keyword&quot;&gt;insert&lt;/span&gt; the upstream &lt;span class=&quot;keyword&quot;&gt;URL&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; relevant&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;W: openyoudao &lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt;: &lt;span class=&quot;keyword&quot;&gt;out&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt;-&lt;span class=&quot;built_in&quot;&gt;date&lt;/span&gt;-standards-&lt;span class=&quot;keyword&quot;&gt;version&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;3.9&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.4&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;current&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;3.9&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.5&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这里有几个错误信息，我们先略过，不影响下面的操作。&lt;/p&gt;
&lt;h3 id=&quot;给软件包签名&quot;&gt;&lt;a href=&quot;#给软件包签名&quot; class=&quot;headerlink&quot; title=&quot;给软件包签名&quot;&gt;&lt;/a&gt;给软件包签名&lt;/h3&gt;&lt;p&gt;这里我们用我们上传到launchpad中的GPG KEY 对我们的软件包进行签名。如果忘记自己的公钥代码，可以参加上面进行查询。&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; openyoudao&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;debuild -S -kD059E4D9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;上传软件包&quot;&gt;&lt;a href=&quot;#上传软件包&quot; class=&quot;headerlink&quot; title=&quot;上传软件包&quot;&gt;&lt;/a&gt;上传软件包&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;编辑~/.dput.cf&lt;br&gt;通过上面的一系列流程，我们生成了一组经过数字签名的文件，最后需要做的是将这些文件上传到ppa官方的ftp，此时会用到一个叫dput的软件，要使用dput，首先要编辑文件~/.dput.cf，没有就创建.在这个文件里面定义要上传的Launchpad账号。我的~/.dput.cf文件内容如下：&lt;/p&gt;
&lt;figure class=&quot;highlight ini&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;[openyoudao]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;fqdn&lt;/span&gt; = ppa.launchpad.net&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;method&lt;/span&gt; = ftp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;incoming&lt;/span&gt; = ~mindcont/openyoudao/ubuntu/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;login&lt;/span&gt; = anonymous&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;allow_unsigned_uploads&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;执行上传&lt;/p&gt;
&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;cd&lt;/span&gt; ..&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dput &lt;span class=&quot;keyword&quot;&gt;pp&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;a:mindcont&lt;/span&gt;/openyoudao openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;_source.&lt;span class=&quot;keyword&quot;&gt;changes&lt;/span&gt;　＃上传方式一&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dput openyoudao openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;_source.&lt;span class=&quot;keyword&quot;&gt;changes&lt;/span&gt;＃上传方式二，这里的openyoudao 就是我们上一步配置中的[openyoudao]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;之后你应该会看到如下信息：&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pi@DeepMind:~/work$ dput ppa:mindcont/opencv2.&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;_source&lt;span class=&quot;selector-class&quot;&gt;.changes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Package has already been uploaded to ppa on ppa&lt;span class=&quot;selector-class&quot;&gt;.launchpad&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.net&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nothing more to do &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;_source&lt;span class=&quot;selector-class&quot;&gt;.changes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pi@DeepMind:~/work$ dput ppa:mindcont/opencv2.&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;_source&lt;span class=&quot;selector-class&quot;&gt;.changes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Checking signature on &lt;span class=&quot;selector-class&quot;&gt;.changes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gpg: 于 &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;年&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;月&lt;span class=&quot;number&quot;&gt;13&lt;/span&gt;日 星期日 &lt;span class=&quot;number&quot;&gt;17&lt;/span&gt;时&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;分&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;秒 CST 创建的签名，使用 RSA，钥匙号 D059E4D9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gpg: 完好的签名，来自于“zhangzhengxuan &amp;lt;bond@mindcont.com&amp;gt;”&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Good signature on /home/pi/work/openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;_source&lt;span class=&quot;selector-class&quot;&gt;.changes&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Checking signature on &lt;span class=&quot;selector-class&quot;&gt;.dsc&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gpg: 于 &lt;span class=&quot;number&quot;&gt;2016&lt;/span&gt;年&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;月&lt;span class=&quot;number&quot;&gt;13&lt;/span&gt;日 星期日 &lt;span class=&quot;number&quot;&gt;17&lt;/span&gt;时&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;分&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;秒 CST 创建的签名，使用 RSA，钥匙号 D059E4D9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gpg: 完好的签名，来自于“zhangzhengxuan &amp;lt;bond@mindcont.com&amp;gt;”&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Good signature on /home/pi/work/openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.dsc&lt;/span&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Uploading to ppa (via ftp to ppa&lt;span class=&quot;selector-class&quot;&gt;.launchpad&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.net&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Uploading openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.dsc&lt;/span&gt;: done.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Uploading openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.orig&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.gz&lt;/span&gt;: done.    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Uploading openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.debian&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.gz&lt;/span&gt;: done.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Uploading openyoudao_0.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;-&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;_source&lt;span class=&quot;selector-class&quot;&gt;.changes&lt;/span&gt;: done.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Successfully uploaded packages.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;说明我们上传成功，这里你的邮箱会收到一封ppa发来的邮件，内容如下：&lt;br&gt;&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;Accepted&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;attribute&quot;&gt;OK&lt;/span&gt;: openyoudao_0&lt;span class=&quot;number&quot;&gt;.2&lt;/span&gt;.orig.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;attribute&quot;&gt;OK&lt;/span&gt;: openyoudao_0&lt;span class=&quot;number&quot;&gt;.2&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-1.&lt;/span&gt;debian.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;attribute&quot;&gt;OK&lt;/span&gt;: openyoudao_0&lt;span class=&quot;number&quot;&gt;.2&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-1.&lt;/span&gt;dsc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     -&amp;gt; &lt;span class=&quot;attribute&quot;&gt;Component&lt;/span&gt;: main &lt;span class=&quot;attribute&quot;&gt;Section&lt;/span&gt;: net&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;openyoudao (&lt;span class=&quot;number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;) trusty; urgency=low&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  * Initial release &lt;span class=&quot;number&quot;&gt;1.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;https&lt;/span&gt;:&lt;span class=&quot;comment&quot;&gt;//launchpad.net/~mindcont/+archive/ubuntu/openyoudao&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;You are receiving &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt; email because you made &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt; upload.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;接下来就静待官方编译吧,编译进度可以在 Overview of published packages》View package details 中查看&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/ppa/build.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;编译完成后，就可以通过ppa源进行安装了&lt;br&gt;&lt;img src=&quot;/images/ubuntu/ppa/build_success.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;figure class=&quot;highlight smali&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo&lt;span class=&quot;built_in&quot;&gt; add-apt-repository &lt;/span&gt;ppa:mindcont/openyoudao&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install openyoudao&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;总结&quot;&gt;&lt;a href=&quot;#总结&quot; class=&quot;headerlink&quot; title=&quot;总结&quot;&gt;&lt;/a&gt;总结&lt;/h2&gt;&lt;p&gt;创建launchpad账户》配置GPG密钥》配置ssh》创建project》编写软件包》创建本地编译环境》编译软件包》签名》上传　.changefile》等待官方确认邮件.&lt;/p&gt;
&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://openyoudao.org/%E5%A6%82%E4%BD%95%E5%9C%A8ubuntu%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84ppa%E5%AE%89%E8%A3%85%E5%8C%85&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;如何在ubuntu系统下制作自己的ppa安装包&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.mobibrw.com/2016/3138&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ubuntu 15.10系统下制作自己的PPA安装包&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ruanyifeng.com/blog/2013/07/gpg.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GPG入门教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.ibm.com/developerworks/community/blogs/5144904d-5d75-45ed-9d2b-cf1754ee936a/entry/%25e4%25b8%25badebian%25e5%2592%258cubuntu%25e5%2588%25b6%25e4%25bd%259c%25e8%25bd%25af%25e4%25bb%25b6%25e5%258c%2585_%25e4%25b8%2589?lang=en&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;为Debian和Ubuntu制作软件包(三)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://packaging.ubuntu.com/html/packaging-new-software.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Packaging New Software&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://help.launchpad.net/Packaging/PPA/Uploading#The_easy_way:_FTP_in_Ubuntu_9.10_and_newer&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Uploading a package to a PPA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://help.launchpad.net/Packaging/UploadErrors&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Package upload errors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://doc.bazaar.canonical.com/explorer/en/install-linux.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Bazaar Explorer install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://doc.bazaar.canonical.com/plugins/en/builddeb-plugin.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Build Debian packages from Bazaar branches&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://lerry.me/post/2013/07/14/ubuntu_ppa_usagedfa&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ubuntu PPA的使用方法&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;PPA，或是Personal Package Archive（个人软件包存档），是默认情况下并未被包含在Ubuntu中的软件的一个集合。使用个人包存档（PPA），您可以直接向Ubuntu用户分发软件和更新。
    
    </summary>
    
      <category term="Linux" scheme="http://blog.mindcont.com/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>二手华为路由hg255d刷OpenWrt</title>
    <link href="http://blog.mindcont.com/2016/10/27/hg255d-openwrt/"/>
    <id>http://blog.mindcont.com/2016/10/27/hg255d-openwrt/</id>
    <published>2016-10-27T02:40:52.000Z</published>
    <updated>2016-10-27T06:32:50.692Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;刷机有危险，刷机前请做好相关知识储备！！！&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;刷机有危险，刷机前请做好相关知识储备！！！&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;刷机有危险，刷机前请做好相关知识储备！！！&lt;/strong&gt;&lt;br&gt;重要的话儿，说三遍～&lt;/p&gt;
&lt;p&gt;本文仅适合 华为hg255d v4 版本路由，某宝入手二手华为hg255d路由器，CPU: Ralink RT3052F Flash:4M RAM:32M 此为背景。硬改可参考[2].&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/hg255d.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/ubuntu/hg255d-2.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;连接路由，上传u-boot&quot;&gt;&lt;a href=&quot;#连接路由，上传u-boot&quot; class=&quot;headerlink&quot; title=&quot;连接路由，上传u-boot&quot;&gt;&lt;/a&gt;连接路由，上传u-boot&lt;/h3&gt;&lt;p&gt;设置本地连接为 192.168.1.100  子网掩码：255.255.255.0 网关丶DNS不用填写（以后只要更新固件就是192.168.1.100的固定ip切记切记），网线与hg255d连接好，保持机器关闭状态.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/hg255d-3.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;先在浏览器输入&lt;a href=&quot;http://192.168.1.1/upload.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://192.168.1.1/upload.html&lt;/a&gt; 然后按住路由的reset键并接通电源，保持reset按住，浏览器刷新，大约十秒左右就可以进入如图所示的界面&lt;br&gt;&lt;img src=&quot;/images/ubuntu/hg255d-4.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;此时一定要抓紧选择ralink.bin（此固件内已包含改版u-boot和电信原版u-boot，后面u-boot-rom-hg255d_hg256.bin是升级用的）固件并开始刷入，因为在10-20秒以后，路由将正常启动，页面输入固件将会失败。切记速度！！！&lt;/p&gt;
&lt;p&gt;lan口灯狂闪，ralink固件写入结束，大约5min之后路由&lt;strong&gt;会自动重启&lt;/strong&gt;，稍等片刻在浏览器中输入192.168.1.1帐号密码同为admin.进入ralink的设置界面.&lt;br&gt;&lt;img src=&quot;/images/ubuntu/hg255d-5.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;刷u-boot&quot;&gt;&lt;a href=&quot;#刷u-boot&quot; class=&quot;headerlink&quot; title=&quot;刷u-boot&quot;&gt;&lt;/a&gt;刷u-boot&lt;/h3&gt;&lt;p&gt;u-boot 即Bootloader ,从设备加电到启动系统这段时间内固化这主板上的一段代码块，同电脑的BIOS类似。刷u-boot，只需要执行一个shell就可以了.找到 系统管理-&amp;gt;系统指令。&lt;br&gt;&lt;figure class=&quot;highlight gcode&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;执行命令：/h&lt;span class=&quot;name&quot;&gt;g255&lt;/span&gt;d/h&lt;span class=&quot;name&quot;&gt;g255&lt;/span&gt;d-flash-uboot.sh   提交一下&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/hg255d-6.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;大约1-2秒就结束了，很快的，然后&lt;strong&gt;手动重启路由器&lt;/strong&gt;。路由重启后，只要是电源灯频闪基本上就说明刷u-boot成功了.（如想恢复电信原固件，用tftp重刷ralink.bin固件，执行/hg255d/hg255d-flash-tel-uboot.sh就OK了）&lt;/p&gt;
&lt;h3 id=&quot;刷openwrt&quot;&gt;&lt;a href=&quot;#刷openwrt&quot; class=&quot;headerlink&quot; title=&quot;刷openwrt&quot;&gt;&lt;/a&gt;刷openwrt&lt;/h3&gt;&lt;p&gt;还是开机的时候按住wps/wlan/reset按钮任一按钮，然后刷入固件openwrt-ramips-rt305x-hg255d-squashfs-sysupgrade.bin.&lt;strong&gt; 当进度条上传完成，不要断电和动路由器，路由器会自动重启&lt;/strong&gt;&lt;br&gt;&lt;img src=&quot;/images/ubuntu/hg255d-7.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;写入固件大约10秒钟，此时电源灯为常亮，然后大约是5分钟的等待时间，电源灯会灭一下，然后频闪，之后稍等一会就可以192.168.1.1进入openwrt …&lt;br&gt;&lt;img src=&quot;/images/ubuntu/hg255d-8.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;默认账号：root 密码：admin，然后你就可以看到下面的画面&lt;br&gt;&lt;img src=&quot;/images/ubuntu/hg255d-9.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;固件和工具&lt;/strong&gt;&lt;br&gt;链接：&lt;a href=&quot;http://pan.baidu.com/s/1bpMd0OB&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://pan.baidu.com/s/1bpMd0OB&lt;/a&gt; 密码：zhe0&lt;/p&gt;
&lt;h3 id=&quot;配置网络&quot;&gt;&lt;a href=&quot;#配置网络&quot; class=&quot;headerlink&quot; title=&quot;配置网络&quot;&gt;&lt;/a&gt;配置网络&lt;/h3&gt;&lt;p&gt;这一部分参考老高[4]的博客，来简要介绍openwrt中br-lan,eth0,eth0.1,eth0.2 这几个接口的意思。&lt;br&gt;&lt;img src=&quot;/images/ubuntu/hg255d-10.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;有线网配置&quot;&gt;&lt;a href=&quot;#有线网配置&quot; class=&quot;headerlink&quot; title=&quot;有线网配置&quot;&gt;&lt;/a&gt;有线网配置&lt;/h4&gt;&lt;p&gt;openwrt的有线网络配置文件位于/etc/config/network，参考老高[4]的配置如下：&lt;br&gt;&lt;figure class=&quot;highlight rsl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;config interface &lt;span class=&quot;string&quot;&gt;&#39;loopback&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 本地回环地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ifname &lt;span class=&quot;string&quot;&gt;&#39;lo&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; proto &lt;span class=&quot;string&quot;&gt;&#39;static&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ipaddr &lt;span class=&quot;string&quot;&gt;&#39;127.0.0.1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; netmask &lt;span class=&quot;string&quot;&gt;&#39;255.0.0.0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config globals &lt;span class=&quot;string&quot;&gt;&#39;globals&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ula_prefix &lt;span class=&quot;string&quot;&gt;&#39;auto&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config interface &lt;span class=&quot;string&quot;&gt;&#39;lan&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 内网口，默认地址192.168.1.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ifname &lt;span class=&quot;string&quot;&gt;&#39;eth0.1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; force_link &lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; type &lt;span class=&quot;string&quot;&gt;&#39;bridge&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; proto &lt;span class=&quot;string&quot;&gt;&#39;static&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ipaddr &lt;span class=&quot;string&quot;&gt;&#39;192.168.1.1&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 如果用openwrt做二级路由，且与一级路由地址192.168.1.1冲突，可修改这里&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; netmask &lt;span class=&quot;string&quot;&gt;&#39;255.255.255.0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ip6assign &lt;span class=&quot;string&quot;&gt;&#39;60&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; macaddr &lt;span class=&quot;string&quot;&gt;&#39;64:09:80:05:e1:bb&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config interface &lt;span class=&quot;string&quot;&gt;&#39;wan&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 外网口&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ifname &lt;span class=&quot;string&quot;&gt;&#39;eth0.2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; _orig_ifname &lt;span class=&quot;string&quot;&gt;&#39;eth0.2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; _orig_bridge &lt;span class=&quot;string&quot;&gt;&#39;false&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; proto &lt;span class=&quot;string&quot;&gt;&#39;pppoe&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 可以看出这里使用光纤拨号的方式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; macaddr &lt;span class=&quot;string&quot;&gt;&#39;64:09:80:05:e1:bc&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# mac 地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; username &lt;span class=&quot;string&quot;&gt;&#39;11100026295&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 宽带账号&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; password &lt;span class=&quot;string&quot;&gt;&#39;380926&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 宽带密码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config interface &lt;span class=&quot;string&quot;&gt;&#39;wan6&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# ipv6 不用动&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; _orig_ifname &lt;span class=&quot;string&quot;&gt;&#39;@wan&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; _orig_bridge &lt;span class=&quot;string&quot;&gt;&#39;false&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; proto &lt;span class=&quot;string&quot;&gt;&#39;6to4&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config switch &lt;span class=&quot;meta&quot;&gt;# 交换机&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; name &lt;span class=&quot;string&quot;&gt;&#39;mt762x&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; reset &lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; enable_vlan &lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config switch_vlan &lt;span class=&quot;meta&quot;&gt;# 虚拟出两个 vlan (可以将物理地址屏蔽开，用于不同网段之间通信)，这里是vlan 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; device &lt;span class=&quot;string&quot;&gt;&#39;mt762x&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; vlan &lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ports &lt;span class=&quot;string&quot;&gt;&#39;0 1 2 3 5 6t&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config switch_vlan &lt;span class=&quot;meta&quot;&gt;# 这里是vlan2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; device &lt;span class=&quot;string&quot;&gt;&#39;mt762x&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; vlan &lt;span class=&quot;string&quot;&gt;&#39;2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ports &lt;span class=&quot;string&quot;&gt;&#39;4 6t&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;无线网络配置&quot;&gt;&lt;a href=&quot;#无线网络配置&quot; class=&quot;headerlink&quot; title=&quot;无线网络配置&quot;&gt;&lt;/a&gt;无线网络配置&lt;/h4&gt;&lt;p&gt;openwrt的无线网络配置文件位于/etc/config/wireless，配置如下：&lt;br&gt;&lt;figure class=&quot;highlight rsl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;config wifi-device &lt;span class=&quot;string&quot;&gt;&#39;rai0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; type &lt;span class=&quot;string&quot;&gt;&#39;mt7612&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; mode &lt;span class=&quot;string&quot;&gt;&#39;14&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; channel &lt;span class=&quot;string&quot;&gt;&#39;auto&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; txpower &lt;span class=&quot;string&quot;&gt;&#39;100&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ht &lt;span class=&quot;string&quot;&gt;&#39;20+40+80&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; country &lt;span class=&quot;string&quot;&gt;&#39;US&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; disabled &lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config wifi-iface&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; device &lt;span class=&quot;string&quot;&gt;&#39;rai0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; network &lt;span class=&quot;string&quot;&gt;&#39;lan&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; mode &lt;span class=&quot;string&quot;&gt;&#39;ap&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ssid &lt;span class=&quot;string&quot;&gt;&#39;BYBY_WORLD&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 2.4G 热点名称&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; encryption &lt;span class=&quot;string&quot;&gt;&#39;psk2&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 加密方式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; key &lt;span class=&quot;string&quot;&gt;&#39;xxx&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config wifi-device &lt;span class=&quot;string&quot;&gt;&#39;ra0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; type &lt;span class=&quot;string&quot;&gt;&#39;rt2860v2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; mode &lt;span class=&quot;string&quot;&gt;&#39;9&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; channel &lt;span class=&quot;string&quot;&gt;&#39;auto&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; txpower &lt;span class=&quot;string&quot;&gt;&#39;100&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ht &lt;span class=&quot;string&quot;&gt;&#39;40&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; country &lt;span class=&quot;string&quot;&gt;&#39;US&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; disabled &lt;span class=&quot;string&quot;&gt;&#39;0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config wifi-iface&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; device &lt;span class=&quot;string&quot;&gt;&#39;ra0&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; network &lt;span class=&quot;string&quot;&gt;&#39;lan&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; mode &lt;span class=&quot;string&quot;&gt;&#39;ap&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; wps &lt;span class=&quot;string&quot;&gt;&#39;pbc&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ssid &lt;span class=&quot;string&quot;&gt;&#39;HELLO_WORLD&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 5G 热点名称&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; encryption &lt;span class=&quot;string&quot;&gt;&#39;psk2&#39;&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;# 加密方式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; key &lt;span class=&quot;string&quot;&gt;&#39;xxx&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;名词解释&quot;&gt;&lt;a href=&quot;#名词解释&quot; class=&quot;headerlink&quot; title=&quot;名词解释&quot;&gt;&lt;/a&gt;名词解释&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;II. pppoe-wan&lt;br&gt;虚拟设备，他就是常见的拨号宽带上网，需要有ISP提供的用户名密码，连接后方可激此接口！&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;III. lo&lt;br&gt;虚拟设备，自身的回环网设备。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;IV. ra0 rai0&lt;br&gt;这两个是成对出现，一看就知道是无线设备，它们各自对应一个SSID，分别是2.4G和5G。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;V. 虚拟局域网&lt;br&gt;开启虚拟局域网 对应 config switch.划分子网 你可以在网络-&amp;gt;交换机中找到！&lt;br&gt;&lt;img src=&quot;/images/ubuntu/hg255d-11.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;对照着图下面的配置应该很容易就懂了。&lt;/p&gt;
&lt;figure class=&quot;highlight rsl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;config switch_vlan&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; device &lt;span class=&quot;string&quot;&gt;&#39;mt762x&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; vlan &lt;span class=&quot;string&quot;&gt;&#39;1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ports &lt;span class=&quot;string&quot;&gt;&#39;0 1 2 3 5 6t&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;config switch_vlan&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; device &lt;span class=&quot;string&quot;&gt;&#39;mt762x&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; vlan &lt;span class=&quot;string&quot;&gt;&#39;2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;option&lt;/span&gt; ports &lt;span class=&quot;string&quot;&gt;&#39;4 6t&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;VI. eth0&lt;br&gt;eth0是一块物理网卡。eth0.1 eth0.2都是从此设备上虚拟出来的。&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;eth0&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.1&lt;/span&gt; 是&lt;span class=&quot;selector-tag&quot;&gt;vlan1&lt;/span&gt;分出的&lt;span class=&quot;selector-tag&quot;&gt;lan&lt;/span&gt;口。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;eth0&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.2&lt;/span&gt; 是&lt;span class=&quot;selector-tag&quot;&gt;vlan&lt;/span&gt;分出的&lt;span class=&quot;selector-tag&quot;&gt;wan&lt;/span&gt;口。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;VII. br-lan&lt;br&gt;虚拟设备，用于LAN口设备桥接，可以用brctl show查看使用情况。&lt;/p&gt;
&lt;figure class=&quot;highlight mipsasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;~ &lt;span class=&quot;keyword&quot;&gt;brctl &lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;show&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;bridge &lt;/span&gt;name &lt;span class=&quot;keyword&quot;&gt;bridge &lt;/span&gt;id       STP enabled interfaces&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;br-lan &lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;fff.&lt;span class=&quot;number&quot;&gt;64098005&lt;/span&gt;e&lt;span class=&quot;number&quot;&gt;1b&lt;/span&gt;b   no      eth0.&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; rai0 ra0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;br-lan &lt;/span&gt;= eth0.&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; + rai0 + ra0，即将有线LAN口和无线网统一划分为 LAN，便于管理！&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.jianshu.com/p/34f9c4963105&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;1 OpenWrt：HG255D华为路由器刷OpenWrt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://forum.eepw.com.cn/thread/236267/1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;2 历经曲折HG255D改造64M内存双SMA天线（独家改法）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.right.com.cn/forum/thread-153163-1-1.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;3 拆解Huawei(華為) HG255D-已經硬改64M內存 + 被動式散熱改造&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.phpgao.com/openwrt-interface.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;4 openwrt中br-lan,eth0,eth0.1,eth0.2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;刷机有危险，刷机前请做好相关知识储备！！！&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;刷机有危险，刷机前请做好相关知识储备！！！&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;刷机有危险，刷机前请做好相关知识储备！！！&lt;/strong&gt;&lt;br&gt;重要的话儿，说三遍～&lt;/p&gt;
&lt;p&gt;本文仅适合 华为hg255d v4 版本路由，某宝入手二手华为hg255d路由器，CPU: Ralink RT3052F Flash:4M RAM:32M 此为背景。硬改可参考[2].&lt;/p&gt;
    
    </summary>
    
    
      <category term="树莓派" scheme="http://blog.mindcont.com/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
  </entry>
  
  <entry>
    <title>ubuntu 装机必备</title>
    <link href="http://blog.mindcont.com/2016/10/27/ubuntu-necessary-install-software/"/>
    <id>http://blog.mindcont.com/2016/10/27/ubuntu-necessary-install-software/</id>
    <published>2016-10-27T01:47:28.000Z</published>
    <updated>2016-11-08T07:40:05.250Z</updated>
    
    <content type="html">&lt;p&gt;说linux，不得不从unix 发展历史和发行版本说起，由通用电气\AT&amp;amp;T\MIT 合作开发unix。在美苏冷战期间,美国国防部 ncp &amp;gt;tcp/ip 捆绑 unix 上。c 语言之父肯.汤普森 丹尼斯.里奇重写了unix 底层代码。发行版本&lt;br&gt;&lt;figure class=&quot;highlight mathematica&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AIX 	IBM 	PowerPC&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;HP-UX 	HP 	PA-RISC&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Solaris sun	SPARC&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Linux	&lt;span class=&quot;keyword&quot;&gt;Red&lt;/span&gt; Hat ,ubuntu (Intel AMD)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;LINUX 发展历史，由芬兰大学 Linux Torvalds 开源的软件，而芬兰 企鹅 logo 极地动物,象征开源。其发行版本&lt;br&gt;&lt;img src=&quot;/images/ubuntu/linux.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;各发行版的特点&lt;br&gt;&lt;img src=&quot;/images/ubuntu/linux-2.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;Redhat&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      fedora 全功能版,不稳定&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      centos 社区维护版 新浪,网易 服务都采用的版本&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;红旗 Linux&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;suse 欧洲用的多&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;linux 系统的应用领域&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;基于linux的企业服务器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;嵌入式应用&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;linux 在电影娱乐&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;linux 学习方法&lt;br&gt;&lt;figure class=&quot;highlight gams&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; 详细的报错信息 邮件称呼&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; 帮助文档,查找,实例&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; 英语&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	COMMAND &lt;span class=&quot;keyword&quot;&gt;NOT&lt;/span&gt; FOUND   未找到 命令 ?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;NO&lt;/span&gt; SUCH &lt;span class=&quot;keyword&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; directory  没有找到文件或者 地址?&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt; 忘掉windows的思维方式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt; 计划 专注 坚持 练习&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;更改-home-分区挂载点&quot;&gt;&lt;a href=&quot;#更改-home-分区挂载点&quot; class=&quot;headerlink&quot; title=&quot;更改/home 分区挂载点&quot;&gt;&lt;/a&gt;更改/home 分区挂载点&lt;/h3&gt;&lt;p&gt;ubuntu 难免要弄坏，然后重装，重装的时候，可以将手动更改 /etc/fastab 这个文件来指定文件系统的加载位置。前提是从前系统的 /home 与/ 分区 不在同一个分区中。&lt;br&gt;&lt;figure class=&quot;highlight arduino&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo gedit /etc/fastab&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# home was on /dev/sda9 during installation&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UUID=&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;a1eabc7&lt;span class=&quot;number&quot;&gt;-17&lt;/span&gt;ef&lt;span class=&quot;number&quot;&gt;-4033&lt;/span&gt;-ae61&lt;span class=&quot;number&quot;&gt;-48549&lt;/span&gt;c0f1483 /&lt;span class=&quot;built_in&quot;&gt;home&lt;/span&gt;           ext4    defaults 	&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;例如我修改后的，然后保存，重启。&lt;br&gt;&lt;figure class=&quot;highlight maxima&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# /etc/fstab: static file &lt;span class=&quot;built_in&quot;&gt;system&lt;/span&gt; information.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Use &#39;blkid&#39; to &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt; the universally &lt;span class=&quot;built_in&quot;&gt;unique&lt;/span&gt; identifier &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# device; this may be used with UUID= as a more robust way to name devices&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# that works &lt;span class=&quot;built_in&quot;&gt;even&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; disks are added &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; removed. See fstab(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# &amp;lt;file &lt;span class=&quot;built_in&quot;&gt;system&lt;/span&gt;&amp;gt; &amp;lt;mount point&amp;gt;   &amp;lt;type&amp;gt;  &amp;lt;options&amp;gt;       &amp;lt;dump&amp;gt;  &amp;lt;pass&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# / was on /dev/sda3 during installation&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UUID=&lt;span class=&quot;number&quot;&gt;57006982&lt;/span&gt;-8ad1-442f-a7d6-c56ee2e68306 /               ext4    &lt;span class=&quot;built_in&quot;&gt;errors&lt;/span&gt;=remount-ro &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# swap was on /dev/sda8 during installation&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UUID=43060bdb-&lt;span class=&quot;number&quot;&gt;2b29&lt;/span&gt;-424f-&lt;span class=&quot;number&quot;&gt;88b7&lt;/span&gt;-84ad64de7851 none            swap    sw              &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# home was on /dev/sda9 during installation&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;UUID=9a1eabc7-17ef-&lt;span class=&quot;number&quot;&gt;4033&lt;/span&gt;-ae61-48549c0f1483 /home           ext4    defaults 	&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;       &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;修改源&quot;&gt;&lt;a href=&quot;#修改源&quot; class=&quot;headerlink&quot; title=&quot;修改源&quot;&gt;&lt;/a&gt;修改源&lt;/h3&gt;&lt;p&gt;可以自定义 源，值得注意的是，当通过设置-》软件源——》服务器位置的时候，会重写掉我们自定义的文件。&lt;br&gt;&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo gedit /etc/apt/sources.&lt;span class=&quot;built_in&quot;&gt;list&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后添加下面，保存，更新即可。&lt;br&gt;&lt;figure class=&quot;highlight armasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;## 中国的骨干源&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt; http://&lt;span class=&quot;meta&quot;&gt;cn&lt;/span&gt;.archive.ubuntu.com/ubuntu/ trusty main restricted universe &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt; http://&lt;span class=&quot;meta&quot;&gt;cn&lt;/span&gt;.archive.ubuntu.com/ubuntu/ trusty-&lt;span class=&quot;keyword&quot;&gt;backports &lt;/span&gt;main restricted universe &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt; http://&lt;span class=&quot;meta&quot;&gt;cn&lt;/span&gt;.archive.ubuntu.com/ubuntu/ trusty-proposed main restricted universe &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt;-src http://&lt;span class=&quot;meta&quot;&gt;cn&lt;/span&gt;.archive.ubuntu.com/ubuntu/ trusty main restricted universe &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt;-src http://&lt;span class=&quot;meta&quot;&gt;cn&lt;/span&gt;.archive.ubuntu.com/ubuntu/ trusty-&lt;span class=&quot;keyword&quot;&gt;backports &lt;/span&gt;main restricted universe &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;## 阿里云&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt; http://mirrors.aliyun.com/ubuntu trusty main restricted&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt;-src http://mirrors.aliyun.com/ubuntu trusty main restricted&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt; http://mirrors.aliyun.com/ubuntu trusty &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt;-src http://mirrors.aliyun.com/ubuntu trusty &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt; http://mirrors.aliyun.com/ubuntu trusty-updates &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt;-src http://mirrors.aliyun.com/ubuntu trusty-updates &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt; http://mirrors.aliyun.com/ubuntu trusty-&lt;span class=&quot;keyword&quot;&gt;backports &lt;/span&gt;main restricted universe &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;deb&lt;/span&gt;-src http://mirrors.aliyun.com/ubuntu trusty-&lt;span class=&quot;keyword&quot;&gt;backports &lt;/span&gt;main restricted universe &lt;span class=&quot;keyword&quot;&gt;multiverse&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;常用软件&quot;&gt;&lt;a href=&quot;#常用软件&quot; class=&quot;headerlink&quot; title=&quot;常用软件&quot;&gt;&lt;/a&gt;常用软件&lt;/h3&gt;&lt;figure class=&quot;highlight smali&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;安装fcitx-googlepinyin 输入法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install fcitx* fcitx-googlepinyin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;新立得软件包 (synaptic) 和经典菜单(classicMenu Indicator)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install synaptic&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在任务栏显示网速&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo&lt;span class=&quot;built_in&quot;&gt; add-apt-repository &lt;/span&gt;ppa:nilarimogard/webupd8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install indicator-netspeed&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;GCC-降级和多版本共存&quot;&gt;&lt;a href=&quot;#GCC-降级和多版本共存&quot; class=&quot;headerlink&quot; title=&quot;GCC 降级和多版本共存&quot;&gt;&lt;/a&gt;GCC 降级和多版本共存&lt;/h3&gt;&lt;p&gt;查看已安装版本 gcc -v ,我们可以通过修改优先级的方法来实现gcc 、g++ 的多版本共存。&lt;/p&gt;
&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;安装 gcc-&lt;span class=&quot;number&quot;&gt;4.7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install gcc-&lt;span class=&quot;number&quot;&gt;4.7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;设置当前系统两个版本gcc 及其优先级&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo update-alternatives --install &lt;span class=&quot;regexp&quot;&gt;/usr/&lt;/span&gt;bin&lt;span class=&quot;regexp&quot;&gt;/gcc gcc /u&lt;/span&gt;sr&lt;span class=&quot;regexp&quot;&gt;/bin/g&lt;/span&gt;cc-&lt;span class=&quot;number&quot;&gt;4.7&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;80&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo update-alternatives --install &lt;span class=&quot;regexp&quot;&gt;/usr/&lt;/span&gt;bin&lt;span class=&quot;regexp&quot;&gt;/gcc gcc /u&lt;/span&gt;sr&lt;span class=&quot;regexp&quot;&gt;/bin/g&lt;/span&gt;cc-&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;通过输入下面的指令，查看当前 gcc 的配置情况&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo &lt;span class=&quot;keyword&quot;&gt;update&lt;/span&gt;-alternatives &lt;span class=&quot;comment&quot;&gt;--config gcc&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight asciidoc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pi@MINDCONT:~$ sudo update-alternatives --config gcc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;有 2 个候选项可用于替换 gcc (提供 /usr/bin/gcc)。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;  选择       路径            优先级  状态&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;------------------------------------------------------------&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;bullet&quot;&gt;* &lt;/span&gt;0            /usr/bin/gcc-4.7   80        自动模式&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;code&quot;&gt;  1            /usr/bin/gcc-4.7   80        手动模式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;code&quot;&gt;  2            /usr/bin/gcc-5     60        手动模式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;对于 g++ 同理 .&lt;br&gt;&lt;figure class=&quot;highlight brainfuck&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;apt&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;alternatives&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/usr/bin/g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/usr/bin/g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;80&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;alternatives&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/usr/bin/g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/usr/bin/g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;60&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;alternatives&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;pi@MINDCONT:~$&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;alternatives&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;有&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;个候选项可用于替换&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;(提供&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;/usr/bin/g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;)。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;选择&lt;/span&gt;       &lt;span class=&quot;comment&quot;&gt;路径&lt;/span&gt;            &lt;span class=&quot;comment&quot;&gt;优先级&lt;/span&gt;  &lt;span class=&quot;comment&quot;&gt;状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;0&lt;/span&gt;            &lt;span class=&quot;comment&quot;&gt;/usr/bin/g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;7&lt;/span&gt;   &lt;span class=&quot;comment&quot;&gt;80&lt;/span&gt;        &lt;span class=&quot;comment&quot;&gt;自动模式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;1&lt;/span&gt;            &lt;span class=&quot;comment&quot;&gt;/usr/bin/g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;7&lt;/span&gt;   &lt;span class=&quot;comment&quot;&gt;80&lt;/span&gt;        &lt;span class=&quot;comment&quot;&gt;手动模式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;2&lt;/span&gt;            &lt;span class=&quot;comment&quot;&gt;/usr/bin/g&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;5&lt;/span&gt;     &lt;span class=&quot;comment&quot;&gt;60&lt;/span&gt;        &lt;span class=&quot;comment&quot;&gt;手动模式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;要维持当前值&lt;/span&gt;&lt;span class=&quot;title&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;title&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;请按&lt;/span&gt;&amp;lt;&lt;span class=&quot;comment&quot;&gt;回车键&lt;/span&gt;&amp;gt;&lt;span class=&quot;comment&quot;&gt;，或者键入选择的编号：&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;安装-shadowsocks&quot;&gt;&lt;a href=&quot;#安装-shadowsocks&quot; class=&quot;headerlink&quot; title=&quot;安装 shadowsocks&quot;&gt;&lt;/a&gt;安装 shadowsocks&lt;/h3&gt;&lt;figure class=&quot;highlight cmake&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; python-pip&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pip &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; shadowsocks&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;新建 gui-config.json 文件，将你的信息按照下面的格式填写后保存。&lt;br&gt;&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;&quot;server&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;your_server_ip&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;&quot;server_port&quot;&lt;/span&gt; : server_port,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;&quot;local_port&quot;&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1080&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;&quot;password&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;password&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;&quot;method&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;rc4-md5&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可以通过命令行运行,注意换成你的路径&lt;br&gt;&lt;figure class=&quot;highlight dts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta-keyword&quot;&gt;/usr/&lt;/span&gt;local&lt;span class=&quot;meta-keyword&quot;&gt;/bin/&lt;/span&gt;sslocal -c &lt;span class=&quot;meta-keyword&quot;&gt;/home/&lt;/span&gt;pi&lt;span class=&quot;meta-keyword&quot;&gt;/work/&lt;/span&gt;ss/gui-config.json&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后在firefox 浏览器-》高级-》网络设置中选择，自定义&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;SOCKS5&lt;/span&gt; 地址 127&lt;span class=&quot;selector-class&quot;&gt;.0&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.0&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.1&lt;/span&gt; 端口 1080&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/firefox_test.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;如果这时能够正常访问 &lt;a href=&quot;https://www.google.com/ncr&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.google.com/ncr&lt;/a&gt; ， 即说明 shadowsocks安装和你的配置文件都没有问题。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/browser.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;下面我们修改开机启动项，使它能够开机自启动&lt;br&gt;&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo gedit /etc/rc.&lt;span class=&quot;keyword&quot;&gt;local&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在打开的文件中，将下面的指令修改为你的路径，这条命令是程序后台运行并将输出日志重定向到ss.log 文件里&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;nohup &lt;span class=&quot;regexp&quot;&gt;/usr/&lt;/span&gt;local&lt;span class=&quot;regexp&quot;&gt;/bin/&lt;/span&gt;sslocal -c &lt;span class=&quot;regexp&quot;&gt;/home/&lt;/span&gt;pi&lt;span class=&quot;regexp&quot;&gt;/work/&lt;/span&gt;ss&lt;span class=&quot;regexp&quot;&gt;/gui-config.json&amp;gt;/&lt;/span&gt;home&lt;span class=&quot;regexp&quot;&gt;/pi/&lt;/span&gt;work&lt;span class=&quot;regexp&quot;&gt;/shadowsocks/&lt;/span&gt;ss.log&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;通过autoproxy 文件实现，国内网站和国外网站走不同的线路&lt;br&gt;&lt;figure class=&quot;highlight cmake&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo pip &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; genpac&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pip &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; --upgrade genpac&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 通过代理，下载autoproxy.pac 文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;genpac -p &lt;span class=&quot;string&quot;&gt;&quot;SOCKS5 127.0.0.1:1080&quot;&lt;/span&gt; --gfwlist-proxy=&lt;span class=&quot;string&quot;&gt;&quot;SOCKS5 127.0.0.1:1080&quot;&lt;/span&gt; --output=&lt;span class=&quot;string&quot;&gt;&quot;~/autoproxy.pac&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在设置-》网络-》代理-》自定义，保存&lt;br&gt;&lt;figure class=&quot;highlight crystal&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;file:&lt;/span&gt;/&lt;span class=&quot;regexp&quot;&gt;//home&lt;/span&gt;&lt;span class=&quot;regexp&quot;&gt;/pi/work&lt;/span&gt;&lt;span class=&quot;regexp&quot;&gt;/shadowsocks/autoproxy&lt;/span&gt;.pac&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/autoproxy.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;最后，在firefox 浏览器-》高级-》网络设置中选择，使用系统代理 。重启电脑后，再次访问 &lt;a href=&quot;https://www.google.com/ncr&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.google.com/ncr&lt;/a&gt; 试试吧！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;说linux，不得不从unix 发展历史和发行版本说起，由通用电气\AT&amp;amp;T\MIT 合作开发unix。在美苏冷战期间,美国国防部 ncp &amp;gt;tcp/ip 捆绑 unix 上。c 语言之父肯.汤普森 丹尼斯.里奇重写了unix 底层代码。发行版本&lt;br&gt;&lt;figure class=&quot;highlight mathematica&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AIX 	IBM 	PowerPC&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;HP-UX 	HP 	PA-RISC&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Solaris sun	SPARC&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Linux	&lt;span class=&quot;keyword&quot;&gt;Red&lt;/span&gt; Hat ,ubuntu (Intel AMD)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://blog.mindcont.com/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>CNN 基本公式分析</title>
    <link href="http://blog.mindcont.com/2016/09/18/cnn/"/>
    <id>http://blog.mindcont.com/2016/09/18/cnn/</id>
    <published>2016-09-18T02:09:36.307Z</published>
    <updated>2016-09-18T03:21:10.540Z</updated>
    
    <content type="html">&lt;p&gt;之前工作里写过CNN，一眨眼，快到一年了。写CNN的过程，使我有了很大的成长，对BP的理解也深刻了许多。之前写得文档里，只是针对论文做了一个解析，现在放出一些关键的推导过程，也稍微回顾一下。关于训练模型里的一些trick，很多时候是需要尝试的，我突然发现：其实也很需要想象力！&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;注：很多图片是之前做的PPT截图，如果用mathjex重复打公式和排版了，比较费时间，所以直接截图了。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;卷积神经网络&lt;/strong&gt;&lt;br&gt;卷积神经网络(convolutional neural network)是利用模型特性来处理掉输入的波动而获得不变性特征，由LeCun提出，目前广泛的应用于图像数据。&lt;/p&gt;
&lt;h2 id=&quot;基本操作&quot;&gt;&lt;a href=&quot;#基本操作&quot; class=&quot;headerlink&quot; title=&quot;基本操作&quot;&gt;&lt;/a&gt;基本操作&lt;/h2&gt;&lt;p&gt;卷积操作主要是f(x)g(x)在重合区域的积分。&lt;/p&gt;
&lt;h3 id=&quot;一维卷积&quot;&gt;&lt;a href=&quot;#一维卷积&quot; class=&quot;headerlink&quot; title=&quot;一维卷积&quot;&gt;&lt;/a&gt;一维卷积&lt;/h3&gt;&lt;p&gt;如下图所示，是一维卷积。类似于点积，&lt;strong&gt;y = x*w&lt;/strong&gt;,下图的w=[1,0,-1]。这里引入了一个概念&lt;strong&gt;局部接受野&lt;/strong&gt;(local receptive fields)和&lt;strong&gt;权值共享&lt;/strong&gt;(weight sharing)。为了方便表述，灰色的是隐含层i，黄色是下一层隐含层i+1。对于传统的神经网络而言，i+1层的一个神经元是接收了i层所有神经元节点的加权求和得到的，而这里，则仅接收i层神经元局部输入的加权得到，也就是局部接受野的概念。而权值共享，指的是对于i+1层的每一个神经元用的权重w是同一个。原来是7个输入5个输出的话，那么需要w是&lt;code&gt;7*5=35&lt;/code&gt;个参数，如果使用局部接受野，输入变为了3，则需要w是&lt;code&gt;3*5=15&lt;/code&gt;个参数。如果再使用权值共享，那么就变成了3个参数！使得整个网络的参数大为减少。&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_1d_conv.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;当然，i层可以对应多个i+1层，也就是每一个共享的w得到一个i+1层，多个共享的w就得到了多个i+1层，这个数一般称之为feature map数。这样可以学习到更多的特征。&lt;br&gt;&lt;strong&gt;这样能够更好的表达局部特征！而通过不断的深度，使得局部特征聚合为高级特征&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;二维卷积&quot;&gt;&lt;a href=&quot;#二维卷积&quot; class=&quot;headerlink&quot; title=&quot;二维卷积&quot;&gt;&lt;/a&gt;二维卷积&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/images/resources/cnn_Convolution_schematic.gif&quot; alt=&quot;&quot;&gt;&lt;br&gt;这里不细说，下面会细说。&lt;/p&gt;
&lt;h3 id=&quot;三维卷积&quot;&gt;&lt;a href=&quot;#三维卷积&quot; class=&quot;headerlink&quot; title=&quot;三维卷积&quot;&gt;&lt;/a&gt;三维卷积&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/images/resources/cnn_3d_conv.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;目前多数都是采用3d卷积，本质跟2d卷积一样。就是维度增加了，对应的输入变为了4维，而w也是4维的，这样卷积求和得到输出。&lt;/p&gt;
&lt;p&gt;除了卷积之外，cnn还有一个核心的概念，子抽样(subsampling)，一般用pooling来表示。pooling的种类有很多种，主要是用一个特征来表达一个局部特征，这样使得参数大为减少。常见的有max pooling和mean pooling，L2 pooling。max pooling就是用局部特征的最大值来表达这个区域的特征。其他依次类推。如下图所示：&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_Pooling_schematic.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;另外，对于图像里的一些其他操作，比如stride，表示卷积每次的移动步长，pad表示对图像进行阔边，防止在卷积操作中丢失边界特征。&lt;/p&gt;
&lt;h2 id=&quot;卷积的BP&quot;&gt;&lt;a href=&quot;#卷积的BP&quot; class=&quot;headerlink&quot; title=&quot;卷积的BP&quot;&gt;&lt;/a&gt;卷积的BP&lt;/h2&gt;&lt;p&gt;卷积的BP推导可以概括为3个卷积。具体如下：&lt;br&gt;这里我们以2d卷积为例子，3d卷积的话，就是在2d上增加一个循环就可以了。&lt;br&gt;如下图所示：&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_2d_conv.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;这是一个forward过程，就是第二部分提到的卷积操作。这里仅用大O里面加个x表示卷积，&lt;strong&gt;注意后者是卷积核&lt;/strong&gt;，也就是filter或者说weight。&lt;/p&gt;
&lt;p&gt;那么误差反馈就比较容易，首先是得到了上层传递过来的delta，之后对输入的x求导得到dx用于反馈误差。之后对w求导，得到dw，用于更新梯度。&lt;br&gt;这个比较简单，因为本质都是点积，只需要对应的求导再加和就可以了。如下图所示：&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_dx.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;对应的求解，发现这个操作类似于卷积。但是对于&lt;code&gt;x_{0,0}&lt;/code&gt;的求解，需要对delta进行阔边以方便直接使用卷积操作。如下图所示:&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_dx_border.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;接下来是对w求导，得到更新梯度。计算也是一样的，找到w参与的点积计算，拿到导数合并一下就可以了。如下图所示，我们发现同样可以用卷积操作来表示：&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_dw.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;那么我们可以联系到线性回归，以方便我们记忆了：&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_bp.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;以上就是关于卷积BP的推导和证明了。图片是在ppt里编辑好之后截图过来的，因为直接写一堆公式的话，感觉容易乱。&lt;br&gt;此外，我们看到也能看到对于&lt;code&gt;5*5&lt;/code&gt;的卷积操作，其实是可以用2个&lt;code&gt;3*3&lt;/code&gt;的卷积操作来代替，同时还能达到层数更多的效果。目前通过可视化来看，深度学习的特征是层级式的，特征由低级不断的汇总为高级特征。&lt;/p&gt;
&lt;h2 id=&quot;pooling层BP&quot;&gt;&lt;a href=&quot;#pooling层BP&quot; class=&quot;headerlink&quot; title=&quot;pooling层BP&quot;&gt;&lt;/a&gt;pooling层BP&lt;/h2&gt;&lt;p&gt;对于pooling层，如何进行BP操作呢？pooling层比卷积层简单的地方是，pooling是没有参数的，所以只需要得到dx之后用于误差传递就可以了。对于mean pooling，其实相当于卷积都是均值，比如2*2的pooling，那么w就相当于[[0.25, 0.25],[0.25, 0.25]]，我们直接套用卷积的公式就可以了。而对于L2 pooling等等类似的pooling，其实是可以拆分成平方操作，sum pooling，再开方的三个操作分别传递误差就可以，而sum pooling也可以套用卷积操作。唯一不一样的是max pooling，没有固定的卷积核，所以需要循环一下，对于输入最大的点进行求导。pooling 如下图所示：&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_pool.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;从max 和 mean等操作也可以看到，pooling的不同。&lt;br&gt;pooling的本质是一种局部特征的表达。max pooling的是用图像某一区域像素值的最大值来表示该区域的特征，而mean pool是用图像某一区域像素值的均值来表示该区域的特征。这两个pooling操作都提高了提取特征的不变性，而特征提取的误差主要来自两个方面：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;邻域大小受限造成的估计值方差增大；&lt;/li&gt;
&lt;li&gt;卷积层参数误差造成估计均值的偏移。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一般来说，mean-pooling能减小第一种误差，更多的保留图像的背景信息，max-pooling能减小第二种误差(导数不影响其他点)，更多的保留纹理信息。在图像处理中，使用max pooling多于mean pooling。&lt;/p&gt;
&lt;h2 id=&quot;im2col&quot;&gt;&lt;a href=&quot;#im2col&quot; class=&quot;headerlink&quot; title=&quot;im2col&quot;&gt;&lt;/a&gt;im2col&lt;/h2&gt;&lt;p&gt;实际在计算的卷积的时候，通常可以使用一些卷积操作库。在类比线性回归的时候，也容易想到，如果把二维的卷积核w转为一维的话，操作会不会更快？因为在误差反馈的时候，不需要再重复的循环。因此，有一种方式是把二维图像转为一维向量进行计算的方式。如下图所示：&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_im2col.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;简单的说，就是把操作转为向量的形式。那么计算就和线性回归一样了，如下：&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_im2col_2.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;对于误差反馈，我们还需要把反馈的误差，再转回到二维图像的形式，也就是col2im，如下图所示：&lt;br&gt;&lt;img src=&quot;/images/resources/cnn_col2im.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;转换的时候，是不断的累加的。&lt;/p&gt;
&lt;h2 id=&quot;code&quot;&gt;&lt;a href=&quot;#code&quot; class=&quot;headerlink&quot; title=&quot;code&quot;&gt;&lt;/a&gt;code&lt;/h2&gt;&lt;p&gt;自己写了一个kitnet的神经网络库，最近比较忙，很多优化算法和layer还没实现。这里简单的给一下卷积的部分code。网上有很多好的代码值得参考和学习，这里就是配合上面的截图，给关键的几个函数。&lt;/p&gt;
&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ConvLayer&lt;/span&gt;(&lt;span class=&quot;title&quot;&gt;ParamLayer&lt;/span&gt;):&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, shape, pad_w=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, pad_h=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, stride=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                 name=&lt;span class=&quot;string&quot;&gt;&quot;ConvLayer&quot;&lt;/span&gt;, init_method=&lt;span class=&quot;string&quot;&gt;&quot;random&quot;&lt;/span&gt;, debug=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        shape (input_channel, filter_size, filter_size, output_channel)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        c: channel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        f: filter_size&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        b: batch_size&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        w: width&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        h: height&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &#39;&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(ConvLayer, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;).__init_&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;(name, shape, init_method)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.in_channel = shape[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_h = shape[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_w = shape[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.out_channel = shape[&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.indx = &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_h * &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_w * &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.in_channel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_h = pad_h&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_w = pad_w&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.stride = stride&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.debug = debug&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;forward&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, x)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        x shape: (batch_size, channel, height, weight)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &#39;&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# get the output shape&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.batch_size, in_channel, in_h, in_w = x.shape&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        assert in_channel == &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.in_channel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        out_h = (in_h + &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; * &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_h - &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_h) / &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.stride + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        out_w = (in_w + &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; * &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_w - &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_w) / &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.stride + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        assert out_h % &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        assert out_w % &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        out_h, out_w = int(out_h), int(out_w)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# pad input array&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        x_padded = np.pad(x, ((&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;), (&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;), (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_h, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_h),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                              (&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_w, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_w)), &lt;span class=&quot;string&quot;&gt;&#39;constant&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.h_padded, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.w_padded = x_padded.shape[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;], x_padded.shape[&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# im2col, (out_h*out_w*batch_size, filter_h*filter_w*in_channel)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        x_cols = None&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; xrange(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_h, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.h_padded+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.stride)&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; j &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; xrange(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_w, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.w_padded+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.stride)&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; n &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; xrange(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.batch_size)&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    tmp = x_padded[n, &lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;, i-&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;symbol&quot;&gt;filter_h:&lt;/span&gt;i, j-&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;symbol&quot;&gt;filter_w:&lt;/span&gt;j]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    field = tmp.reshape((&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.indx))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; x_cols is &lt;span class=&quot;symbol&quot;&gt;None:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        x_cols = field&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;symbol&quot;&gt;else:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        x_cols = np.vstack((x_cols, field))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.input = x_cols&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# weight2col, (indx, out_channel)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.w_cols = &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.W.reshape(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.indx, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.out_channel)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# output_col shape, out_h*out_w*batch_size, out_channel&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.output_col = np.dot(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.input, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.w_cols) + &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# output shape, (batch_size, channel, height, weight)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.output = &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.output_col.reshape(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.batch_size, out_h,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                              out_w, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.out_channel)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;symbol&quot;&gt;debug:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            print &lt;span class=&quot;string&quot;&gt;&quot;x_cols.shape = &quot;&lt;/span&gt;, x_cols.shape&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            print &lt;span class=&quot;string&quot;&gt;&quot;w_cols.shape = &quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.w_cols.shape&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            print &lt;span class=&quot;string&quot;&gt;&quot;output.shape = &quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.output.shape&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;backward&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, delta)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        assert delta.size == &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.output.size&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        delta_cols = delta.reshape(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.output_col.shape)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# grad_x_cols, (out_h*out_w*batch_size, indx)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        grad_x_cols = np.dot(delta_cols, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.w_cols.T)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# get the grad&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        grad_w = np.dot(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.input.T, delta_cols)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        grad_b = np.sum(delta_cols, axis=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.grad =[grad_w.reshape(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.W.shape), grad_b.reshape(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.b.shape)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# col2im: convert back from x_cols to x&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# (batch_size, channel, height, weight)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        dx_padded = np.zeros((&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.batch_size, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.in_channel,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                              &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.h_padded, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.w_padded))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        idx = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        tmp_shape = (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.in_channel, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_h, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_w)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; xrange(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_h, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.h_padded+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.stride)&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; j &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; xrange(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.filter_w, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.w_padded+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.stride)&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; n &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; xrange(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.batch_size)&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    tmp = grad_x_cols[idx,&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;].reshape(tmp_shape)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    dx_padded[&lt;span class=&quot;symbol&quot;&gt;n:&lt;/span&gt;n+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                              i - &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;symbol&quot;&gt;filter_h:&lt;/span&gt;i,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                              j - &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;symbol&quot;&gt;filter_w:&lt;/span&gt;j] += tmp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    idx += &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_h == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.delta = dx_padded&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;symbol&quot;&gt;else:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.delta = dx_padded[&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;symbol&quot;&gt;pad_h:&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_h,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                   &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;symbol&quot;&gt;pad_w:&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.pad_w]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# debug&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;symbol&quot;&gt;debug:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            print &lt;span class=&quot;string&quot;&gt;&quot;grad_w.shape = &quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.grad[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].shape&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            print &lt;span class=&quot;string&quot;&gt;&quot;delta.shape = &quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.delta.shape&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;来源&quot;&gt;&lt;a href=&quot;#来源&quot; class=&quot;headerlink&quot; title=&quot;来源&quot;&gt;&lt;/a&gt;来源&lt;/h2&gt;&lt;p&gt;文章：&lt;a href=&quot;http://www.datakit.cn/blog/2016/03/23/bp_cnn.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CNN基本公式分析&lt;/a&gt;&lt;br&gt;来源：&lt;a href=&quot;http://www.datakit.cn/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.datakit.cn/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;之前工作里写过CNN，一眨眼，快到一年了。写CNN的过程，使我有了很大的成长，对BP的理解也深刻了许多。之前写得文档里，只是针对论文做了一个解析，现在放出一些关键的推导过程，也稍微回顾一下。关于训练模型里的一些trick，很多时候是需要尝试的，我突然发现：其实也很需要想象力！&lt;/p&gt;
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
  </entry>
  
  <entry>
    <title>深度学习：数据集篇</title>
    <link href="http://blog.mindcont.com/2016/09/13/dataset/"/>
    <id>http://blog.mindcont.com/2016/09/13/dataset/</id>
    <published>2016-09-13T08:34:32.000Z</published>
    <updated>2016-10-28T07:49:25.142Z</updated>
    
    <content type="html">&lt;p&gt;大数据，数据挖掘，深度学习，终究绕不开数据集，为此单独开一个页面，持续更新各类数据集，希望可以碰出一些好的思路，用深度学习的方法解决一些实际问题。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/princeton.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;CV 开源代码&lt;/th&gt;
&lt;th&gt;链接&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;code&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://www.sigvc.org/bbs/forum.php?mod=viewthread&amp;amp;tid=72&amp;amp;highlight=%B4%FA%C2%EB&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.sigvc.org/bbs/forum.php?mod=viewthread&amp;amp;tid=72&amp;amp;highlight=%B4%FA%C2%EB&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vision.princeton.edu&lt;/td&gt;
&lt;td&gt;vision.princeton.edu/research.html&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ILSVRC 历年竞赛数据集&lt;/th&gt;
&lt;th&gt;链接 (&lt;a href=&quot;http://image-net.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://image-net.org/&lt;/a&gt;)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ILSVRC2016 Challenge&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://image-net.org/challenges/LSVRC/2016/download-images-8r28#det&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://image-net.org/challenges/LSVRC/2016/download-images-8r28#det&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ILSVRC2015 Challenge&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://image-net.org/challenges/LSVRC/2015/download-images-3j16.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://image-net.org/challenges/LSVRC/2015/download-images-3j16.php&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ILSVRC2014 Challenge&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://image-net.org/challenges/LSVRC/2014/download-images-5jj5.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://image-net.org/challenges/LSVRC/2014/download-images-5jj5.php&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ILSVRC2012 Challenge&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://image-net.org/challenges/LSVRC/2012/nonpub-downloads&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://image-net.org/challenges/LSVRC/2012/nonpub-downloads&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ILSVRC2010 Challenge&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://image-net.org/challenges/LSVRC/2010/download-all-nonpub&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://image-net.org/challenges/LSVRC/2010/download-all-nonpub&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;PASCAL VOC Challenge&lt;/th&gt;
&lt;th&gt;链接&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;The PASCAL VOC Challenge 2012&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://host.robots.ox.ac.uk/pascal/VOC/voc2012/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://host.robots.ox.ac.uk/pascal/VOC/voc2012/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;The PASCAL VOC Challenge 2007&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://host.robots.ox.ac.uk/pascal/VOC/voc2007/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://host.robots.ox.ac.uk/pascal/VOC/voc2007/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;th&gt;链接&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;MS-COCO&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://mscoco.org/dataset/#download&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://mscoco.org/dataset/#download&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;youtube人脸&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://www.cs.tau.ac.il/~wolf/ytfaces/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cs.tau.ac.il/~wolf/ytfaces/index.html&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;人脸&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://vis-www.cs.umass.edu/lfw/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://vis-www.cs.umass.edu/lfw/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;三维人脸&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://biometrics.idealtest.org/dbDetailForUser.do?id=8&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://biometrics.idealtest.org/dbDetailForUser.do?id=8&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;文本类&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://blog.csdn.net/freesum/article/details/7370823&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/freesum/article/details/7370823&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;数字图像处理&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://blog.csdn.net/wangyaninglm/article/details/38707257&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/wangyaninglm/article/details/38707257&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;机器视觉中常用的数据测试集&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://blog.csdn.net/maxiemei/article/details/17281767&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/maxiemei/article/details/17281767&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;常用图像数据集：标注、检索&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://www.cnblogs.com/huashiyiqike/p/3778035.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/huashiyiqike/p/3778035.html&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;花卉&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://www.cnblogs.com/fuleying/p/3895817.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/fuleying/p/3895817.html&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;100+诡异的数据集&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;http://www.cnblogs.com/xianghang123/p/3773086.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/xianghang123/p/3773086.html&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;补充&quot;&gt;&lt;a href=&quot;#补充&quot; class=&quot;headerlink&quot; title=&quot;补充&quot;&gt;&lt;/a&gt;补充&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/19969760&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;数据分析和挖掘有哪些公开的数据来源？&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;大数据，数据挖掘，深度学习，终究绕不开数据集，为此单独开一个页面，持续更新各类数据集，希望可以碰出一些好的思路，用深度学习的方法解决一些实际问题。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/princeton.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;tab
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
  </entry>
  
  <entry>
    <title>Caffe 入门指南</title>
    <link href="http://blog.mindcont.com/2016/09/04/caffe-guide-book/"/>
    <id>http://blog.mindcont.com/2016/09/04/caffe-guide-book/</id>
    <published>2016-09-04T15:43:46.000Z</published>
    <updated>2016-11-12T11:24:22.363Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/images/caffe.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://caffe.berkeleyvision.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Caffe&lt;/a&gt;是一个清晰而高效的深度学习的框架，其作者是博士毕业于UC Berkeley的&lt;a href=&quot;http://daggerfs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;贾扬清&lt;/a&gt;，目前在Google工作。&lt;br&gt;&lt;a href=&quot;http://caffe.berkeleyvision.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Caffe&lt;/a&gt;是纯粹的C++/CUDA架构，支持命令行、Python和MATLAB接口；可以在CPU和GPU54直接无缝切换：&lt;br&gt;&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;Caffe&lt;/span&gt;::set_mode(&lt;span class=&quot;attribute&quot;&gt;Caffe&lt;/span&gt;::GPU);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Caffe的优势&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;上手快：模型与相应优化都是以文本形式而非代码形式给出。&lt;/li&gt;
&lt;li&gt;Caffe给出了模型的定义、最优化设置以及预训练的权重，方便立即上手。&lt;/li&gt;
&lt;li&gt;速度快：能够运行最棒的模型与海量的数据。&lt;/li&gt;
&lt;li&gt;Caffe与cuDNN结合使用，测试AlexNet模型，在K40上处理每张图片只需要1.17ms.&lt;/li&gt;
&lt;li&gt;模块化：方便扩展到新的任务和设置上。&lt;/li&gt;
&lt;li&gt;可以使用Caffe提供的各层类型来定义自己的模型。&lt;/li&gt;
&lt;li&gt;开放性：公开的代码和参考模型用于再现。&lt;/li&gt;
&lt;li&gt;社区好：可以通过BSD-2参与开发与讨论。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;入门篇&quot;&gt;&lt;a href=&quot;#入门篇&quot; class=&quot;headerlink&quot; title=&quot;入门篇&quot;&gt;&lt;/a&gt;入门篇&lt;/h2&gt;&lt;p&gt;前期入门主要根据自己的机器（nvidia显卡）完成Caffe 的安装，运行 &lt;a href=&quot;http://caffe.berkeleyvision.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Caffe官网&lt;/a&gt;和  &lt;a href=&quot;https://github.com/bvlc/caffe&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;github&lt;/a&gt; repo 上的&lt;strong&gt;例程&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h3&gt;&lt;p&gt;安装请仔细阅读下面的中文教程，&lt;strong&gt;编译中遇到的错误&lt;/strong&gt;请在 github issues用英文仔细查看错误原因。而且大部分都是&lt;strong&gt;环境依赖，路径错误&lt;/strong&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.mindcont.com/2016/07/20/ubuntu1404-caffe-r3-cuda7-5-mkl/&quot;&gt;Ubuntu 14.04 64bit + Caffe rc3 + CUDA 7.5 + Intel MKL 配置说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://caffe.berkeleyvision.org/installation.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/bvlc/caffe/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;issues&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;例程&quot;&gt;&lt;a href=&quot;#例程&quot; class=&quot;headerlink&quot; title=&quot;例程&quot;&gt;&lt;/a&gt;例程&lt;/h3&gt;&lt;p&gt;配合官方文档 例如mnist 手写体识别，其文档在 $CAFFE_ROOT/examples/mnist/Readme.md ，运行并理解其流程。尤其以下面几个最为重要，当细细品味。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;例程名&lt;/th&gt;
&lt;th&gt;实现&lt;/th&gt;
&lt;th&gt;学习意义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;LeNet MNIST&lt;/td&gt;
&lt;td&gt;手写数字识别&lt;/td&gt;
&lt;td&gt;理解模型&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CaffeNet C++ Classification example&lt;/td&gt;
&lt;td&gt;c++ 代码实现图片分类&lt;/td&gt;
&lt;td&gt;理解如何用c++ 调用caffe&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Fine-tuning for style recognition&lt;/td&gt;
&lt;td&gt;根据自己数据集微调模型&lt;/td&gt;
&lt;td&gt;迁移学习，构建自己数据集，微调模型&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Web demo&lt;/td&gt;
&lt;td&gt;基于web 网页的图片分类&lt;/td&gt;
&lt;td&gt;如何构建 client /server&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;入门书籍&quot;&gt;&lt;a href=&quot;#入门书籍&quot; class=&quot;headerlink&quot; title=&quot;入门书籍&quot;&gt;&lt;/a&gt;入门书籍&lt;/h3&gt;&lt;p&gt;如果链接失效，可以访问 &lt;a href=&quot;ftp://mindcont.com/Book&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ftp://mindcont.com/Book&lt;/a&gt; 获取。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://pan.baidu.com/s/1c0Ri2Py#path=%252FCaffeCN%25E7%25BF%25BB%25E8%25AF%2591&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Caffe 官方教程中译本&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://book.douban.com/subject/26825082/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;深度学习21天实战Caffe-赵永科&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;ftp://mindcont.com/Book/caffe学习笔记.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;薛开宇-caffe学习笔记&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://pan.baidu.com/s/1hq8IoHe&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;贾扬清-DIY Deep Learning for Vision-  a Hands-On Tutorial with Caffe&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;答疑社区&quot;&gt;&lt;a href=&quot;#答疑社区&quot; class=&quot;headerlink&quot; title=&quot;答疑社区&quot;&gt;&lt;/a&gt;答疑社区&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://caffecn.cn/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Caffe 中文社区&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;&quot;&gt;Caffe 深度学习交流2群 534492004&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gitter.im/BVLC/caffe&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Caffe 讨论组&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://valser.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Valse 视觉与学习青年研讨会&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;&quot;&gt;VALSE-D群 481109645&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://valser.org/article-86-1.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;历次VALSE Webinar活动的录像&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;进阶篇&quot;&gt;&lt;a href=&quot;#进阶篇&quot; class=&quot;headerlink&quot; title=&quot;进阶篇&quot;&gt;&lt;/a&gt;进阶篇&lt;/h2&gt;&lt;h3 id=&quot;CS231N-课程&quot;&gt;&lt;a href=&quot;#CS231N-课程&quot; class=&quot;headerlink&quot; title=&quot;CS231N 课程&quot;&gt;&lt;/a&gt;CS231N 课程&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://cs231n.stanford.edu/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CS231n: Convolutional Neural Networks for Visual Recognition&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://pan.baidu.com/s/1pKsTivp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;视频和课件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cs231n.stanford.edu/project.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;课程资源&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/dinosoft/article/details/51813615&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;深度学习斯坦福cs231n 课程笔记&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/intelligentunit?topic=%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%EF%BC%88Deep%20Learning%EF%BC%89&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;智能单元-深度学习-cs231n 中文笔记&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://deeplearning.stanford.edu/wiki/index.php/UFLDL%E6%95%99%E7%A8%8B&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;UFLDL教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://openclassroom.stanford.edu/MainFolder/CoursePage.php?course=MachineLearning&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Machine Learning&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;数据集&quot;&gt;&lt;a href=&quot;#数据集&quot; class=&quot;headerlink&quot; title=&quot;数据集&quot;&gt;&lt;/a&gt;数据集&lt;/h3&gt;&lt;p&gt;鉴于各式各样的数据集种类繁多，此部分单独列为一个页面，请参考下面的链接。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.mindcont.com/2016/09/13/Deep-learning-dataset/&quot;&gt;深度学习：数据集篇&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;博客&quot;&gt;&lt;a href=&quot;#博客&quot; class=&quot;headerlink&quot; title=&quot;博客&quot;&gt;&lt;/a&gt;博客&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://tech.meituan.com/mt-mlinaction-how-to-ml.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;实例详解机器学习如何解决问题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/louyihang-loves-baiyan/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;楼燚(yì)航的blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/liumaolincycle/article/category/5705161&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;liumaolincycle的博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/denny402&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;denny的学习专栏&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;微调网络&quot;&gt;&lt;a href=&quot;#微调网络&quot; class=&quot;headerlink&quot; title=&quot;微调网络&quot;&gt;&lt;/a&gt;微调网络&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;&quot;&gt;待续&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/louyihang-loves-baiyan/p/5038758.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;楼燚(yì)航的blog-Caffe fine-tuning 微调网络&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/sinat_30071459/article/details/51613304&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;小咸鱼_-基于caffe的图像分类(1)——制作train.txt和val.txt文件&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;可视化&quot;&gt;&lt;a href=&quot;#可视化&quot; class=&quot;headerlink&quot; title=&quot;可视化&quot;&gt;&lt;/a&gt;可视化&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;deep-visualization-toolbox &lt;a href=&quot;https://github.com/yosinski/deep-visualization-toolbox&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;code&lt;/a&gt; &lt;a href=&quot;http://arxiv.org/abs/1506.06579&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;paper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;&quot;&gt;待续&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;扩展新layer&quot;&gt;&lt;a href=&quot;#扩展新layer&quot; class=&quot;headerlink&quot; title=&quot;扩展新layer&quot;&gt;&lt;/a&gt;扩展新layer&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/sunshine_in_moon/article/details/51453951&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sunshine_in_Moon的专栏-Caffe扩展新层&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;高级篇&quot;&gt;&lt;a href=&quot;#高级篇&quot; class=&quot;headerlink&quot; title=&quot;高级篇&quot;&gt;&lt;/a&gt;高级篇&lt;/h2&gt;&lt;h3 id=&quot;调参&quot;&gt;&lt;a href=&quot;#调参&quot; class=&quot;headerlink&quot; title=&quot;调参&quot;&gt;&lt;/a&gt;调参&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/41631631/answer/94816420&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;你有哪些deep learning（rnn、cnn）调参的经验？&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://daggerfs.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Yangqing Jia (贾扬清)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://image-net.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Image Net&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;作者:&lt;a href=&quot;https://github.com/mindcont&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;mindcont&lt;/a&gt;  2016-08-22 第一次编辑&lt;br&gt;&lt;strong&gt;转载注明出处 &lt;a href=&quot;http://blog.mindcont.com/2016/08/22/caffe-guide-book/&quot;&gt;http://blog.mindcont.com/2016/08/22/caffe-guide-book/&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/caffe.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="caffe" scheme="http://blog.mindcont.com/tags/caffe/"/>
    
  </entry>
  
  <entry>
    <title>Git 常用指令</title>
    <link href="http://blog.mindcont.com/2016/08/18/git-commands/"/>
    <id>http://blog.mindcont.com/2016/08/18/git-commands/</id>
    <published>2016-08-18T13:08:09.000Z</published>
    <updated>2016-09-13T09:30:08.726Z</updated>
    
    <content type="html">&lt;p&gt;Git 是由 Linux 之父 Linus Tovalds 为了更好地管理linux内核开发而创立的分布式版本控制／软件配置管理软件。简单来说，Git 是一个管理你的「代码的历史记录」的工具。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;/images/github.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;运行平台&lt;/th&gt;
&lt;th&gt;环境&lt;/th&gt;
&lt;th&gt;链接&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft Windows [版本 10.0.10240]&lt;/td&gt;
&lt;td&gt;GitHub Desktop (3.1.1.4)&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;https://desktop.github.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://desktop.github.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Ubuntu [版本14.04]&lt;/td&gt;
&lt;td&gt;GitKraken&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;https://www.gitkraken.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.gitkraken.com/&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;常用命令&quot;&gt;&lt;a href=&quot;#常用命令&quot; class=&quot;headerlink&quot; title=&quot;常用命令&quot;&gt;&lt;/a&gt;常用命令&lt;/h2&gt;&lt;h3 id=&quot;创建新仓库&quot;&gt;&lt;a href=&quot;#创建新仓库&quot; class=&quot;headerlink&quot; title=&quot;创建新仓库&quot;&gt;&lt;/a&gt;创建新仓库&lt;/h3&gt;&lt;p&gt;创建新文件夹，打开，然后执行&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;git&lt;/span&gt; init&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;以创建新的 git 仓库。&lt;/p&gt;
&lt;h3 id=&quot;拉取远程仓库&quot;&gt;&lt;a href=&quot;#拉取远程仓库&quot; class=&quot;headerlink&quot; title=&quot;拉取远程仓库&quot;&gt;&lt;/a&gt;拉取远程仓库&lt;/h3&gt;&lt;p&gt;执行如下命令以创建一个远程仓库的克隆版本：&lt;br&gt;&lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git clone username&lt;span class=&quot;variable&quot;&gt;@host&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:/path/to/repository&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;举个实例&lt;br&gt;&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cd /home/pi&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;keyword&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;https&lt;/span&gt;://github.com/mindcont/caffe.git&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;工作流&quot;&gt;&lt;a href=&quot;#工作流&quot; class=&quot;headerlink&quot; title=&quot;工作流&quot;&gt;&lt;/a&gt;工作流&lt;/h3&gt;&lt;p&gt;你的本地仓库由 git 维护的三棵“树”组成。第一个是你的 &lt;strong&gt;工作目录&lt;/strong&gt;，它持有实际文件；第二个是 &lt;strong&gt;缓存区（Index）&lt;/strong&gt;，它像个缓存区域，临时保存你的改动；最后是 &lt;strong&gt;HEAD&lt;/strong&gt;，指向你最近一次提交后的结果。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://git-scm.com/images/about/index1@2x.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;添加与提交&quot;&gt;&lt;a href=&quot;#添加与提交&quot; class=&quot;headerlink&quot; title=&quot;添加与提交&quot;&gt;&lt;/a&gt;添加与提交&lt;/h3&gt;&lt;p&gt;你可以计划改动（把它们添加到缓存区），使用如下命令：&lt;br&gt;&lt;figure class=&quot;highlight avrasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;keyword&quot;&gt;add&lt;/span&gt; &amp;lt;filename&amp;gt; &lt;span class=&quot;meta&quot;&gt;# 添加单个改动的文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;keyword&quot;&gt;add&lt;/span&gt; * &lt;span class=&quot;meta&quot;&gt;#添加多个改动的文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这是 git 基本工作流程的第一步；使用如下命令以实际提交改动：&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;git&lt;/span&gt; commit -m &lt;span class=&quot;string&quot;&gt;&quot;代码提交信息&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;现在，你的改动已经提交到了 HEAD，但是还没到你的远端仓库。执行如下命令以将这些改动提交到远端仓库：&lt;br&gt;&lt;figure class=&quot;highlight maxima&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;built_in&quot;&gt;push&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;origin&lt;/span&gt; master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可以把 master 换成你想要推送的任何分支&lt;br&gt;&lt;img src=&quot;https://git-scm.com/images/about/index2@2x.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;分支&quot;&gt;&lt;a href=&quot;#分支&quot; class=&quot;headerlink&quot; title=&quot;分支&quot;&gt;&lt;/a&gt;分支&lt;/h3&gt;&lt;p&gt;分支是用来将特性开发绝缘开来的。在你创建仓库的时候，master 是“默认的”。在其他分支上进行开发，完成后再将它们合并到主分支上。&lt;br&gt;&lt;img src=&quot;https://camo.githubusercontent.com/1db631d931f4a57a439deb5f747bfc0c3c1098b2/68747470733a2f2f7777772e61746c61737369616e2e636f6d2f6769742f696d616765732f7475746f7269616c732f636f6c6c61626f726174696e672f636f6d706172696e672d776f726b666c6f77732f676974666c6f772d776f726b666c6f772f30352e737667&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;创建一个叫做“feature_x”的分支，并切换过去：&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git checkout -&lt;span class=&quot;selector-tag&quot;&gt;b&lt;/span&gt; feature_x&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;切换回主分支：&lt;br&gt;&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git checkout &lt;span class=&quot;literal&quot;&gt;master&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;再把新建的分支删掉：&lt;br&gt;&lt;figure class=&quot;highlight armasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;branch &lt;/span&gt;-d feature_x&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt; 除非你将分支推送到远端仓库，不然该分支就是 不为他人所见的。&lt;/p&gt;
&lt;h3 id=&quot;更新与合并&quot;&gt;&lt;a href=&quot;#更新与合并&quot; class=&quot;headerlink&quot; title=&quot;更新与合并&quot;&gt;&lt;/a&gt;更新与合并&lt;/h3&gt;&lt;p&gt;将你本地分支推送到远端仓库，执行：&lt;br&gt;&lt;figure class=&quot;highlight maxima&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;built_in&quot;&gt;push&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;origin&lt;/span&gt; &amp;lt;branch&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;要更新你的本地仓库至最新改动，执行：&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;git&lt;/span&gt; pull&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;以在你的工作目录中 获取（fetch） 并 合并（merge） 远端的改动。&lt;br&gt;要合并其他分支到你的当前分支（例如 master），执行：&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git merge &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;branch&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;两种情况下，git 都会尝试去自动合并改动。不幸的是，自动合并并非次次都能成功，并可能导致 冲突（conflicts）。 这时候就需要你修改这些文件来人肉合并这些 冲突（conflicts） 了。改完之后，你需要执行如下命令以将它们标记为合并成功：&lt;br&gt;&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;built_in&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;symbol&quot;&gt;&amp;lt;filename&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在合并改动之前，也可以使用如下命令查看：&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git diff &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;source_branch&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;target_branch&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如果你上面的都没看懂，恭喜你可以略过前面的章节，仅看下面的 &lt;/strong&gt;可视化操作 &lt;strong&gt;就可以了。&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;可视化操作&quot;&gt;&lt;a href=&quot;#可视化操作&quot; class=&quot;headerlink&quot; title=&quot;可视化操作&quot;&gt;&lt;/a&gt;可视化操作&lt;/h2&gt;&lt;p&gt;这一部分仅推荐两个，Windows 平台下推荐使用 GitHub 官方的 GitHub Desktop ，泛 Linux 下推荐使用 GitKraken 。读者可能存有疑问为什么选择这两个作为推荐，因为我本人正在使用呀～～～～&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;软件&lt;/th&gt;
&lt;th&gt;支持平台&lt;/th&gt;
&lt;th&gt;截图&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GitHub Desktop&lt;/td&gt;
&lt;td&gt;Windows, Mac&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;https://git-scm.com/images/guis/github-desktop@2x.png&quot; alt=&quot;&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GitKraken&lt;/td&gt;
&lt;td&gt;Windows, Mac, Linux&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;https://git-scm.com/images/guis/git-kraken@2x.png&quot; alt=&quot;&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;疑难杂症&quot;&gt;&lt;a href=&quot;#疑难杂症&quot; class=&quot;headerlink&quot; title=&quot;疑难杂症&quot;&gt;&lt;/a&gt;疑难杂症&lt;/h2&gt;&lt;h3 id=&quot;删除已同步到远程的commit&quot;&gt;&lt;a href=&quot;#删除已同步到远程的commit&quot; class=&quot;headerlink&quot; title=&quot;删除已同步到远程的commit&quot;&gt;&lt;/a&gt;删除已同步到远程的commit&lt;/h3&gt;&lt;p&gt;经常往GitHub上提交修改的代码，会导致提交次数很多；又或者提交了某些不应该提交测试数据，那麽我们应该如何删除这些提交记录呢？&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## 1、启动 git shell, 切换到项目所在的空间&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; c://github/android/rubikrobot   &lt;span class=&quot;comment&quot;&gt;#例如项目位于C://GitHub/Android/RubikRobot 目录下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## 2、查看当前提交记录，输入 q退出日志&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## 3、使用git reset 进行撤销操作&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git reset --hard HEAD~2                   &lt;span class=&quot;comment&quot;&gt;# 取消当前版本之前的两次提交  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push origin HEAD --force              &lt;span class=&quot;comment&quot;&gt;# 强制提交到远程版本库，从而删除之前的两次提交数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;保持Fork的同步&quot;&gt;&lt;a href=&quot;#保持Fork的同步&quot; class=&quot;headerlink&quot; title=&quot;保持Fork的同步&quot;&gt;&lt;/a&gt;保持Fork的同步&lt;/h3&gt;&lt;p&gt;在原始Repo有新的commit后，Fork的Repo不会自动与原分支同步。&lt;/p&gt;
&lt;p&gt;前置条件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;已Fork&lt;/li&gt;
&lt;li&gt;已在本地clone了Fork&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;步骤&lt;/p&gt;
&lt;p&gt;进入命令行，进入本地Repo目录&lt;br&gt;&lt;figure class=&quot;highlight vala&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# 添加远程分支(仅第一次)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;remote add upstream https:&lt;span class=&quot;comment&quot;&gt;//github.com/akfish/MwCG.git&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;# 取回远程分支&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git fetch upstream&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;合并(以更新本地Dev分支为例)&lt;br&gt;&lt;figure class=&quot;highlight cos&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git checkout Dev&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;keyword&quot;&gt;merge&lt;/span&gt; upstream/Dev&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;把同步后的分支push到GitHub的remote repo上（可选）&lt;/p&gt;
&lt;h2 id=&quot;参考链接&quot;&gt;&lt;a href=&quot;#参考链接&quot; class=&quot;headerlink&quot; title=&quot;参考链接&quot;&gt;&lt;/a&gt;参考链接&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://git-scm.com/book/zh/v2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;git - 指南&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://git-scm.com/download/gui/linux&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GUI Clients&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://git-scm.com/book/zh/v1/Git-%E5%88%86%E6%94%AF-%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Git 分支 - 远程分支&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://git-scm.com/book/zh/v1/Git-%E5%9F%BA%E7%A1%80-%E6%92%A4%E6%B6%88%E6%93%8D%E4%BD%9C&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;了解更多关于git 操作&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/akfish/MwCG/wiki/%E4%BB%BB%E5%8A%A1%EF%BC%9A%E4%BF%9D%E6%8C%81Fork%E7%9A%84%E5%90%8C%E6%AD%A5&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;保持Fork的同步&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Git 是由 Linux 之父 Linus Tovalds 为了更好地管理linux内核开发而创立的分布式版本控制／软件配置管理软件。简单来说，Git 是一个管理你的「代码的历史记录」的工具。&lt;br&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://blog.mindcont.com/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Ubuntu 14.04 运行 YOLO Demo 记录</title>
    <link href="http://blog.mindcont.com/2016/08/06/run-yolo-demo/"/>
    <id>http://blog.mindcont.com/2016/08/06/run-yolo-demo/</id>
    <published>2016-08-06T11:24:00.000Z</published>
    <updated>2016-08-22T08:48:45.406Z</updated>
    
    <content type="html">&lt;p&gt;YOLO 是一个用来在VOC 2012 数据集上检测物体的框架。它可以检测 20 类物体：&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;人&lt;/li&gt;
&lt;li&gt;鸟, 猫, 牛, 狗, 马, 羊&lt;/li&gt;
&lt;li&gt;飞机, 自行车, 船, 公共汽车, 小汽车, 摩托车, 火车&lt;/li&gt;
&lt;li&gt;瓶，椅子，餐桌，盆花，沙发，电视/显示器&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;YOLO is joint work with &lt;a href=&quot;http://homes.cs.washington.edu/~santosh/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Santosh&lt;/a&gt;, &lt;a href=&quot;http://www.cs.berkeley.edu/~rbg/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ross&lt;/a&gt;, and &lt;a href=&quot;http://homes.cs.washington.edu/~ali/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ali&lt;/a&gt;, and is described in detail in our &lt;a href=&quot;http://arxiv.org/abs/1506.02640&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;paper&lt;/a&gt;.&lt;/p&gt;
&lt;video src=&quot;https://dn-mindcont.qbox.me/YOLO_Watches_Nature_Part_2.mp4&quot; controls=&quot;controls&quot; width=&quot;640px&quot; heigt=&quot;480px&quot; preload=&quot;none&quot; poster=&quot;/images/Object-Detection/Yolo/YOLO_Watches_Nature_Part_2.png&quot;&gt;&lt;/video&gt;

&lt;h2 id=&quot;安装-Darknet&quot;&gt;&lt;a href=&quot;#安装-Darknet&quot; class=&quot;headerlink&quot; title=&quot;安装 Darknet&quot;&gt;&lt;/a&gt;安装 Darknet&lt;/h2&gt;&lt;h3 id=&quot;下载Darknet&quot;&gt;&lt;a href=&quot;#下载Darknet&quot; class=&quot;headerlink&quot; title=&quot;下载Darknet&quot;&gt;&lt;/a&gt;下载Darknet&lt;/h3&gt;&lt;p&gt;同时按住 Alt + Ctrl + T ,打开命令行终端&lt;br&gt;&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;keyword&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;--recursive&lt;/span&gt; https://github.com/pjreddie/darknet.git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cd darknet&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;修改编译配置文件-Makefile&quot;&gt;&lt;a href=&quot;#修改编译配置文件-Makefile&quot; class=&quot;headerlink&quot; title=&quot;修改编译配置文件 Makefile&quot;&gt;&lt;/a&gt;修改编译配置文件 Makefile&lt;/h3&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;gedit&lt;/span&gt; Makefile&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;根据你的情况进行修改，例如这里我将使用 GPU 和 cuDNN 进行加速计算，故将他们置为 1&lt;br&gt;&lt;figure class=&quot;highlight ini&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;GPU&lt;/span&gt;=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;CUDNN&lt;/span&gt;=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;OPENCV&lt;/span&gt;=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;DEBUG&lt;/span&gt;=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 根据你显卡的计算力确定架构。例如我的显卡是NVIDIA K2200, deviceQuery 是5.0  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;ARCH&lt;/span&gt;= --gpu-architecture=compute_50 --gpu-code=compute_50&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;编译&lt;br&gt;&lt;figure class=&quot;highlight gauss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt; -j4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;测试&quot;&gt;&lt;a href=&quot;#测试&quot; class=&quot;headerlink&quot; title=&quot;测试&quot;&gt;&lt;/a&gt;测试&lt;/h3&gt;&lt;p&gt;输入下面的指令进行测试Darknet 是否安装成功&lt;br&gt;&lt;figure class=&quot;highlight haskell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./darknet  imtest &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;data&lt;/span&gt;/eagle.jpg&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果看到下面的画面，恭喜你安装Darknet 成功！&lt;br&gt;&lt;img src=&quot;/images/Object-Detection/Yolo/darknet_test.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;预测&quot;&gt;&lt;a href=&quot;#预测&quot; class=&quot;headerlink&quot; title=&quot;预测&quot;&gt;&lt;/a&gt;预测&lt;/h2&gt;&lt;h3 id=&quot;下载权值文件&quot;&gt;&lt;a href=&quot;#下载权值文件&quot; class=&quot;headerlink&quot; title=&quot;下载权值文件&quot;&gt;&lt;/a&gt;下载权值文件&lt;/h3&gt;&lt;p&gt;点击下面的网址，分别下载 大中小 三个模型对应已训练好的网络权值文件&lt;br&gt;&lt;a href=&quot;http://pjreddie.com/media/files/yolo.weights&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://pjreddie.com/media/files/yolo.weights&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://pjreddie.com/media/files/yolo-small.weights&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://pjreddie.com/media/files/yolo-small.weights&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://pjreddie.com/media/files/yolo-tiny.weights&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://pjreddie.com/media/files/yolo-tiny.weights&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;然后放到darknet/weights目录下，然后在darknet根目录下输入下面的指令&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./darknet yolo test cfg/yolo&lt;span class=&quot;selector-class&quot;&gt;.cfg&lt;/span&gt; weights/yolo&lt;span class=&quot;selector-class&quot;&gt;.weights&lt;/span&gt; data/dog.jpg&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;日志输出&lt;br&gt;&lt;figure class=&quot;highlight cos&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;448&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;448&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;64&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;224&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;224&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;64&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;: Maxpool Layer: &lt;span class=&quot;number&quot;&gt;224&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;224&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;64&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; size, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; stride&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;112&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;112&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;64&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;192&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;112&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;112&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;192&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;: Maxpool Layer: &lt;span class=&quot;number&quot;&gt;112&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;112&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;192&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; size, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; stride&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;192&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;128&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;128&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;128&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;: Maxpool Layer: &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;56&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; size, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; stride&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;13&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;14&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;256&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;17&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;18&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;19&lt;/span&gt;: Maxpool Layer: &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; size, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; stride&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;21&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;22&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;23&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;26&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;27&lt;/span&gt;: Convolutional Layer: &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image, &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; filters -&amp;gt; &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;28&lt;/span&gt;: Connected Layer: &lt;span class=&quot;number&quot;&gt;50176&lt;/span&gt; inputs, &lt;span class=&quot;number&quot;&gt;4096&lt;/span&gt; outputs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;29&lt;/span&gt;: Connected Layer: &lt;span class=&quot;number&quot;&gt;4096&lt;/span&gt; inputs, &lt;span class=&quot;number&quot;&gt;1470&lt;/span&gt; outputs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;: Detection Layer&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;forced: Using default &#39;&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&#39;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Loading weights from weights/yolo.weights.&lt;span class=&quot;built_in&quot;&gt;..Done&lt;/span&gt;!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;data/dog.jpg: Predicted in &lt;span class=&quot;number&quot;&gt;0.170866&lt;/span&gt; seconds.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;car: &lt;span class=&quot;number&quot;&gt;51&lt;/span&gt;%&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bicycle: &lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;%&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dog: &lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;%&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;init done&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;opengl support available&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/Object-Detection/Yolo/YOLO_predictions_out.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;多测试两张&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./darknet yolo test cfg/yolo&lt;span class=&quot;selector-class&quot;&gt;.cfg&lt;/span&gt; weights/yolo&lt;span class=&quot;selector-class&quot;&gt;.weights&lt;/span&gt; data/person.jpg&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/Object-Detection/Yolo/YOLO_person_prediction_out.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./darknet yolo test cfg/yolo&lt;span class=&quot;selector-class&quot;&gt;.cfg&lt;/span&gt; weights/yolo&lt;span class=&quot;selector-class&quot;&gt;.weights&lt;/span&gt; data/horses.jpg&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/images/Object-Detection/Yolo/YOLO_horses_prediction_out.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;实时检测&quot;&gt;&lt;a href=&quot;#实时检测&quot; class=&quot;headerlink&quot; title=&quot;实时检测&quot;&gt;&lt;/a&gt;实时检测&lt;/h3&gt;&lt;p&gt;运行这个Demo你需要编译 Darknet with CUDA and OpenCV. 你还需要选择 大中小 适当的模型和其对应的权值文件。通过 ls /dev/vi* 查看usb摄像头设备，如果输出video0则证明可用。&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./darknet yolo demo cfg/yolo&lt;span class=&quot;selector-class&quot;&gt;.cfg&lt;/span&gt; weights/yolo.weights&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;或者将一个小的待检测的视频文件，如test.mp4 放到darknet 根目录下&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./darknet yolo demo cfg/yolo&lt;span class=&quot;selector-class&quot;&gt;.cfg&lt;/span&gt; weights/yolo&lt;span class=&quot;selector-class&quot;&gt;.weights&lt;/span&gt; test.mp4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;来实现对视频文件进行实时检测。&lt;/p&gt;
&lt;h3 id=&quot;修改显示阈值&quot;&gt;&lt;a href=&quot;#修改显示阈值&quot; class=&quot;headerlink&quot; title=&quot;修改显示阈值&quot;&gt;&lt;/a&gt;修改显示阈值&lt;/h3&gt;&lt;p&gt;YOLO 默认只显示 置信率大于0.2 的预测，可以通过参数 -thresh 0 来制定显示置信率的范围&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./darknet yolo test cfg/yolo&lt;span class=&quot;selector-class&quot;&gt;.cfg&lt;/span&gt; weights/yolo&lt;span class=&quot;selector-class&quot;&gt;.weights&lt;/span&gt; data/dog&lt;span class=&quot;selector-class&quot;&gt;.jpg&lt;/span&gt; -thresh &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://pjreddie.com/media/image/Screen_Shot_2015-08-14_at_11.42.02_AM.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;预测VOC2012test数据集&quot;&gt;&lt;a href=&quot;#预测VOC2012test数据集&quot; class=&quot;headerlink&quot; title=&quot;预测VOC2012test数据集&quot;&gt;&lt;/a&gt;预测VOC2012test数据集&lt;/h3&gt;&lt;p&gt;点击下面的链接，下载VOC2012test数据集&lt;br&gt;&lt;a href=&quot;http://host.robots.ox.ac.uk:8080/eval/downloads/VOC2012test.tar&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://host.robots.ox.ac.uk:8080/eval/downloads/VOC2012test.tar&lt;/a&gt;&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tar xf VOC2012test&lt;span class=&quot;selector-class&quot;&gt;.tar&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cp VOCdevkit/VOC2012/ImageSets/Main/test&lt;span class=&quot;selector-class&quot;&gt;.txt&lt;/span&gt; .&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;生成图片文件的全路径&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sed &lt;span class=&quot;string&quot;&gt;&#39;s?^?&#39;&lt;/span&gt;`pwd`&lt;span class=&quot;string&quot;&gt;&#39;/VOCdevkit/VOC2012/JPEGImages/?; s?$?.jpg?&#39;&lt;/span&gt; test&lt;span class=&quot;selector-class&quot;&gt;.txt&lt;/span&gt; &amp;gt; voc.&lt;span class=&quot;number&quot;&gt;2012&lt;/span&gt;.test&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;将测试文件路径复制到 darknet /data 目录下&lt;br&gt;&lt;figure class=&quot;highlight dts&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mv voc&lt;span class=&quot;number&quot;&gt;.2012&lt;/span&gt;.test &lt;span class=&quot;params&quot;&gt;&amp;lt;path-to&amp;gt;&lt;/span&gt;&lt;span class=&quot;meta-keyword&quot;&gt;/darknet/&lt;/span&gt;data&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;运行预测&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./darknet yolo valid cfg/yolo&lt;span class=&quot;selector-class&quot;&gt;.cfg&lt;/span&gt; weights/yolo.weights&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/Object-Detection/Yolo/Yolo_vaild.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/Object-Detection/Yolo/Yolo_valid_finish.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;而结果在 /darknet/results/下，打开例如 comp4_det_test_bird.txt ，可以依次看到 图片名称，置信率，方框左上角和右下角的坐标&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2008_000004 0&lt;span class=&quot;selector-class&quot;&gt;.008654&lt;/span&gt; 0&lt;span class=&quot;selector-class&quot;&gt;.000000&lt;/span&gt; 24&lt;span class=&quot;selector-class&quot;&gt;.913101&lt;/span&gt; 363&lt;span class=&quot;selector-class&quot;&gt;.373016&lt;/span&gt; 500&lt;span class=&quot;selector-class&quot;&gt;.000000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000005 0&lt;span class=&quot;selector-class&quot;&gt;.009914&lt;/span&gt; 312&lt;span class=&quot;selector-class&quot;&gt;.701294&lt;/span&gt; 66&lt;span class=&quot;selector-class&quot;&gt;.039398&lt;/span&gt; 386&lt;span class=&quot;selector-class&quot;&gt;.487000&lt;/span&gt; 196&lt;span class=&quot;selector-class&quot;&gt;.171997&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000005 0&lt;span class=&quot;selector-class&quot;&gt;.001622&lt;/span&gt; 332&lt;span class=&quot;selector-class&quot;&gt;.917145&lt;/span&gt; 88&lt;span class=&quot;selector-class&quot;&gt;.719940&lt;/span&gt; 395&lt;span class=&quot;selector-class&quot;&gt;.596405&lt;/span&gt; 176&lt;span class=&quot;selector-class&quot;&gt;.586151&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000005 0&lt;span class=&quot;selector-class&quot;&gt;.004571&lt;/span&gt; 333&lt;span class=&quot;selector-class&quot;&gt;.134979&lt;/span&gt; 60&lt;span class=&quot;selector-class&quot;&gt;.575203&lt;/span&gt; 423&lt;span class=&quot;selector-class&quot;&gt;.763519&lt;/span&gt; 201&lt;span class=&quot;selector-class&quot;&gt;.134369&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000005 0&lt;span class=&quot;selector-class&quot;&gt;.010197&lt;/span&gt; 410&lt;span class=&quot;selector-class&quot;&gt;.791443&lt;/span&gt; 71&lt;span class=&quot;selector-class&quot;&gt;.641754&lt;/span&gt; 485&lt;span class=&quot;selector-class&quot;&gt;.329590&lt;/span&gt; 204&lt;span class=&quot;selector-class&quot;&gt;.735779&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000005 0&lt;span class=&quot;selector-class&quot;&gt;.002316&lt;/span&gt; 419&lt;span class=&quot;selector-class&quot;&gt;.207123&lt;/span&gt; 126&lt;span class=&quot;selector-class&quot;&gt;.652931&lt;/span&gt; 475&lt;span class=&quot;selector-class&quot;&gt;.495758&lt;/span&gt; 229&lt;span class=&quot;selector-class&quot;&gt;.286133&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000005 0&lt;span class=&quot;selector-class&quot;&gt;.001054&lt;/span&gt; 268&lt;span class=&quot;selector-class&quot;&gt;.657776&lt;/span&gt; 188&lt;span class=&quot;selector-class&quot;&gt;.379456&lt;/span&gt; 387&lt;span class=&quot;selector-class&quot;&gt;.683960&lt;/span&gt; 288&lt;span class=&quot;selector-class&quot;&gt;.772614&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000005 0&lt;span class=&quot;selector-class&quot;&gt;.001442&lt;/span&gt; 253&lt;span class=&quot;selector-class&quot;&gt;.524567&lt;/span&gt; 235&lt;span class=&quot;selector-class&quot;&gt;.698074&lt;/span&gt; 394&lt;span class=&quot;selector-class&quot;&gt;.108795&lt;/span&gt; 343&lt;span class=&quot;selector-class&quot;&gt;.994049&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000010 0&lt;span class=&quot;selector-class&quot;&gt;.002900&lt;/span&gt; 34&lt;span class=&quot;selector-class&quot;&gt;.902084&lt;/span&gt; 5&lt;span class=&quot;selector-class&quot;&gt;.141296&lt;/span&gt; 378&lt;span class=&quot;selector-class&quot;&gt;.781433&lt;/span&gt; 371&lt;span class=&quot;selector-class&quot;&gt;.530365&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000011 0&lt;span class=&quot;selector-class&quot;&gt;.001770&lt;/span&gt; 88&lt;span class=&quot;selector-class&quot;&gt;.507141&lt;/span&gt; 60&lt;span class=&quot;selector-class&quot;&gt;.645809&lt;/span&gt; 251&lt;span class=&quot;selector-class&quot;&gt;.819916&lt;/span&gt; 128&lt;span class=&quot;selector-class&quot;&gt;.710754&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000011 0&lt;span class=&quot;selector-class&quot;&gt;.002937&lt;/span&gt; 208&lt;span class=&quot;selector-class&quot;&gt;.442169&lt;/span&gt; 72&lt;span class=&quot;selector-class&quot;&gt;.542442&lt;/span&gt; 356&lt;span class=&quot;selector-class&quot;&gt;.038971&lt;/span&gt; 139&lt;span class=&quot;selector-class&quot;&gt;.302185&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000011 0&lt;span class=&quot;selector-class&quot;&gt;.003189&lt;/span&gt; 15&lt;span class=&quot;selector-class&quot;&gt;.292969&lt;/span&gt; 49&lt;span class=&quot;selector-class&quot;&gt;.904770&lt;/span&gt; 209&lt;span class=&quot;selector-class&quot;&gt;.187149&lt;/span&gt; 158&lt;span class=&quot;selector-class&quot;&gt;.970016&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000011 0&lt;span class=&quot;selector-class&quot;&gt;.001175&lt;/span&gt; 350&lt;span class=&quot;selector-class&quot;&gt;.284515&lt;/span&gt; 88&lt;span class=&quot;selector-class&quot;&gt;.715370&lt;/span&gt; 441&lt;span class=&quot;selector-class&quot;&gt;.157318&lt;/span&gt; 154&lt;span class=&quot;selector-class&quot;&gt;.096954&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2008_000011 0&lt;span class=&quot;selector-class&quot;&gt;.005729&lt;/span&gt; 352&lt;span class=&quot;selector-class&quot;&gt;.224884&lt;/span&gt; 69&lt;span class=&quot;selector-class&quot;&gt;.389618&lt;/span&gt; 479&lt;span class=&quot;selector-class&quot;&gt;.886383&lt;/span&gt; 195&lt;span class=&quot;selector-class&quot;&gt;.413666&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;参考链接&quot;&gt;&lt;a href=&quot;#参考链接&quot; class=&quot;headerlink&quot; title=&quot;参考链接&quot;&gt;&lt;/a&gt;参考链接&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://pjreddie.com/darknet/yolo/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;YOLO: Real-Time Object Detection&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;YOLO 是一个用来在VOC 2012 数据集上检测物体的框架。它可以检测 20 类物体：&lt;br&gt;
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux 操作系统之父</title>
    <link href="http://blog.mindcont.com/2016/07/31/TED-talks-Linus-Torvalds/"/>
    <id>http://blog.mindcont.com/2016/07/31/TED-talks-Linus-Torvalds/</id>
    <published>2016-07-31T13:40:27.000Z</published>
    <updated>2016-08-30T03:16:53.649Z</updated>
    
    <content type="html">&lt;p&gt;讲师：Linus Torvalds&lt;br&gt;授课语言：英文&lt;br&gt;类型：心理 艺术 计算机 历史 管理 TED 演讲 媒体 技能 其他 TED全网首播 网易公开课&lt;br&gt;课程简介：Linus Torvalds 先生带来了两次技术革新——第一次是开发出Linux内核，驱动了因特网，第二次是开发出Git，一种源代码管理系统，被全世界开发者广泛使用。在这次难得的TED演讲中，让我们一同来了解这位传奇性人物。&lt;/p&gt;
&lt;h2 id=&quot;视频&quot;&gt;&lt;a href=&quot;#视频&quot; class=&quot;headerlink&quot; title=&quot;视频&quot;&gt;&lt;/a&gt;视频&lt;/h2&gt;&lt;object width=&quot;640&quot; height=&quot;480&quot;&gt;&lt;param name=&quot;movie&quot; value=&quot;http://swf.ws.126.net/openplayer/v02/-0-2_MBPNHJU6K_MBR358639-vimg1_ws_126_net//image/snapshot_movie/2016/7/3/A/MBR35863A-1423031805654.swf?isTEDPlay=1&quot;&gt;&lt;param name=&quot;allowScriptAccess&quot; value=&quot;always&quot;&gt;&lt;param name=&quot;wmode&quot; value=&quot;transparent&quot;&gt;&lt;embed src=&quot;http://swf.ws.126.net/openplayer/v02/-0-2_MBPNHJU6K_MBR358639-vimg1_ws_126_net//image/snapshot_movie/2016/7/3/A/MBR35863A-1423031805654.swf?isTEDPlay=1&quot; type=&quot;application/x-shockwave-flash&quot; width=&quot;640&quot; height=&quot;480&quot; allowfullscreen=&quot;true&quot; wmode=&quot;transparent&quot; allowscriptaccess=&quot;always&quot;&gt;&lt;/object&gt;

&lt;h2 id=&quot;感谢&quot;&gt;&lt;a href=&quot;#感谢&quot; class=&quot;headerlink&quot; title=&quot;感谢&quot;&gt;&lt;/a&gt;感谢&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;www.ted.com&quot;&gt;TED&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;open.163.com&quot;&gt;网易公开课&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;讲师：Linus Torvalds&lt;br&gt;授课语言：英文&lt;br&gt;类型：心理 艺术 计算机 历史 管理 TED 演讲 媒体 技能 其他 TED全网首播 网易公开课&lt;br&gt;课程简介：Linus Torvalds 先生带来了两次技术革新——第一次是开发出Linux内核，驱动了因特
    
    </summary>
    
      <category term="随笔日记" scheme="http://blog.mindcont.com/categories/%E9%9A%8F%E7%AC%94%E6%97%A5%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>Docker 实践二三事</title>
    <link href="http://blog.mindcont.com/2016/07/29/docker-learning/"/>
    <id>http://blog.mindcont.com/2016/07/29/docker-learning/</id>
    <published>2016-07-29T11:28:13.000Z</published>
    <updated>2016-07-30T01:22:14.520Z</updated>
    
    <content type="html">&lt;p&gt;Docker是一个开源的引擎，可以轻松的为任何应用创建一个轻量级的、可移植的、自给自足的容器。开发者在笔记本上编译测试通过的容器可以批量地在生产环境中部署，包括VMs（虚拟机）、bare metal、OpenStack 集群和其他的基础应用平台。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://blog.daocloud.io/wp-content/uploads/2015/05/vm-vs-docker-architecture1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;架构&quot;&gt;&lt;a href=&quot;#架构&quot; class=&quot;headerlink&quot; title=&quot;架构&quot;&gt;&lt;/a&gt;架构&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://docs.docker.com/engine/article-img/architecture.svg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h2&gt;&lt;p&gt;以 Ubuntu 14.04 LTS 下为例&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 更新APT镜像源&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 安装 apt-transport-https 包支持 https 协议的源。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install apt-transport-https ca-certificates&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install docker.io&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 查看是否安装成功 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo docker info&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;常用命令&quot;&gt;&lt;a href=&quot;#常用命令&quot; class=&quot;headerlink&quot; title=&quot;常用命令&quot;&gt;&lt;/a&gt;常用命令&lt;/h2&gt;&lt;p&gt;Docker 命令 总的来说分为以下几种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;容器生命周期管理 — docker [run|start|stop|restart|kill|rm|pause|unpause]&lt;/li&gt;
&lt;li&gt;容器操作运维 — docker [ps|inspect|top|attach|events|logs|wait|export|port]&lt;/li&gt;
&lt;li&gt;容器rootfs命令 — docker [commit|cp|diff]&lt;/li&gt;
&lt;li&gt;镜像仓库 — docker [login|pull|push|search]&lt;/li&gt;
&lt;li&gt;本地镜像管理 — docker [images|rmi|tag|build|history|save|import]&lt;/li&gt;
&lt;li&gt;其他命令 — docker [info|version]&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/images/docker/docker.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt; 有点需要切换为root用户后进行常用docker操作，以下命令如未特殊说明，均表示在root账户下进行。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;列出机器上的镜像（images）&lt;/p&gt;
&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker images &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;REPOSITORY               &lt;span class=&quot;keyword&quot;&gt;TAG&lt;/span&gt;             &lt;span class=&quot;title&quot;&gt;IMAGE&lt;/span&gt; ID        CREATED         VIRTUAL SIZE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ubuntu                   &lt;span class=&quot;number&quot;&gt;14.10&lt;/span&gt;           &lt;span class=&quot;number&quot;&gt;2185&lt;/span&gt;fd50e2ca    &lt;span class=&quot;number&quot;&gt;13&lt;/span&gt; days ago     &lt;span class=&quot;number&quot;&gt;236.9&lt;/span&gt; MB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;…&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;其中我们可以根据REPOSITORY来判断这个镜像是来自哪个服务器，如果没有 / 则表示官方镜像，类似于username/repos_name表示Github的个人公共库，类似于regsistory.example.com:&lt;span class=&quot;number&quot;&gt;5000&lt;/span&gt;/repos_name则表示的是私服。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;IMAGE ID列其实是缩写，要显示完整则带上--no-trunc选项&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在docker index中搜索image（search）&lt;/p&gt;
&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker search seanlo&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;NAME&lt;/span&gt;                DESCRIPTION           STARS     OFFICIAL   AUTOMATED&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;seanloook/centos6   sean&lt;span class=&quot;string&quot;&gt;&#39;s docker repos         0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;搜索的范围是官方镜像和所有个人公共镜像。NAME列的 / 后面是仓库的名字。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;从docker registry server 中下拉image或repository（pull）&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker pull centos&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;上面的命令需要注意，在docker v1&lt;span class=&quot;number&quot;&gt;.2&lt;/span&gt;版本以前，会下载官方镜像的centos仓库里的所有镜像，而从v&lt;span class=&quot;number&quot;&gt;.13&lt;/span&gt;开始官方文档里的说明变了：will pull &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; centos:latest image, &lt;span class=&quot;keyword&quot;&gt;its&lt;/span&gt; intermediate layers &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; any aliases &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; same &lt;span class=&quot;built_in&quot;&gt;id&lt;/span&gt;，也就是只会下载tag为latest的镜像（以及同一images &lt;span class=&quot;built_in&quot;&gt;id&lt;/span&gt;的其他tag）。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;也可以明确指定具体的镜像：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker pull centos:centos6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;当然也可以从某个人的公共仓库（包括自己是私人仓库）拉取，形如docker pull username/repository&amp;lt;:tag_name&amp;gt; ：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker pull seanlook/centos:centos6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;如果你没有网络，或者从其他私服获取镜像，形如docker pull registry.domain.com:&lt;span class=&quot;number&quot;&gt;5000&lt;/span&gt;/repos:&amp;lt;tag_name&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker pull dl.dockerpool.com:5000/mongo:latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;推送一个image或repository到registry（push）&lt;br&gt;与上面的pull对应，可以推送到Docker Hub的Public、Private以及私服，但不能推送到Top Level Repository。&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker push seanlook/mongo&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; login &lt;span class=&quot;built_in&quot;&gt;name&lt;/span&gt;: &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; password:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;login success&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;从image启动一个container&lt;br&gt;当利用 docker run 来创建容器时，Docker 在后台运行的&lt;strong&gt;标准操作包括&lt;/strong&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;检查本地是否存在指定的镜像，不存在就从公有仓库下载  &lt;/li&gt;
&lt;li&gt;利用镜像创建并启动一个容器  &lt;/li&gt;
&lt;li&gt;分配一个文件系统，并在只读的镜像层外面挂载一层可读写层  &lt;/li&gt;
&lt;li&gt;从宿主主机配置的网桥接口中桥接一个虚拟接口到容器中去  &lt;/li&gt;
&lt;li&gt;从地址池配置一个 ip 地址给容器  &lt;/li&gt;
&lt;li&gt;执行用户指定的应用程序  &lt;/li&gt;
&lt;li&gt;&lt;p&gt;执行完毕后容器被终止&lt;br&gt;使用image创建container并进入交互模式(&lt;strong&gt;退出即终止&lt;/strong&gt;), 使用 &lt;strong&gt;-i -t &lt;/strong&gt;,login shell是/bin/bash&lt;/p&gt;
&lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 创建一个根镜像为ubuntu:14.04 名字为ubuntu的交互式 容器&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker run -i -t --name ubuntu ubuntu:14.04 /bin/bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 进入容器&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root&lt;span class=&quot;variable&quot;&gt;@85cea785dc&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:~/&lt;/span&gt; ls&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 退出容器&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root&lt;span class=&quot;variable&quot;&gt;@85cea785dc&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:~/&lt;/span&gt; exit &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 启动&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root&lt;span class=&quot;variable&quot;&gt;@DeepMind&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:~/docker&lt;/span&gt; start ubuntu&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#查看当前正在运行的容器&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker ps &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#查看所有容器&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker ps -a &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 依附到正在运行的容器&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root&lt;span class=&quot;variable&quot;&gt;@DeepMind&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:~/docker&lt;/span&gt; attach ubuntu&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;root&lt;span class=&quot;variable&quot;&gt;@85cea785dc&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:~/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;运行出一个container放到后台运行, 使用 &lt;strong&gt;-d &lt;/strong&gt;参数&lt;/p&gt;
&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# docker &lt;span class=&quot;keyword&quot;&gt;run&lt;/span&gt; -&lt;span class=&quot;keyword&quot;&gt;d&lt;/span&gt; ubuntu /bin/&lt;span class=&quot;keyword&quot;&gt;sh&lt;/span&gt; -c &lt;span class=&quot;string&quot;&gt;&quot;while true; do echo hello world; sleep 2; done&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ae60c4b642058fefcc61ada85a610914bed9f5df0e2aa147100eab85cea785dc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;-P(大写)&lt;/strong&gt;表示随机端口，&lt;strong&gt;-p&lt;/strong&gt; 表示指定端口，如下宿主主机端口5000连接到容器34448端口&lt;br&gt;&lt;img src=&quot;/images/docker/docker_digits.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;使用Dockerfile文件 build 生成新的image（镜像）&lt;br&gt;这里给出github上的一份Dockerfile模板 &lt;a href=&quot;https://github.com/webdevops/Dockerfile/blob/develop/docker/nginx/ubuntu-14.04/Dockerfile&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ubuntu:14.04-niginx&lt;/a&gt;,类似于脚本语言，只不过用来编译镜像而已&lt;/p&gt;
&lt;figure class=&quot;highlight dockerfile&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#+++++++++++++++++++++++++++++++++++++++&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Dockerfile for webdevops/nginx:ubuntu-14.04&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#    -- automatically generated  --&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#+++++++++++++++++++++++++++++++++++++++&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 根镜像&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;FROM&lt;/span&gt; webdevops/base:ubuntu-&lt;span class=&quot;number&quot;&gt;14.04&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 创建者信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;MAINTAINER&lt;/span&gt; info@webdevops.io&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;LABEL&lt;/span&gt; &lt;span class=&quot;bash&quot;&gt;vendor=WebDevOps.io&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;LABEL&lt;/span&gt; &lt;span class=&quot;bash&quot;&gt;io.webdevops.layout=8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;LABEL&lt;/span&gt; &lt;span class=&quot;bash&quot;&gt;io.webdevops.version=0.55.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ENV&lt;/span&gt; WEB_DOCUMENT_ROOT  /app&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ENV&lt;/span&gt; WEB_DOCUMENT_INDEX index.php&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ENV&lt;/span&gt; WEB_ALIAS_DOMAIN   *.vm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 安装 nginx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;RUN&lt;/span&gt; &lt;span class=&quot;bash&quot;&gt;/usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/bin/apt-install \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        nginx \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;amp;&amp;amp; /opt/docker/bin/provision run --tag bootstrap --role webdevops-nginx \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;amp;&amp;amp; /opt/docker/bin/bootstrap.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 对外开放 80 443 端口&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;EXPOSE&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;443&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;使用docker build -t niginx . 对当前目录下的Dockerfile文件进行编译&lt;/p&gt;
&lt;figure class=&quot;highlight haml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# docker build -t niginx .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sending build context to Docker daemon 73.45 MB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sending build context to Docker daemon &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Step 0 : FROM seanlook/nginx&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; -&lt;span class=&quot;ruby&quot;&gt;--&amp;gt; aa8516fa0bb7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;Step 1 : EXPOSE 80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; -&lt;span class=&quot;ruby&quot;&gt;--&amp;gt; Using cache&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt; -&lt;span class=&quot;ruby&quot;&gt;--&amp;gt; fece07e2b515&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;Step 2 : ENTRYPOINT /usr/sbin/nginx -c /etc/nginx/nginx.conf &amp;amp;&amp;amp; /bin/bash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; -&lt;span class=&quot;ruby&quot;&gt;--&amp;gt; Running &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; e08963fd5afb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt; -&lt;span class=&quot;ruby&quot;&gt;--&amp;gt; d9bbd13f5066&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;Removing intermediate container e08963fd5afb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Successfully built d9bbd13f5066&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;删除一个或多个container、image（rm、rmi）&lt;/p&gt;
&lt;figure class=&quot;highlight livecodeserver&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker images            &amp;lt;==&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ubuntu            &lt;span class=&quot;number&quot;&gt;13.10&lt;/span&gt;        &lt;span class=&quot;number&quot;&gt;195&lt;/span&gt;eb90b5349       &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt; months ago       &lt;span class=&quot;number&quot;&gt;184.6&lt;/span&gt; MB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ubuntu            saucy        &lt;span class=&quot;number&quot;&gt;195&lt;/span&gt;eb90b5349       &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt; months ago       &lt;span class=&quot;number&quot;&gt;184.6&lt;/span&gt; MB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;seanlook/ubuntu   rm_test      &lt;span class=&quot;number&quot;&gt;195&lt;/span&gt;eb90b5349       &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt; months ago       &lt;span class=&quot;number&quot;&gt;184.6&lt;/span&gt; MB&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;使用&lt;span class=&quot;number&quot;&gt;195&lt;/span&gt;eb90b5349启动、停止一个容器后，删除这个镜像&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker rmi 195eb90b5349&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Error response &lt;span class=&quot;built_in&quot;&gt;from&lt;/span&gt; daemon: Conflict, cannot &lt;span class=&quot;built_in&quot;&gt;delete&lt;/span&gt; image &lt;span class=&quot;number&quot;&gt;195&lt;/span&gt;eb90b5349 because &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; is &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tagged &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; multiple repositories, use -f &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; force&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2014&lt;/span&gt;/&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;/&lt;span class=&quot;number&quot;&gt;04&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;19&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;00&lt;/span&gt; Error: failed &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; remove &lt;span class=&quot;literal&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; more images&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;删除seanlook仓库中的tag     &amp;lt;==&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker rmi seanlook/ubuntu:rm_test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Untagged: seanlook/ubuntu:rm_test&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;现在删除镜像，还会由于container的存在不能rmi&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker rmi 195eb90b5349&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Error response &lt;span class=&quot;built_in&quot;&gt;from&lt;/span&gt; daemon: Conflict, cannot &lt;span class=&quot;built_in&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;195&lt;/span&gt;eb90b5349 because &lt;span class=&quot;keyword&quot;&gt;the&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; container eef3648a6e77 is &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt;, use -f &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; force&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2014&lt;/span&gt;/&lt;span class=&quot;number&quot;&gt;11&lt;/span&gt;/&lt;span class=&quot;number&quot;&gt;04&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;14&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;15&lt;/span&gt; Error: failed &lt;span class=&quot;built_in&quot;&gt;to&lt;/span&gt; remove &lt;span class=&quot;literal&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; more images&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;先删除由这个镜像启动的容器    &amp;lt;==&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker rm eef3648a6e77&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;删除镜像                    &amp;lt;==&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# docker rmi 195eb90b5349&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Deleted: &lt;span class=&quot;number&quot;&gt;195&lt;/span&gt;eb90b534950d334188c3627f860fbdf898e224d8a0a11ec54ff453175e081&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Deleted: &lt;span class=&quot;number&quot;&gt;209&lt;/span&gt;ea56fda6dc2fb013e4d1e40cb678b2af91d1b54a71529f7df0bd867adc961&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Deleted: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;f4aac48388f5d65a725ccf8e7caada42f136026c566528a5ee9b02467dac90a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Deleted: fae16849ebe23b48f2bedcc08aaabd45408c62b531ffd8d3088592043d5e7364&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Deleted: f127542f0b6191e99bb015b672f5cf48fa79d974784ac8090b11aeac184eaaff&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;参考链接&quot;&gt;&lt;a href=&quot;#参考链接&quot; class=&quot;headerlink&quot; title=&quot;参考链接&quot;&gt;&lt;/a&gt;参考链接&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.docker.com/engine/understanding-docker/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Docker Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.daocloud.io/faq/docker101&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Docker 入门&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://yeasy.gitbooks.io/docker_practice/content/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Docker —— 从入门到实践&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://dockone.io/article/133&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Docker终极指南&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.docker.org.cn/page/resources.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Docker 中文资源&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000000751601&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;docker常用管理命令（上）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000000759971&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;docker常用管理命令（下）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Docker是一个开源的引擎，可以轻松的为任何应用创建一个轻量级的、可移植的、自给自足的容器。开发者在笔记本上编译测试通过的容器可以批量地在生产环境中部署，包括VMs（虚拟机）、bare metal、OpenStack 集群和其他的基础应用平台。&lt;/p&gt;
&lt;p&gt;&lt;img s
    
    </summary>
    
      <category term="Linux" scheme="http://blog.mindcont.com/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Nvidia Digits with Caffe 配置指南</title>
    <link href="http://blog.mindcont.com/2016/07/26/nvidia-digits-with-caffe/"/>
    <id>http://blog.mindcont.com/2016/07/26/nvidia-digits-with-caffe/</id>
    <published>2016-07-26T13:33:58.000Z</published>
    <updated>2016-11-12T11:24:50.145Z</updated>
    
    <content type="html">&lt;p&gt;Digits: Deep Learning GPU Training System1，是由英伟达（NVIDIA）公司开发的第一个交互式深度学习GPU训练系统。目的在于整合现有的Deep Learning开发工具，实现深度神经网络（Deep Neural Network，DNN）设计、训练和可视化等任务变得简单化。&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;DIGITS是基于浏览器的接口，因而通过实时的网络行为的可视化，可以快速设计最优的DNN。DIGITS是开源软件，可在&lt;a href=&quot;https://github.com/NVIDIA/DIGITS&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;上找到，因而开发人员可以扩展和自定义DIGITS。&lt;/p&gt;
&lt;p&gt;Demo: 访问 &lt;a href=&quot;http://digits.daoapp.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://digits.daoapp.io&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Digits-特性&quot;&gt;&lt;a href=&quot;#Digits-特性&quot; class=&quot;headerlink&quot; title=&quot;Digits 特性&quot;&gt;&lt;/a&gt;Digits 特性&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;提供了友好的用户界面，只需简单的点击即完成DNNs的训练。Digits是一个Web应用，用浏览器访问，上图是典型的工作流程图。&lt;/li&gt;
&lt;li&gt;Digits用户接口提供了DNN优化工具。主控制台列出了现有的数据库和机器上可用的先前训练好的网络模型以及正在进行的训练活动。&lt;/li&gt;
&lt;li&gt;Digits使可视化网络和快速对比精度变得简单。你选择一个模型，Digits显示训练状态和精度，并提供在网络训练时或训练完毕后加载和分类图像的选项。&lt;/li&gt;
&lt;li&gt;由于Digits运行在一个web服务器上，团队用户可以很方便地分享数据库和网络配置，以及测试和分享结果。&lt;/li&gt;
&lt;li&gt;Digits集成了流行的 &lt;a href=&quot;https://github.com/BVLC/caffe&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Caffe&lt;/a&gt; (deep learning framework)，并支持使用cuDNN进行GPU加速。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt; 在此，我们默认你以安装好了&lt;a href=&quot;https://github.com/BVLC/caffe&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Caffe&lt;/a&gt; 或 &lt;a href=&quot;https://github.com/torch/torch7&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;torch7&lt;/a&gt;，本文以Ubuntu 14.04 LTS 环境下简述Nvidia Digits 和 caffe 相关配置，如果您在Ubuntu 下还没有配置成功 Caffe ,建议你查看我的另一篇博客 &lt;a href=&quot;http://blog.mindcont.com/2016/07/20/ubuntu1404-caffe-r3-cuda7-5-mkl/&quot;&gt;Ubuntu 14.04 64bit + Caffe rc3 + CUDA 7.5 + Intel MKL 配置说明&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;打开命令行，依次输入下面的指令&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 获取 CUDA packages&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CUDA_REPO_PKG=cuda-repo-ubuntu1404_7.5-18_amd64.deb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;CUDA_REPO_PKG&amp;#125;&lt;/span&gt; -O /tmp/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;CUDA_REPO_PKG&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo dpkg -i /tmp/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;CUDA_REPO_PKG&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rm &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; /tmp/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;CUDA_REPO_PKG&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 获取 Nvidia Machine Learning packages&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ML_REPO_PKG=nvidia-machine-learning-repo_4.0-2_amd64.deb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu1404/x86_64/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;ML_REPO_PKG&amp;#125;&lt;/span&gt; -O /tmp/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;ML_REPO_PKG&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo dpkg -i /tmp/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;ML_REPO_PKG&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rm &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; /tmp/&lt;span class=&quot;variable&quot;&gt;$&amp;#123;ML_REPO_PKG&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Download new list of packages&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get update&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;安装，默认位置 /usr/share/digits 下&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 安装Digits&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install digits&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 安装Nvidia caffe ，安装过 BVLC/caffe 再安装这里的 Nvidia caffe 很容易！&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; CAFFE_HOME=~/NVcaffe&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;built_in&quot;&gt;clone&lt;/span&gt; https://github.com/NVIDIA/caffe.git &lt;span class=&quot;variable&quot;&gt;$CAFFE_HOME&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 安装 python依赖&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo pip install -r &lt;span class=&quot;variable&quot;&gt;$CAFFE_HOME&lt;/span&gt;/python/requirements.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 编译&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$CAFFE_HOME&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mkdir build&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; build&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cmake ..&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;make --jobs=4 &lt;span class=&quot;comment&quot;&gt;#这里指使用4线程编译，通常跟 **你的处理器的核数** 一致&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 配置，按提示执行&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo python -m digits.config.edit -v&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;开启服务&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 跳转到安装目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; /usr/share/digits&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 查看当前目录下的文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dir&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 启动&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo ./digits-devserver&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;打开浏览器，依次访问 &lt;a href=&quot;http://localhost/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://localhost/&lt;/a&gt; (if installed from Deb packages), &lt;a href=&quot;http://localhost:5000/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://localhost:5000/&lt;/a&gt; (if using digits-devserver) or &lt;a href=&quot;http://localhost:34448/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://localhost:34448/&lt;/a&gt; (if using digits-server). 如果你看到如下画面，恭喜你，digits 已运行成功！&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/digits/digits_success.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;不过一般情况下，你会看到如下画面&lt;br&gt;&lt;img src=&quot;/images/digits/digits_error.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;不要气馁，导致的原因大多因为Digits 依赖的环境与你本地的环境版本不符而导致的。&lt;br&gt;下面是官方&lt;a href=&quot;https://github.com/NVIDIA/DIGITS/blob/master/requirements.txt&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;requirements.txt&lt;/a&gt;，其中有几项必须是特定版本，如 Flask==0.10.1，lmdb==0.87等&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Pillow&amp;gt;=2.3.0,&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;=3.1.2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;numpy&lt;/span&gt;&amp;gt;&lt;/span&gt;=1.8.1,&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;=1.11.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;scipy&lt;/span&gt;&amp;gt;&lt;/span&gt;=0.13.3,&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;=0.17.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;protobuf&lt;/span&gt;&amp;gt;&lt;/span&gt;=2.5.0,&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;=2.6.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;six&lt;/span&gt;&amp;gt;&lt;/span&gt;=1.5.2,&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;=1.10.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;requests&lt;/span&gt;&amp;gt;&lt;/span&gt;=2.2.1,&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;=2.9.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;gevent&lt;/span&gt;&amp;gt;&lt;/span&gt;=1.0,&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;=1.0.2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;Flask&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;=0.10.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;Flask-WTF&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;=0.11,&amp;lt;=0.12&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;wtforms&lt;/span&gt;&amp;gt;&lt;/span&gt;=2.0,&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;=2.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;Flask-SocketIO&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;=0.6.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;gunicorn&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;=17.5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;setuptools&lt;/span&gt;&amp;gt;&lt;/span&gt;=3.3,&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;=20.7.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;lmdb&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;=0.87&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;h5py&lt;/span&gt;&amp;gt;&lt;/span&gt;=2.2.1,&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;=2.6.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;pydot&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;=1.0.28&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;解决方法&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 查看本地环境版本&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;pip list&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#比对其中不合适的，进行卸载&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo pip uninstall ***&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#例如安装指定版本 lmdb==0.87&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo pip install &lt;span class=&quot;string&quot;&gt;&#39;lmdb==0.87&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;使用&quot;&gt;&lt;a href=&quot;#使用&quot; class=&quot;headerlink&quot; title=&quot;使用&quot;&gt;&lt;/a&gt;使用&lt;/h2&gt;&lt;h3 id=&quot;下载数据集&quot;&gt;&lt;a href=&quot;#下载数据集&quot; class=&quot;headerlink&quot; title=&quot;下载数据集&quot;&gt;&lt;/a&gt;下载数据集&lt;/h3&gt;&lt;p&gt;打开命令行，依次输入下面的指令,将会下载mnist数据集到 /home/你的用户名/mnist 文件夹下&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;python /usr/share/digits/tools/download_data/main.py mnist ~/mnist&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;创建数据集&quot;&gt;&lt;a href=&quot;#创建数据集&quot; class=&quot;headerlink&quot; title=&quot;创建数据集&quot;&gt;&lt;/a&gt;创建数据集&lt;/h3&gt;&lt;p&gt;依次点击 New Dataset &amp;gt; Images &amp;gt; Classification，并按下图配置&lt;br&gt;&lt;img src=&quot;/images/digits/new-dataset.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;点击 create，会看到如下画面。表示正在把下载的数据集创建为 lmdb 数据库格式。&lt;br&gt;&lt;img src=&quot;/images/digits/creating-dataset.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;当 jobs 进度条完成后，可以查看数据库中的 trian 和 test 数据库格式。其中 训练数据 占数据集的75%&lt;br&gt;&lt;img src=&quot;/images/digits/explore_mnist_train_lmdb.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;测试数据 占数据集的 25%&lt;br&gt;&lt;img src=&quot;/images/digits/explore_mnist_test_lmdb.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;点击 左上角 DIGITS 返回主界面&lt;br&gt;&lt;img src=&quot;/images/digits/digits_main.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;训练模型&quot;&gt;&lt;a href=&quot;#训练模型&quot; class=&quot;headerlink&quot; title=&quot;训练模型&quot;&gt;&lt;/a&gt;训练模型&lt;/h3&gt;&lt;p&gt;依次点击  New Model &amp;gt; Images &amp;gt; Classification，进入模型配置界面，并按下图配置训练模型&lt;br&gt;&lt;img src=&quot;/images/digits/new-model-top-half.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/digits/new-model-bottom-half.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;点击创建后，训练任务自动执行。如下图所示&lt;br&gt;&lt;img src=&quot;/images/digits/digits_real_time.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;等待训练结束，下面我们好进行测试。&lt;/p&gt;
&lt;h3 id=&quot;测试训练结果&quot;&gt;&lt;a href=&quot;#测试训练结果&quot; class=&quot;headerlink&quot; title=&quot;测试训练结果&quot;&gt;&lt;/a&gt;测试训练结果&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/images/digits/digits_test.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;首先测试&lt;strong&gt;单张图片&lt;/strong&gt;，点击Browse 按钮，以此选择类似于下面的路径&lt;br&gt;&lt;img src=&quot;/images/digits/digits_test_one_upload.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;之后点击 Classify One ，并候选选框，会看到如下，显示模型每层的处理情况。&lt;br&gt;&lt;img src=&quot;/images/digits/digits_test_one_res.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;strong&gt;测试多张图片&lt;/strong&gt;，同理打开类似下面的路径&lt;br&gt;&lt;img src=&quot;/images/digits/digits_test_many_upload.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;然后点击 Classify Many。会看到后台结果如下&lt;br&gt;&lt;img src=&quot;/images/digits/digits_test_many_service.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;测试结果如下&lt;br&gt;&lt;img src=&quot;/images/digits/digits_test_many_res.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;可视化分类结果&lt;br&gt;&lt;img src=&quot;/images/digits/digits_test_many_TopN.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;参考链接&quot;&gt;&lt;a href=&quot;#参考链接&quot; class=&quot;headerlink&quot; title=&quot;参考链接&quot;&gt;&lt;/a&gt;参考链接&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/NVIDIA/DIGITS/blob/master/docs/GettingStarted.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NVIDIA-DIGITS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/enjoyyl/article/details/47397505&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;如若明镜- NVIDIA DIGITS 学习笔记&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Digits: Deep Learning GPU Training System1，是由英伟达（NVIDIA）公司开发的第一个交互式深度学习GPU训练系统。目的在于整合现有的Deep Learning开发工具，实现深度神经网络（Deep Neural Network，DNN）设计、训练和可视化等任务变得简单化。
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="caffe" scheme="http://blog.mindcont.com/tags/caffe/"/>
    
  </entry>
  
  <entry>
    <title>基于深度学习的目标检测研究进展</title>
    <link href="http://blog.mindcont.com/2016/07/22/research-progress-in-object-detection/"/>
    <id>http://blog.mindcont.com/2016/07/22/research-progress-in-object-detection/</id>
    <published>2016-07-22T13:03:09.000Z</published>
    <updated>2016-08-22T08:08:06.145Z</updated>
    
    <content type="html">&lt;p&gt;目标检测对于人来说是再简单不过的任务，但是对于计算机来说，它看到的是一些值为0~255的数组，因而很难直接得到图像中有人或者猫这种高层语义概念，也不清楚目标出现在图像中哪个区域。图像中的目标可能出现在任何位置，目标的形态可能存在各种各样的变化，图像的背景千差万别……，这些因素导致目标检测并不是一个容易解决的任务。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;/images/Object-Detection/1.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;开始本文内容之前，我们先来看一下上边左侧的这张图，从图中你看到了什么物体？他们在什么位置？这还不简单，图中有一个猫和一个人，具体的位置就是上图右侧图像两个边框(bounding-box)所在的位置。其实刚刚的这个过程就是目标检测，目标检测就是“给定一张图像或者视频帧，找出其中所有目标的位置，并给出每个目标的具体类别”。&lt;/p&gt;
&lt;p&gt;得益于深度学习——主要是卷积神经网络(convolution neural network: CNN)和候选区域(region proposal)算法，从2014年开始，目标检测取得了巨大的突破。本文主要对基于深度学习的目标检测算法进行剖析和总结，文章分为四个部分：第一部分大体介绍下传统目标检测的流程，第二部分介绍以R-CNN为代表的结合region proposal和CNN分类的目标检测框架(R-CNN, SPP-NET, Fast R-CNN, Faster R-CNN); 第三部分介绍以YOLO为代表的将目标检测转换为回归问题的目标检测框架(YOLO, SSD); 第四部分介绍一些可以提高目标检测性能的技巧和方法。&lt;/p&gt;
&lt;h2 id=&quot;传统目标检测方法&quot;&gt;&lt;a href=&quot;#传统目标检测方法&quot; class=&quot;headerlink&quot; title=&quot;传统目标检测方法&quot;&gt;&lt;/a&gt;传统目标检测方法&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/images/Object-Detection/2.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;如上图所示，传统目标检测的方法一般分为三个阶段：首先在给定的图像上选择一些候选的区域，然后对这些区域提取特征，最后使用训练的分类器进行分类。下面我们对这三个阶段分别进行介绍。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;区域选择&lt;/strong&gt;&lt;br&gt;这一步是为了对目标的位置进行定位。由于目标可能出现在图像的任何位置，而且目标的大小、长宽比例也不确定，所以最初采用滑动窗口的策略对整幅图像进行遍历，而且需要设置不同的尺度，不同的长宽比。&lt;strong&gt;这种穷举的策略虽然包含了目标所有可能出现的位置，但是缺点也是显而易见的：时间复杂度太高，产生冗余窗口太多，这也严重影响后续特征提取和分类的速度和性能。&lt;/strong&gt;（实际上由于受到时间复杂度的问题，滑动窗口的长宽比一般都是固定的设置几个，所以对于长宽比浮动较大的多类别目标检测，即便是滑动窗口遍历也不能得到很好的区域）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;特征提取&lt;/strong&gt;&lt;br&gt;由于目标的形态多样性，光照变化多样性，背景多样性等因素使得设计一个鲁棒的特征并不是那么容易。然而提取特征的好坏直接影响到分类的准确性。（这个阶段常用的特征有&lt;strong&gt;SIFT、HOG&lt;/strong&gt;等）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;分类器&lt;/strong&gt;&lt;br&gt;主要有SVM, Adaboost等。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;总结：传统目标检测存在的两个主要问题：一个是基于滑动窗口的区域选择策略没有针对性，时间复杂度高，窗口冗余；二是手工设计的特征对于多样性的变化并没有很好的鲁棒性。&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;基于Region-Proposal的深度学习目标检测算法&quot;&gt;&lt;a href=&quot;#基于Region-Proposal的深度学习目标检测算法&quot; class=&quot;headerlink&quot; title=&quot;基于Region Proposal的深度学习目标检测算法&quot;&gt;&lt;/a&gt;基于Region Proposal的深度学习目标检测算法&lt;/h2&gt;&lt;p&gt;对于传统目标检测任务存在的两个主要问题，我们该如何解决呢？&lt;/p&gt;
&lt;p&gt;对于滑动窗口存在的问题，region proposal提供了很好的解决方案。&lt;strong&gt;region proposal（候选区域）是预先找出图中目标可能出现的位置。&lt;/strong&gt;但由于region proposal利用了图像中的纹理、边缘、颜色等信息，可以保证在选取较少窗口（几千个甚至几百个）的情况下保持较高的召回率。这大大降低了后续操作的时间复杂度，并且获取的候选窗口要比滑动窗口的质量更高（滑动窗口固定长宽比）。比较常用的region proposal算法有&lt;strong&gt;selective Search和edge Boxes&lt;/strong&gt;，如果想具体了解region proposal可以看一下PAMI2015的“What makes for effective detection proposals？”&lt;/p&gt;
&lt;p&gt;有了候选区域，&lt;strong&gt;剩下的工作实际就是对候选区域进行图像分类的工作（特征提取+分类）。&lt;/strong&gt;对于图像分类，不得不提的是2012年ImageNet大规模视觉识别挑战赛（ILSVRC）上，机器学习泰斗Geoffrey Hinton教授带领学生Krizhevsky使用卷积神经网络将ILSVRC分类任务的Top-5 error降低到了15.3%，而使用传统方法的第二名top-5 error高达 26.2%。此后，卷积神经网络占据了图像分类任务的绝对统治地位，微软最新的ResNet和谷歌的Inception V4模型的top-5 error降到了4%以内多，这已经超越人在这个特定任务上的能力。所以目标检测得到候选区域后使用CNN对其进行图像分类是一个不错的选择。&lt;/p&gt;
&lt;p&gt;2014年，RBG（Ross B. Girshick）大神使用region proposal+CNN代替传统目标检测使用的滑动窗口+手工设计特征，设计了R-CNN框架，使得目标检测取得巨大突破，并开启了基于深度学习目标检测的热潮。&lt;/p&gt;
&lt;h3 id=&quot;R-CNN-CVPR2014-TPAMI2015&quot;&gt;&lt;a href=&quot;#R-CNN-CVPR2014-TPAMI2015&quot; class=&quot;headerlink&quot; title=&quot;R-CNN (CVPR2014, TPAMI2015)&quot;&gt;&lt;/a&gt;R-CNN (CVPR2014, TPAMI2015)&lt;/h3&gt;&lt;p&gt;(Region-based Convolution Networks for Accurate Object detection and Segmentation)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/Object-Detection/3.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;上面的框架图清晰的给出了&lt;strong&gt;R-CNN的目标检测流程：&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight maxima&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;输入测试图像&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;利用selective search算法在图像中提取&lt;span class=&quot;number&quot;&gt;2000&lt;/span&gt;个左右的&lt;span class=&quot;built_in&quot;&gt;region&lt;/span&gt; proposal。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;将每个&lt;span class=&quot;built_in&quot;&gt;region&lt;/span&gt; proposal缩放（warp）成227x227的大小并输入到CNN，将CNN的fc7层的输出作为特征。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;将每个&lt;span class=&quot;built_in&quot;&gt;region&lt;/span&gt; proposal提取到的CNN特征输入到SVM进行分类。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;针对上面的框架给出几点解释：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;上面的框架图是测试的流程图，要进行测试我们首先要训练好提取特征的CNN模型，以及用于分类的SVM：使用在ImageNet上预训练的模型（AlexNet/VGG16）进行微调得到用于特征提取的CNN模型，然后利用CNN模型对训练集提特征训练SVM。&lt;/li&gt;
&lt;li&gt;对每个region proposal缩放到同一尺度是因为CNN全连接层输入需要保证维度固定。&lt;/li&gt;
&lt;li&gt;上图少画了一个过程——对于SVM分好类的region proposal做边框回归（bounding-box regression)，边框回归是对region proposal进行纠正的线性回归算法，为了让region proposal提取到的窗口跟目标真实窗口更吻合。因为region proposal提取到的窗口不可能跟人手工标记那么准，如果region proposal跟目标位置偏移较大，即便是分类正确了，但是由于IoU(region proposal与Ground Truth的窗口的交集比并集的比值)低于0.5，那么相当于目标还是没有检测到。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;小结&lt;/strong&gt;：R-CNN在PASCAL VOC2007上的检测结果从DPM HSC的34.3%直接提升到了66%(mAP)。&lt;strong&gt;如此大的提升使我们看到了region proposal+CNN的巨大优势。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;但是R-CNN框架也存在着&lt;strong&gt;很多问题:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;(1) 训练分为多个阶段，步骤繁琐: 微调网络+训练SVM+训练边框回归器&lt;br&gt;(2) 训练耗时，占用磁盘空间大：5000张图像产生几百G的特征文件&lt;br&gt;(3) 速度慢: 使用GPU, VGG16模型处理一张图像需要47s。&lt;br&gt;针对速度慢的这个问题，SPP-NET给出了很好的解决方案。&lt;/p&gt;
&lt;h3 id=&quot;SPP-NET-ECCV2014-TPAMI2015&quot;&gt;&lt;a href=&quot;#SPP-NET-ECCV2014-TPAMI2015&quot; class=&quot;headerlink&quot; title=&quot;SPP-NET (ECCV2014, TPAMI2015)&quot;&gt;&lt;/a&gt;SPP-NET (ECCV2014, TPAMI2015)&lt;/h3&gt;&lt;p&gt;(Spatial Pyramid Pooling in Deep Convolutional Networks for Visual Recognition)&lt;br&gt;先看一下R-CNN为什么检测速度这么慢，一张图都需要47s！仔细看下R-CNN框架发现，对图像提完region proposal（2000个左右）之后将每个proposal当成一张图像进行后续处理(CNN提特征+SVM分类)，实际上对一张图像进行了2000次提特征和分类的过程！&lt;/p&gt;
&lt;p&gt;有没有方法提速呢？好像是有的，&lt;strong&gt;这2000个region proposal不都是图像的一部分吗，那么我们完全可以对图像提一次卷积层特征，然后只需要将region proposal在原图的位置映射到卷积层特征图上&lt;/strong&gt;，这样对于一张图像我们只需要提一次卷积层特征，然后将每个region proposal的卷积层特征输入到全连接层做后续操作。（对于CNN来说，大部分运算都耗在卷积操作上，这样做可以节省大量时间）。现在的问题是每个region proposal的尺度不一样，直接这样输入全连接层肯定是不行的，因为全连接层输入必须是固定的长度。SPP-NET恰好可以解决这个问题：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/Object-Detection/4.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;上图对应的就是SPP-NET的网络结构图，任意给一张图像输入到CNN，经过卷积操作我们可以得到卷积特征（比如VGG16最后的卷积层为conv5_3，共产生512张特征图）。图中的window是就是原图一个region proposal对应到特征图的区域，只需要将这些不同大小window的特征映射到同样的维度，将其作为全连接的输入，就能保证只对图像提取一次卷积层特征。SPP-NET使用了空间金字塔采样（spatial pyramid pooling）：将每个window划分为&lt;code&gt;4*4, 2*2, 1*1&lt;/code&gt;的块，然后每个块使用max-pooling下采样，这样对于每个window经过SPP层之后都得到了一个长度为&lt;code&gt;(4*4+2*2+1)*512&lt;/code&gt;维度的特征向量，将这个作为全连接层的输入进行后续操作。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;小结：&lt;/strong&gt;使用SPP-NET相比于R-CNN可以大大加快目标检测的速度，&lt;strong&gt;但是依然存在着很多问题：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;(1) 训练分为多个阶段，步骤繁琐: 微调网络+训练SVM+训练训练边框回归器&lt;br&gt;(2) SPP-NET在微调网络的时候固定了卷积层，只对全连接层进行微调，而对于一个新的任务，有必要对卷积层也进行微调。（分类的模型提取的特征更注重高层语义，而目标检测任务除了语义信息还需要目标的位置信息）&lt;br&gt;针对这两个问题，RBG又提出Fast R-CNN, 一个精简而快速的目标检测框架。&lt;/p&gt;
&lt;h3 id=&quot;Fast-R-CNN-ICCV2015&quot;&gt;&lt;a href=&quot;#Fast-R-CNN-ICCV2015&quot; class=&quot;headerlink&quot; title=&quot;Fast R-CNN(ICCV2015)&quot;&gt;&lt;/a&gt;Fast R-CNN(ICCV2015)&lt;/h3&gt;&lt;p&gt;有了前边R-CNN和SPP-NET的介绍，我们直接看Fast R-CNN的框架图：&lt;br&gt;&lt;img src=&quot;/images/Object-Detection/5.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;与R-CNN框架图对比，可以发现主要有两处不同：&lt;strong&gt;一是最后一个卷积层后加了一个ROI pooling layer，二是损失函数使用了多任务损失函数(multi-task loss)，将边框回归直接加入到CNN网络中训练。&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight cos&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ROI pooling layer实际上是SPP-NET的一个精简版，SPP-NET对每个proposal使用了不同大小的金字塔映射，而ROI pooling layer只需要下采样到一个&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;x7的特征图。对于VGG16网络conv5_3有&lt;span class=&quot;number&quot;&gt;512&lt;/span&gt;个特征图，这样所有region proposal对应了一个&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;512&lt;/span&gt;维度的特征向量作为全连接层的输入。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;R&lt;/span&gt;-CNN训练过程分为了三个阶段，而Fast &lt;span class=&quot;keyword&quot;&gt;R&lt;/span&gt;-CNN直接使用softmax替代SVM分类，同时利用多任务损失函数边框回归也加入到了网络中，这样整个的训练过程是端到端的(除去region proposal提取阶段)。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Fast &lt;span class=&quot;keyword&quot;&gt;R&lt;/span&gt;-CNN在网络微调的过程中，将部分卷积层也进行了微调，取得了更好的检测效果。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;小结：Fast R-CNN融合了R-CNN和SPP-NET的精髓，并且引入多任务损失函数，使整个网络的训练和测试变得十分方便。&lt;/strong&gt;在Pascal VOC2007训练集上训练，在VOC2007测试的结果为66.9%(mAP)，如果使用VOC2007+2012训练集训练，在VOC2007上测试结果为70%（数据集的扩充能大幅提高目标检测性能）。使用VGG16每张图像总共需要3s左右。&lt;/p&gt;
&lt;p&gt;缺点：&lt;strong&gt;region proposal的提取使用selective search，目标检测时间大多消耗在这上面（提region proposal 2~3s，而提特征分类只需0.32s），无法满足实时应用，而且并没有实现真正意义上的端到端训练测试&lt;/strong&gt;（region proposal使用selective search先提取处来）。那么有没有可能直接使用CNN直接产生region proposal并对其分类？Faster R-CNN框架就是符合这样需要的目标检测框架。&lt;/p&gt;
&lt;h3 id=&quot;Faster-R-CNN-NIPS2015&quot;&gt;&lt;a href=&quot;#Faster-R-CNN-NIPS2015&quot; class=&quot;headerlink&quot; title=&quot;Faster R-CNN(NIPS2015)&quot;&gt;&lt;/a&gt;Faster R-CNN(NIPS2015)&lt;/h3&gt;&lt;p&gt;(Faster R-CNN: Towards Real-Time Object Detection with Region Proposal Networks)&lt;br&gt;在region proposal + CNN分类的这种目标检测框架中，region proposal质量好坏直接影响到目标检测任务的精度。如果找到一种方法只提取几百个或者更少的高质量的预选窗口，而且召回率很高，这不但能加快目标检测速度，还能提高目标检测的性能（假阳例少）。RPN(Region Proposal Networks)网络应运而生。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RPN的核心思想是使用卷积神经网络直接产生region proposal，使用的方法本质上就是滑动窗口。RPN的设计比较巧妙，RPN只需在最后的卷积层上滑动一遍，因为anchor机制和边框回归可以得到多尺度多长宽比的region proposal。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/Object-Detection/6.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;我们直接看上边的RPN网络结构图(使用了ZF模型)，给定输入图像(假设分辨率为&lt;code&gt;600*1000&lt;/code&gt;)，经过卷积操作得到最后一层的卷积特征图(&lt;code&gt;大小约为40*60&lt;/code&gt;)。在这个特征图上使用&lt;code&gt;3*3的卷积核&lt;/code&gt;(滑动窗口)与特征图进行卷积，最后一层卷积层共有&lt;code&gt;256个feature map&lt;/code&gt;，那么这个&lt;code&gt;3*3&lt;/code&gt;的区域卷积后可以获得一个256维的特征向量，后边接cls layer和reg layer分别用于分类和边框回归（跟Fast R-CNN类似，只不过这里的类别只有目标和背景两个类别）。&lt;code&gt;3*3滑窗&lt;/code&gt;对应的每个特征区域同时预测&lt;code&gt;输入图像3种尺度(128,256,512)，3种长宽比(1:1,1:2,2:1)&lt;/code&gt;的region proposal，这种映射的机制称为anchor。所以对于这个&lt;code&gt;40*60的feature map&lt;/code&gt;，总共有约&lt;code&gt;20000(40*60*9)个anchor&lt;/code&gt;，也就是&lt;code&gt;预测20000个region proposal&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;这样设计的好处是什么呢？虽然现在也是用的滑动窗口策略，但是：滑动窗口操作是在卷积层特征图上进行的，&lt;code&gt;维度较原始图像降低了16*16倍(中间经过了4次2*2的pooling操作)&lt;/code&gt;；多尺度采用了9种anchor，对应了三种尺度和三种长宽比，加上后边接了边框回归，所以即便是这9种anchor外的窗口也能得到一个跟目标比较接近的region proposal。&lt;/p&gt;
&lt;p&gt;NIPS2015版本的Faster R-CNN使用的检测框架是&lt;strong&gt;RPN网络+Fast R-CNN网络分离进行的目标检测&lt;/strong&gt;，整体流程跟Fast R-CNN一样，只是region proposal现在是用RPN网络提取的（代替原来的selective search）。同时作者为了让RPN的网络和Fast R-CNN网络实现&lt;strong&gt;卷积层的权值共享&lt;/strong&gt;，训练RPN和Fast R-CNN的时候用了4阶段的训练方法:&lt;br&gt;&lt;figure class=&quot;highlight cos&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;使用在ImageNet上预训练的模型初始化网络参数，微调RPN网络；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;使用(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)中RPN网络提取region proposal训练Fast &lt;span class=&quot;keyword&quot;&gt;R&lt;/span&gt;-CNN网络；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;使用(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)的Fast &lt;span class=&quot;keyword&quot;&gt;R&lt;/span&gt;-CNN网络重新初始化RPN, 固定卷积层进行微调；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;固定(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)中Fast &lt;span class=&quot;keyword&quot;&gt;R&lt;/span&gt;-CNN的卷积层，使用(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)中RPN提取的region proposal微调网络。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;权值共享后的RPN和Fast R-CNN用于目标检测精度会提高一些。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;使用训练好的RPN网络，给定测试图像，可以直接得到边缘回归后的region proposal，根据region proposal的类别得分对RPN网络进行排序，并选取前300个窗口作为Fast R-CNN的输入进行目标检测，使用VOC07+12训练集训练，VOC2007测试集测试mAP达到73.2%（selective search + Fast R-CNN是70%）， 目标检测的速度可以达到每秒5帧（selective search+Fast R-CNN是2~3s一张）。&lt;/p&gt;
&lt;p&gt;需要注意的是，最新的版本已经将RPN网络和Fast R-CNN网络结合到了一起——将RPN获取到的proposal直接连到ROI pooling层，这才是一个真正意义上的使用一个CNN网络实现端到端目标检测的框架。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;小结：Faster R-CNN将一直以来分离的region proposal和CNN分类融合到了一起，使用端到端的网络进行目标检测，&lt;/strong&gt;无论在速度上还是精度上都得到了不错的提高。然而Faster R-CNN还是达不到实时的目标检测，预先获取region proposal，然后在对每个proposal分类计算量还是比较大。比较幸运的是YOLO这类目标检测方法的出现让实时性也变的成为可能。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;总的来说，&lt;/strong&gt;从R-CNN, SPP-NET, Fast R-CNN, Faster R-CNN一路走来，&lt;strong&gt;基于深度学习目标检测的流程变得越来越精简，精度越来越高，速度也越来越快。&lt;/strong&gt;可以说基于region proposal的R-CNN系列目标检测方法是当前目标最主要的一个分支。&lt;/p&gt;
&lt;h2 id=&quot;基于回归方法的深度学习目标检测算法&quot;&gt;&lt;a href=&quot;#基于回归方法的深度学习目标检测算法&quot; class=&quot;headerlink&quot; title=&quot;基于回归方法的深度学习目标检测算法&quot;&gt;&lt;/a&gt;基于回归方法的深度学习目标检测算法&lt;/h2&gt;&lt;p&gt;Faster R-CNN的方法目前是主流的目标检测方法，但是速度上并不能满足实时的要求。YOLO一类的方法慢慢显现出其重要性，这类方法使用了回归的思想，既给定输入图像，直接在图像的多个位置上回归出这个位置的目标边框以及目标类别。&lt;/p&gt;
&lt;h3 id=&quot;YOLO-CVPR2016-oral&quot;&gt;&lt;a href=&quot;#YOLO-CVPR2016-oral&quot; class=&quot;headerlink&quot; title=&quot;YOLO (CVPR2016, oral)&quot;&gt;&lt;/a&gt;YOLO (CVPR2016, oral)&lt;/h3&gt;&lt;p&gt;(You Only Look Once: Unified, Real-Time Object Detection)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/Object-Detection/7.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;我们直接看上面YOLO的目标检测的流程图：&lt;br&gt;&lt;figure class=&quot;highlight gherkin&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;给个一个输入图像，首先将图像划分成7&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;7的网格&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;对于每个网格，我们都预测2个边框（包括每个边框是目标的置信度以及每个边框区域在多个类别上的概率）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;根据上一步可以预测出7&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;7&lt;span class=&quot;keyword&quot;&gt;*&lt;/span&gt;2个目标窗口，然后根据阈值去除可能性比较低的目标窗口，最后NMS去除冗余窗口即可。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可以看到整个过程非常简单，不需要中间的region proposal在找目标，直接回归便完成了位置和类别的判定。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;那么如何才能做到直接在不同位置的网格上回归出目标的位置和类别信息呢？上面是YOLO的网络结构图，前边的网络结构跟GoogLeNet的模型比较类似，主要的是最后两层的结构，卷积层之后接了一个4096维的全连接层，然后后边又全连接到一个7*7*30维的张量上。实际上这7*7就是划分的网格数，现在要在每个网格上预测目标两个可能的位置以及这个位置的目标置信度和类别，也就是每个网格预测两个目标，每个目标的信息有4维坐标信息(中心点坐标+长宽)，1个是目标的置信度，还有类别数20(VOC上20个类别)，总共就是(4+1)*2+20 = 30维的向量。这样可以利用前边4096维的全图特征直接在每个网格上回归出目标检测需要的信息（边框信息加类别）。&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;小结：&lt;strong&gt;YOLO将目标检测任务转换成一个回归问题，大大加快了检测的速度，使得YOLO可以每秒处理45张图像。&lt;/strong&gt;而且由于每个网络预测目标窗口时使用的是全图信息，使得false positive比例大幅降低（充分的上下文信息）。但是YOLO也存在问题：没有了region proposal机制，只使用7*7的网格回归会使得目标不能非常精准的定位，这也导致了YOLO的检测精度并不是很高。&lt;/p&gt;
&lt;h3 id=&quot;SSD&quot;&gt;&lt;a href=&quot;#SSD&quot; class=&quot;headerlink&quot; title=&quot;SSD&quot;&gt;&lt;/a&gt;SSD&lt;/h3&gt;&lt;p&gt;(SSD: Single Shot MultiBox Detector)&lt;br&gt;上面分析了YOLO存在的问题，使用整图特征在&lt;code&gt;7*7&lt;/code&gt;的粗糙网格内回归对目标的定位并不是很精准。那是不是可以结合region proposal的思想实现精准一些的定位？&lt;strong&gt;SSD结合YOLO的回归思想以及Faster R-CNN的anchor机制做到了这点。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/Object-Detection/8.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;上图是SSD的一个框架图，首先SSD获取目标位置和类别的方法跟YOLO一样，都是使用回归，但是YOLO预测某个位置使用的是全图的特征，SSD预测某个位置使用的是这个位置周围的特征（感觉更合理一些）。那么如何建立某个位置和其特征的对应关系呢？可能你已经想到了，使用Faster R-CNN的anchor机制。&lt;code&gt;如SSD的框架图所示，假如某一层特征图(图b)大小是8*8，那么就使用3*3的滑窗提取每个位置的特征，然后这个特征回归得到目标的坐标信息和类别信息(图c)。&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;不同于Faster R-CNN，这个anchor是在多个feature map上，这样可以利用多层的特征并且自然的达到多尺度（不同层的feature map 3*3滑窗感受野不同）。&lt;/p&gt;
&lt;p&gt;小结：&lt;strong&gt;SSD结合了YOLO中的回归思想和Faster R-CNN中的anchor机制，&lt;/strong&gt;使用全图各个位置的多尺度区域特征进行回归，既保持了YOLO速度快的特性，也保证了窗口预测的跟Faster R-CNN一样比较精准。SSD在VOC2007上mAP可以达到72.1%，速度在GPU上达到58帧每秒。&lt;/p&gt;
&lt;p&gt;总结：YOLO的提出给目标检测一个新的思路，SSD的性能则让我们看到了目标检测在实际应用中真正的可能性。&lt;/p&gt;
&lt;h2 id=&quot;提高目标检测方法&quot;&gt;&lt;a href=&quot;#提高目标检测方法&quot; class=&quot;headerlink&quot; title=&quot;提高目标检测方法&quot;&gt;&lt;/a&gt;提高目标检测方法&lt;/h2&gt;&lt;p&gt;R-CNN系列目标检测框架和YOLO目标检测框架给了我们进行目标检测的两个基本框架。除此之外，研究人员基于这些框架从其他方面入手提出了一系列提高目标检测性能的方法。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;难分样本挖掘(hard negative mining)&lt;/strong&gt;&lt;br&gt;R-CNN在训练SVM分类器时使用了难分样本挖掘的思想，但Fast R-CNN和Faster R-CNN由于使用端到端的训练策略并没有使用难分样本挖掘（只是设置了正负样本的比例并随机抽取）。CVPR2016的Training Region-based Object Detectors with Online Hard Example Mining(oral)将难分样本挖掘(hard example mining)机制嵌入到SGD算法中，使得Fast R-CNN在训练的过程中根据region proposal的损失自动选取合适的region proposal作为正负例训练。实验结果表明使用OHEM（Online Hard Example Mining）机制可以使得Fast R-CNN算法在VOC2007和VOC2012上mAP提高 4%左右。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多层特征融合&lt;/strong&gt;&lt;br&gt;Fast R-CNN和Faster R-CNN都是利用了最后卷积层的特征进行目标检测，而由于高层的卷积层特征已经损失了很多细节信息（pooling操作），所以在定位时不是很精准。HyperNet等一些方法则利用了CNN的多层特征融合进行目标检测，这不仅利用了高层特征的语义信息，还考虑了低层特征的细节纹理信息，使得目标检测定位更精准。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;使用上下文信息&lt;/strong&gt;&lt;br&gt;在提取region proposal特征进行目标检测时，结合region proposal上下文信息，检测效果往往会更好一些。（Object detection via a multi-region &amp;amp; semantic segmentation-aware CNN model以及Inside-Outside Net等论文中都使用了上下文信息）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;该文章属于“深度学习大讲堂”原创，如需要转载，请联系loveholicguoguo。&lt;/p&gt;
&lt;h2 id=&quot;作者简介&quot;&gt;&lt;a href=&quot;#作者简介&quot; class=&quot;headerlink&quot; title=&quot;作者简介&quot;&gt;&lt;/a&gt;作者简介&lt;/h2&gt;&lt;p&gt;王斌(中科院计算所前瞻研究实验室跨媒体计算课题组博士生，导师张勇东研究员)&lt;br&gt;研究方向为基于深度学习的目标检测。2015年作为计算所MCG-ICT-CAS团队成员，参加ImageNet竞赛ILSVRC2015的目标检测任务获得全球第5名。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;目标检测对于人来说是再简单不过的任务，但是对于计算机来说，它看到的是一些值为0~255的数组，因而很难直接得到图像中有人或者猫这种高层语义概念，也不清楚目标出现在图像中哪个区域。图像中的目标可能出现在任何位置，目标的形态可能存在各种各样的变化，图像的背景千差万别……，这些因素导致目标检测并不是一个容易解决的任务。&lt;br&gt;
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
  </entry>
  
  <entry>
    <title>Ubuntu 14.04 64bit + Caffe rc3 + CUDA 7.5 + Intel MKL 配置说明</title>
    <link href="http://blog.mindcont.com/2016/07/20/ubuntu1404-caffe-r3-cuda7-5-mkl/"/>
    <id>http://blog.mindcont.com/2016/07/20/ubuntu1404-caffe-r3-cuda7-5-mkl/</id>
    <published>2016-07-20T08:24:09.000Z</published>
    <updated>2016-11-12T11:25:04.722Z</updated>
    
    <content type="html">&lt;p&gt;本步骤经笔者亲身实践，集百家所长，能实现Caffe在NVIDIA GPU下进行计算。&lt;/p&gt;
&lt;h2 id=&quot;安装开发所需的依赖包&quot;&gt;&lt;a href=&quot;#安装开发所需的依赖包&quot; class=&quot;headerlink&quot; title=&quot;安装开发所需的依赖包&quot;&gt;&lt;/a&gt;安装开发所需的依赖包&lt;/h2&gt;&lt;p&gt;安装开发所需要的一些基本包&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install build-essential  &lt;span class=&quot;comment&quot;&gt;# basic requirement&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install vim cmake git    &lt;span class=&quot;comment&quot;&gt;# tools&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install libprotobuf-dev libleveldb-dev libsnappy-dev libopencv-dev libboost-all-dev libhdf5-serial-dev libgflags-dev libgoogle-glog-dev liblmdb-dev protobuf-compiler libatlas-base-dev  &lt;span class=&quot;comment&quot;&gt;#required by caffe&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;安装CUDA及驱动&quot;&gt;&lt;a href=&quot;#安装CUDA及驱动&quot; class=&quot;headerlink&quot; title=&quot;安装CUDA及驱动&quot;&gt;&lt;/a&gt;安装CUDA及驱动&lt;/h2&gt;&lt;h3 id=&quot;准备工作&quot;&gt;&lt;a href=&quot;#准备工作&quot; class=&quot;headerlink&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h3&gt;&lt;p&gt;下文中所有资源可在&lt;strong&gt;百度云&lt;/strong&gt; 链接：&lt;a href=&quot;http://pan.baidu.com/s/1dEXPg3J&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://pan.baidu.com/s/1dEXPg3J&lt;/a&gt; 密码：v19o 得到。&lt;/p&gt;
&lt;p&gt;在关闭桌面管理 lightdm 的情况下安装驱动似乎可以实现Intel 核芯显卡 来显示 + NVIDIA 显卡来计算。具体步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;首先在BIOS设置里选择用Intel显卡来显示或作为主要显示设备&lt;/li&gt;
&lt;li&gt;&lt;p&gt;进入Ubuntu， 按 ctrl+alt+F1 进入tty， 登录tty后输入如下命令&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo service lightdm stop&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;该命令会关闭lightdm。如果你使用 gdm或者其他的desktop manager, 请在安装NVIDIA驱动前关闭他。&lt;/p&gt;
&lt;h3 id=&quot;下载deb包及安装CUDA&quot;&gt;&lt;a href=&quot;#下载deb包及安装CUDA&quot; class=&quot;headerlink&quot; title=&quot;下载deb包及安装CUDA&quot;&gt;&lt;/a&gt;下载deb包及安装CUDA&lt;/h3&gt;&lt;p&gt;使用deb包安装CUDA及驱动能省去很多麻烦(参见&lt;a href=&quot;http://developer.download.nvidia.com/compute/cuda/6_5/rel/docs/CUDA_Getting_Started_Linux.pdf&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CUDA Starting Guide&lt;/a&gt;)。下载对应于你系统的&lt;a href=&quot;https://developer.nvidia.com/cuda-downloads&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CUDA deb包&lt;/a&gt;, 然后用下列命令添加软件源&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo dpkg -i cuda-repo-&amp;lt;distro&amp;gt;_&amp;lt;version&amp;gt;_&amp;lt;architecture&amp;gt;.deb&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get update&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后用下列命令安装CUDA&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install cuda&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;安装完成后 reboot.&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo reboot&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;安装cuDNN&quot;&gt;&lt;a href=&quot;#安装cuDNN&quot; class=&quot;headerlink&quot; title=&quot;安装cuDNN&quot;&gt;&lt;/a&gt;安装cuDNN&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;(03-25: 今天下最新的caffe回来发现编译不过啊一直CUDNN报错浪费了我几个小时没搞定! 后来才发现caffe15小时前的更新开始使用cudnn v2, 但是官网上并没有明显提示!!! 坑爹啊!)&lt;/strong&gt;&lt;br&gt;cuDNN能加速caffe中conv及pooling的计算。首先下载&lt;a href=&quot;https://developer.nvidia.com/cudnn&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;cuDNN&lt;/a&gt;,需要注册。或通过在&lt;strong&gt;百度云&lt;/strong&gt; 链接：&lt;a href=&quot;http://pan.baidu.com/s/1dEXPg3J&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://pan.baidu.com/s/1dEXPg3J&lt;/a&gt; 密码：v19o 得到。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/caffe/cuDNN Download.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;下载完成后，然后执行下列命令解压并安装&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 需注意，切换到你自己存放 cudnn-7.5-linux-x64-v5.1-rc.tgz 文件的文件夹下进行解压&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tar -zxvf cudnn-7.5-linux-x64-v5.1-rc.tgz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; cuda&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo cp lib64/* /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/cuda/lib64/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo cp include/cudnn.h /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/cuda/include/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/caffe/cudnn_copy.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;更新软链接&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/cuda/lib64/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo rm -rf libcudnn.so libcudnn.so.5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo ln &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; libcudnn.so.5.1.3 libcudnn.so&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/caffe/cudnn_finish.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;设置环境变量&quot;&gt;&lt;a href=&quot;#设置环境变量&quot; class=&quot;headerlink&quot; title=&quot;设置环境变量&quot;&gt;&lt;/a&gt;设置环境变量&lt;/h3&gt;&lt;p&gt;安装完成后需要在&lt;code&gt;/etc/profile&lt;/code&gt;中添加环境变量,&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo gedit /etc/profile&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在文件最后添加:&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;PATH=/usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/cuda/bin:&lt;span class=&quot;variable&quot;&gt;$PATH&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; PATH&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/caffe/caffe_profile.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;保存后, 执行下列命令, 使环境变量立即生效&lt;br&gt;&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;regexp&quot;&gt;/etc/&lt;/span&gt;profile&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;同时需要添加lib库路径： 在 &lt;code&gt;/etc/ld.so.conf.d/&lt;/code&gt;加入文件 &lt;code&gt;cuda.conf&lt;/code&gt;, 内容如下&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/cuda/lib64&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/caffe/cuda_conf.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;保存后，执行下列命令使之立刻生效&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo ldconfig&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;测试CUDA&quot;&gt;&lt;a href=&quot;#测试CUDA&quot; class=&quot;headerlink&quot; title=&quot;测试CUDA&quot;&gt;&lt;/a&gt;测试CUDA&lt;/h2&gt;&lt;p&gt;进入&lt;code&gt;/usr/local/cuda/samples&lt;/code&gt;, 执行下列命令来build samples&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo make all -j4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;编译过程&lt;br&gt;&lt;img src=&quot;/images/caffe/cuda_samples.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;整个过程大概10分钟左右, 全部编译完成后， 进入 &lt;code&gt;samples/bin/x86_64/linux/release&lt;/code&gt;, 运行deviceQuery&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./deviceQuery&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果出现显卡信息， 则驱动及显卡安装成功：&lt;/p&gt;
&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pi@DeepMind:/usr/local/cuda/samples/bin/x86_64/linux/&lt;span class=&quot;keyword&quot;&gt;release&lt;/span&gt;$ ./deviceQuery&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./deviceQuery &lt;span class=&quot;keyword&quot;&gt;Starting&lt;/span&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; CUDA Device &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt; (Runtime API) &lt;span class=&quot;keyword&quot;&gt;version&lt;/span&gt; (CUDART &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; linking)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Detected &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; CUDA Capable device(s)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Device &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Quadro K2200&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  CUDA Driver &lt;span class=&quot;keyword&quot;&gt;Version&lt;/span&gt; / Runtime &lt;span class=&quot;keyword&quot;&gt;Version&lt;/span&gt;          &lt;span class=&quot;number&quot;&gt;7.5&lt;/span&gt; / &lt;span class=&quot;number&quot;&gt;7.5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  CUDA Capability Major/Minor &lt;span class=&quot;keyword&quot;&gt;version&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;number&lt;/span&gt;:    &lt;span class=&quot;number&quot;&gt;5.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Total amount &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;memory&lt;/span&gt;:                 &lt;span class=&quot;number&quot;&gt;4095&lt;/span&gt; MBytes (&lt;span class=&quot;number&quot;&gt;4294246400&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;bytes&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ( &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;) Multiprocessors, (&lt;span class=&quot;number&quot;&gt;128&lt;/span&gt;) CUDA Cores/MP:     &lt;span class=&quot;number&quot;&gt;640&lt;/span&gt; CUDA Cores&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  GPU &lt;span class=&quot;keyword&quot;&gt;Max&lt;/span&gt; Clock rate:                            &lt;span class=&quot;number&quot;&gt;1124&lt;/span&gt; MHz (&lt;span class=&quot;number&quot;&gt;1.12&lt;/span&gt; GHz)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;Memory&lt;/span&gt; Clock rate:                             &lt;span class=&quot;number&quot;&gt;2505&lt;/span&gt; Mhz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;Memory&lt;/span&gt; Bus Width:                              &lt;span class=&quot;number&quot;&gt;128&lt;/span&gt;-&lt;span class=&quot;built_in&quot;&gt;bit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  L2 &lt;span class=&quot;keyword&quot;&gt;Cache&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Size&lt;/span&gt;:                                 &lt;span class=&quot;number&quot;&gt;2097152&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;bytes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Maximum Texture &lt;span class=&quot;keyword&quot;&gt;Dimension&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Size&lt;/span&gt; (x,y,z)         &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;D=(&lt;span class=&quot;number&quot;&gt;65536&lt;/span&gt;), &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;D=(&lt;span class=&quot;number&quot;&gt;65536&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;65536&lt;/span&gt;), &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;D=(&lt;span class=&quot;number&quot;&gt;4096&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4096&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4096&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Maximum Layered &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;D Texture &lt;span class=&quot;keyword&quot;&gt;Size&lt;/span&gt;, (&lt;span class=&quot;keyword&quot;&gt;num&lt;/span&gt;) layers  &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;D=(&lt;span class=&quot;number&quot;&gt;16384&lt;/span&gt;), &lt;span class=&quot;number&quot;&gt;2048&lt;/span&gt; layers&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Maximum Layered &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;D Texture &lt;span class=&quot;keyword&quot;&gt;Size&lt;/span&gt;, (&lt;span class=&quot;keyword&quot;&gt;num&lt;/span&gt;) layers  &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;D=(&lt;span class=&quot;number&quot;&gt;16384&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;16384&lt;/span&gt;), &lt;span class=&quot;number&quot;&gt;2048&lt;/span&gt; layers&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Total amount &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;constant&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;memory&lt;/span&gt;:               &lt;span class=&quot;number&quot;&gt;65536&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;bytes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Total amount &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;shared&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;memory&lt;/span&gt; per &lt;span class=&quot;keyword&quot;&gt;block&lt;/span&gt;:       &lt;span class=&quot;number&quot;&gt;49152&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;bytes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Total &lt;span class=&quot;built_in&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; registers available per &lt;span class=&quot;keyword&quot;&gt;block&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;65536&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Warp &lt;span class=&quot;keyword&quot;&gt;size&lt;/span&gt;:                                     &lt;span class=&quot;number&quot;&gt;32&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Maximum &lt;span class=&quot;built_in&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; threads per multiprocessor:  &lt;span class=&quot;number&quot;&gt;2048&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Maximum &lt;span class=&quot;built_in&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; threads per &lt;span class=&quot;keyword&quot;&gt;block&lt;/span&gt;:           &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;Max&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;dimension&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; a &lt;span class=&quot;keyword&quot;&gt;thread&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;block&lt;/span&gt; (x,y,z): (&lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;64&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;Max&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;dimension&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; a grid &lt;span class=&quot;keyword&quot;&gt;size&lt;/span&gt;    (x,y,z): (&lt;span class=&quot;number&quot;&gt;2147483647&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;65535&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;65535&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Maximum &lt;span class=&quot;keyword&quot;&gt;memory&lt;/span&gt; pitch:                          &lt;span class=&quot;number&quot;&gt;2147483647&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;bytes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Texture alignment:                             &lt;span class=&quot;number&quot;&gt;512&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;bytes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;Concurrent&lt;/span&gt; copy &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; kernel execution:          Yes &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; copy &lt;span class=&quot;keyword&quot;&gt;engine&lt;/span&gt;(s)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Run &lt;span class=&quot;keyword&quot;&gt;time&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt; kernels:                     Yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Integrated GPU sharing Host &lt;span class=&quot;keyword&quot;&gt;Memory&lt;/span&gt;:            &lt;span class=&quot;keyword&quot;&gt;No&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Support host page-&lt;span class=&quot;keyword&quot;&gt;locked&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;memory&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;mapping&lt;/span&gt;:       Yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Alignment requirement &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; Surfaces:            Yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Device has ECC support:                        Disabled&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Device supports Unified Addressing (UVA):      Yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Device PCI &lt;span class=&quot;keyword&quot;&gt;Domain&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;ID&lt;/span&gt; / Bus &lt;span class=&quot;keyword&quot;&gt;ID&lt;/span&gt; / location &lt;span class=&quot;keyword&quot;&gt;ID&lt;/span&gt;:   &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; / &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; / &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;Compute&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Mode&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;lt; &lt;span class=&quot;keyword&quot;&gt;Default&lt;/span&gt; (multiple host threads can &lt;span class=&quot;keyword&quot;&gt;use&lt;/span&gt; ::cudaSetDevice() &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; device simultaneously) &amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deviceQuery, CUDA Driver = CUDART, CUDA Driver &lt;span class=&quot;keyword&quot;&gt;Version&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;7.5&lt;/span&gt;, CUDA Runtime &lt;span class=&quot;keyword&quot;&gt;Version&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;7.5&lt;/span&gt;, NumDevs = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, Device0 = Quadro K2200&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Result&lt;/span&gt; = PASS&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/images/caffe/deviceQuery.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;安装Intel-MKL-或Atlas&quot;&gt;&lt;a href=&quot;#安装Intel-MKL-或Atlas&quot; class=&quot;headerlink&quot; title=&quot;安装Intel MKL 或Atlas&quot;&gt;&lt;/a&gt;安装Intel MKL 或Atlas&lt;/h2&gt;&lt;p&gt;如果没有Intel MKL， 可以用下列命令安装免费的atlas&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install libatlas-base-dev&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果有mkl安装包&lt;a href=&quot;https://software.intel.com/en-us/intel-mkl&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Intel® MKL&lt;/a&gt;需注册后会发下载链接和激活码到注册邮箱。&lt;br&gt;先注册，后再登录到此界面，选择’Get This Library for Free!’-&amp;gt;’Everyone’。&lt;br&gt;&lt;img src=&quot;/images/caffe/mkl_Download_1.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;选择社区版本Licensing&lt;br&gt;&lt;img src=&quot;/images/caffe/mkl_Download_2.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;填写信息后，会下载链接和激活码到你注册邮箱。&lt;br&gt;&lt;img src=&quot;/images/caffe/mkl_Download_3.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;首先解压安装包，下面有一个install_GUI.sh文件， 执行该文件，会出现图形安装界面，根据说明一步一步执行即可。&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tar -zxvf l_mkl_11.3.3.210.tgz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; l_mkl_11.3.3.210&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo sh install.sh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/caffe/mkl_install.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/caffe/mkl_ativate.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/caffe/mkl_complete.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;strong&gt;注意&lt;/strong&gt;： 安装完成后需要添加library路径, 创建&lt;code&gt;/etc/ld.so.conf.d/intel_mkl.conf&lt;/code&gt;文件， 在文件中添加内容&lt;br&gt;&lt;figure class=&quot;highlight crystal&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/opt/intel/&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;lib&lt;/span&gt;/&lt;span class=&quot;title&quot;&gt;intel64&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/opt/intel/mkl/&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;lib&lt;/span&gt;/&lt;span class=&quot;title&quot;&gt;intel64&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/caffe/intel_mkl_conf.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;注意把路径替换成自己的安装路径。 编辑完后执行&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo ldconfig&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;安装OpenCV-Optional，-如果运行caffe时opencv报错，-可以重新按照此步骤安装&quot;&gt;&lt;a href=&quot;#安装OpenCV-Optional，-如果运行caffe时opencv报错，-可以重新按照此步骤安装&quot; class=&quot;headerlink&quot; title=&quot;安装OpenCV (Optional， 如果运行caffe时opencv报错， 可以重新按照此步骤安装)&quot;&gt;&lt;/a&gt;安装OpenCV (Optional， 如果运行caffe时opencv报错， 可以重新按照此步骤安装)&lt;/h2&gt;&lt;p&gt;参见我的另一篇博客&lt;a href=&quot;http://blog.mindcont.com/2016/07/16/installing-opencv-2-4-9-in-ubuntu-14-04-lts/&quot;&gt;Ubuntu 14.04安装 OpenCV 2.4.9&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;安装Caffe所需要的Python环境&quot;&gt;&lt;a href=&quot;#安装Caffe所需要的Python环境&quot; class=&quot;headerlink&quot; title=&quot;安装Caffe所需要的Python环境&quot;&gt;&lt;/a&gt;安装Caffe所需要的Python环境&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install python-numpy python-scipy python-matplotlib python-sklearn python-skimage python-h5py python-protobuf python-leveldb python-networkx python-nose python-pandas python-gflags Cython ipython python-pydot&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install protobuf-c-compiler protobuf-compiler&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;安装MATLAB&quot;&gt;&lt;a href=&quot;#安装MATLAB&quot; class=&quot;headerlink&quot; title=&quot;安装MATLAB&quot;&gt;&lt;/a&gt;安装MATLAB&lt;/h2&gt;&lt;p&gt;Caffe提供了MATLAB接口，有需要用MATLAB的同学可以额外安装MATLAB。安装教程同Windows 下类似,首先下载 MATLAB for Linux、解压。&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo sh ./install.sh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;弹出图形界面，之后同在Windows下一样进行破解激活。windows下安装和激活 Matlab参加我的另一篇博客&lt;a href=&quot;http://blog.mindcont.com/2016/05/18/Microsoft-Kinect-V2-with-Matlab/&quot;&gt;Matlab连接Kinect V2&lt;/a&gt;  。安装完成后可&lt;a href=&quot;http://www.linuxidc.com/Linux/2011-01/31632.htm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;添加图标&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo vi /usr/share/applications/Matlab.desktop&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;输入以下内容&lt;/p&gt;
&lt;figure class=&quot;highlight ini&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;[Desktop Entry]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;Type&lt;/span&gt;=Application&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;Name&lt;/span&gt;=Matlab&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;GenericName&lt;/span&gt;=Matlab R2015b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;Comment&lt;/span&gt;=Matlab:The Language of Technical Computing&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;Exec&lt;/span&gt;=sh /usr/local/MATLAB/R2015b/bin/matlab -desktop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;Icon&lt;/span&gt;=/usr/local/MATLAB/Matlab.png&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;Terminal&lt;/span&gt;=&lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;Categories&lt;/span&gt;=Development;Matlab;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这里我的Matlab安装位置为默认，如下所示&lt;br&gt;&lt;img src=&quot;/images/caffe/matlab_location.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;编译Caffe&quot;&gt;&lt;a href=&quot;#编译Caffe&quot; class=&quot;headerlink&quot; title=&quot;编译Caffe&quot;&gt;&lt;/a&gt;编译Caffe&lt;/h2&gt;&lt;h3 id=&quot;编译主程序&quot;&gt;&lt;a href=&quot;#编译主程序&quot; class=&quot;headerlink&quot; title=&quot;编译主程序&quot;&gt;&lt;/a&gt;编译主程序&lt;/h3&gt;&lt;p&gt;终于完成了所有环境的配置，可以愉快的编译Caffe了！&lt;strong&gt;需要注意的是，这里我采用的是caffe-rc3.zip(on 30 Jan 2016)。&lt;/strong&gt; 进入caffe根目录， 首先复制一份&lt;code&gt;Makefile.config&lt;/code&gt;,&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cp Makefile.config.example Makefile.config&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt; 然后修改里面的内容，主要需要修改的参数包括&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CPU_ONLY 是否只使用CPU模式，没有GPU没安装CUDA的同学可以打开这个选项&lt;/li&gt;
&lt;li&gt;BLAS (使用intel mkl还是atlas)&lt;/li&gt;
&lt;li&gt;MATLAB_DIR 如果需要使用MATLAB wrapper的同学需要指定matlab的安装路径, 如我的路径为 &lt;code&gt;/usr/local/MATLAB/R2015b&lt;/code&gt; (注意该目录下需要包含bin文件夹，bin文件夹里应该包含mex二进制程序)&lt;/li&gt;
&lt;li&gt;DEBUG 是否使用debug模式，打开此选项则可以在eclipse或者NSight中debug程序&lt;/li&gt;
&lt;li&gt;CUDA_ARCH 可根据你自己显卡对应的计算力&lt;a href=&quot;https://developer.nvidia.com/cuda-gpus&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;/a&gt;改相应的 -gencode arch=compute_xx,code=compute_xx 。例如我的显卡是 NVIDIA K2200 对应的计算力是 5.0，所以我相应的设置为 -gencode arch=compute_50,code=compute_50&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里是我的配置：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## Refer to http://caffe.berkeleyvision.org/installation.html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Contributions simplifying and improving our build system are welcome!&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# cuDNN acceleration switch (uncomment to build with cuDNN).&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; USE_CUDNN := 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# CPU-only switch (uncomment to build without GPU support).&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# CPU_ONLY := 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# uncomment to disable IO dependencies and corresponding data layers&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; USE_OPENCV := 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; USE_LEVELDB := 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; USE_LMDB := 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# uncomment to allow MDB_NOLOCK when reading LMDB files (only if necessary)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#	You should not set this flag if you will be reading LMDBs with any&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#	possibility of simultaneous read and write&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ALLOW_LMDB_NOLOCK := 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Uncomment if you&#39;re using OpenCV 3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# OPENCV_VERSION := 3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# To customize your choice of compiler, uncomment and set the following.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# N.B. the default for Linux is g++ and the default for OSX is clang++&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# CUSTOM_CXX := g++&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# CUDA directory contains bin/ and lib/ directories that we need.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; CUDA_DIR := /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/cuda&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# On Ubuntu 14.04, if cuda tools are installed via&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# &quot;sudo apt-get install nvidia-cuda-toolkit&quot; then use this instead:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# CUDA_DIR := /usr&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# CUDA architecture setting: going with all of them.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# For CUDA &amp;lt; 6.0, comment the *_50 lines for compatibility.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; CUDA_ARCH := -gencode arch=compute_50,code=sm_50 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		-gencode arch=compute_50,code=compute_50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# BLAS choice:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# atlas for ATLAS (default)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# mkl for MKL&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# open for OpenBlas&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; BLAS := mkl&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Custom (MKL/ATLAS/OpenBLAS) include and lib directories.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Leave commented to accept the defaults for your choice of BLAS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# (which should work)!&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; BLAS_INCLUDE := /opt/intel/mkl/include&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; BLAS_LIB := /opt/intel/mkl/lib/intel64 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	     /opt/intel/lib/intel64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Homebrew puts openblas in a directory that is not on the standard search path&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# BLAS_INCLUDE := $(shell brew --prefix openblas)/include&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# BLAS_LIB := $(shell brew --prefix openblas)/lib&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# This is required only if you will compile the matlab interface.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# MATLAB directory should contain the mex binary in /bin.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; MATLAB_DIR := /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/MATLAB/R2015b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# MATLAB_DIR := /Applications/MATLAB_R2012b.app&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# &lt;span class=&quot;doctag&quot;&gt;NOTE:&lt;/span&gt; this is required only if you will compile the python interface.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# We need to be able to find Python.h and numpy/arrayobject.h.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PYTHON_INCLUDE := /usr/include/python2.7 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		/usr/lib/python2.7/dist-packages/numpy/core/include&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Anaconda Python distribution is quite popular. Include path:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Verify anaconda location, sometimes it&#39;s in root.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ANACONDA_HOME := $(HOME)/anaconda&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# PYTHON_INCLUDE := $(ANACONDA_HOME)/include \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;# $(ANACONDA_HOME)/include/python2.7 \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;# $(ANACONDA_HOME)/lib/python2.7/site-packages/numpy/core/include \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Uncomment to use Python 3 (default is Python 2)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# PYTHON_LIBRARIES := boost_python3 python3.5m&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# PYTHON_INCLUDE := /usr/include/python3.5m \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#                 /usr/lib/python3.5/dist-packages/numpy/core/include&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# We need to be able to find libpythonX.X.so or .dylib.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PYTHON_LIB := /usr/lib&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# PYTHON_LIB := $(ANACONDA_HOME)/lib&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Homebrew installs numpy in a non standard path (keg only)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# PYTHON_INCLUDE += $(dir $(shell python -c &#39;import numpy.core; print(numpy.core.__file__)&#39;))/include&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# PYTHON_LIB += $(shell brew --prefix numpy)/lib&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Uncomment to support layers written in Python (will link against Python libs)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# WITH_PYTHON_LAYER := 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Whatever else you find you need goes here.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/include&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;LIBRARY_DIRS := $(PYTHON_LIB) /usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/lib /usr/lib&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# If Homebrew is installed at a non standard location (for example your home directory) and you use it for general dependencies&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# INCLUDE_DIRS += $(shell brew --prefix)/include&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# LIBRARY_DIRS += $(shell brew --prefix)/lib&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Uncomment to use `pkg-config` to specify OpenCV library paths.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# (Usually not necessary -- OpenCV libraries are normally installed in one of the above $LIBRARY_DIRS.)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# USE_PKG_CONFIG := 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# N.B. both build and distribute dirs are cleared on `make clean`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;BUILD_DIR := build&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;DISTRIBUTE_DIR := distribute&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Uncomment for debugging. Does not work on OSX due to https://github.com/BVLC/caffe/issues/171&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# DEBUG := 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# The ID of the GPU that &#39;make runtest&#39; will use to run unit tests.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; TEST_GPUID := 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# enable pretty build (comment to see full commands)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Q ?= @&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;完成设置后， 开始编译&lt;br&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;make all -j4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;make &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;make runtest&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt; &lt;code&gt;-j4&lt;/code&gt; 是指使用几个线程来同时编译， 可以加快速度， j后面的数字可以根据CPU core的个数来决定， 我的CPU使4核， 所以-j4.&lt;br&gt;&lt;img src=&quot;/images/caffe/makeruntest_begin.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/caffe/makeruntest_finish.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;编译Matlab-wrapper&quot;&gt;&lt;a href=&quot;#编译Matlab-wrapper&quot; class=&quot;headerlink&quot; title=&quot;编译Matlab wrapper&quot;&gt;&lt;/a&gt;编译Matlab wrapper&lt;/h3&gt;&lt;p&gt;执行如下命令&lt;br&gt;&lt;figure class=&quot;highlight gauss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt; matcaffe&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后就可以跑官方的matlab demo啦。&lt;/p&gt;
&lt;h3 id=&quot;编译Python-wrapper&quot;&gt;&lt;a href=&quot;#编译Python-wrapper&quot; class=&quot;headerlink&quot; title=&quot;编译Python wrapper&quot;&gt;&lt;/a&gt;编译Python wrapper&lt;/h3&gt;&lt;figure class=&quot;highlight gauss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt; pycaffe&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt; 这里生成caffe 的 python 还不能够直接使用，建议输入下面的指令，将其加入到当前用户的用户变量中。&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;regexp&quot;&gt;~&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gedit&lt;/span&gt; .bashrc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在打开的文件中，输入&lt;br&gt;&lt;figure class=&quot;highlight xquery&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;export PYTHONPATH=/home/pi/caffe/python:$PYTHONPATH&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;保存后关闭，然后在命令行下输入&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt; .bashrc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;打开一个新的终端或同时按住（Ctrl + Alt + T）,输入&lt;br&gt;&lt;figure class=&quot;highlight qml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;python&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;string&quot;&gt; caffe&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果看到如下内容&lt;br&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pi@DeepMind&lt;span class=&quot;symbol&quot;&gt;:~&lt;/span&gt;$ python&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Python &lt;span class=&quot;number&quot;&gt;2.7&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt; (default, Jun &lt;span class=&quot;number&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2015&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;58&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;13&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[GCC &lt;span class=&quot;number&quot;&gt;4.8&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;] on linux2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Type &lt;span class=&quot;string&quot;&gt;&quot;help&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;copyright&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;credits&quot;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;license&quot;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; more information.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&amp;gt; import caffe&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后基本就全部安装完拉。接下来大家尽情地跑demo吧～&lt;/p&gt;
&lt;h2 id=&quot;参考链接&quot;&gt;&lt;a href=&quot;#参考链接&quot; class=&quot;headerlink&quot; title=&quot;参考链接&quot;&gt;&lt;/a&gt;参考链接&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://caffe.berkeleyvision.org/install_apt.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ubuntu Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/BVLC/caffe/wiki/Ubuntu-16.04-or-15.10-Installation-Guide&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ubuntu 16.04 or 15.10 Installation Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/bearpaw/c38ef18ec45ba6548ec0&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Caffe + Ubuntu 12.04 64bit + CUDA 6.5 配置说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/platero/p/3993877.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;普兒的技术传送门&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/u013476464/article/details/38071075&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;浙商大嵌入式实验室-凉水煮茶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://zzfei.com/archives/process-solving-a-compilation-problem.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;记一个编译问题的解决过程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/brightming/article/details/51106629&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;caffe的配置过程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/rbgirshick/py-faster-rcnn/issues/2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;error == cudaSuccess (8 vs. 0) &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;转载务必注明&lt;/strong&gt; 来自&lt;a href=&quot;http://blog.mindcont.com/2016/07/20/ubuntu1404-caffe-cuda7-5-mkl/&quot;&gt;微记元-Ubuntu 14.04 64bit + Caffe + CUDA 7.5 + Intel MKL 配置说明&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;本步骤经笔者亲身实践，集百家所长，能实现Caffe在NVIDIA GPU下进行计算。&lt;/p&gt;
&lt;h2 id=&quot;安装开发所需的依赖包&quot;&gt;&lt;a href=&quot;#安装开发所需的依赖包&quot; class=&quot;headerlink&quot; title=&quot;安装开发所需的依赖包&quot;&gt;&lt;/a&gt;安装开发所需
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="caffe" scheme="http://blog.mindcont.com/tags/caffe/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 14.04安装 OpenCV 2.4.9</title>
    <link href="http://blog.mindcont.com/2016/07/16/installing-opencv-2-4-9-in-ubuntu-14-04-lts/"/>
    <id>http://blog.mindcont.com/2016/07/16/installing-opencv-2-4-9-in-ubuntu-14-04-lts/</id>
    <published>2016-07-16T07:27:45.000Z</published>
    <updated>2016-08-22T08:11:15.055Z</updated>
    
    <content type="html">&lt;p&gt;OpenCV的全称是Open Source Computer Vision Library，是一个跨平台的计算机视觉库。OpenCV是由英特尔公司发起并参与开发，以BSD许可证授权发行，可以在商业和研究领域中免费使用。OpenCV可用于开发实时的图像处理、计算机视觉以及模式识别程序。该程序库也可以使用英特尔公司的IPP进行加速处理。&lt;br&gt;在本指南中，我将告诉你如何在ubuntu14.04(lts)中安装OpenCV。ok,让我们开始吧～&lt;/p&gt;
&lt;h2 id=&quot;更新源&quot;&gt;&lt;a href=&quot;#更新源&quot; class=&quot;headerlink&quot; title=&quot;更新源&quot;&gt;&lt;/a&gt;更新源&lt;/h2&gt;&lt;p&gt;首先将源更新为阿里云源&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak         &lt;span class=&quot;comment&quot;&gt;#备份&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo gedit /etc/apt/sources.list                                &lt;span class=&quot;comment&quot;&gt;#修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;##添加如下内容，点击保存后关闭文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb-src http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb-src http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb-src http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb-src http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;deb-src http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;##更新系统&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get update &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get upgrade&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;下载依赖环境&quot;&gt;&lt;a href=&quot;#下载依赖环境&quot; class=&quot;headerlink&quot; title=&quot;下载依赖环境&quot;&gt;&lt;/a&gt;下载依赖环境&lt;/h2&gt;&lt;p&gt;现在，你需要安装很多相关性，比如支持读取和写入图像文件，在屏幕上绘制，一些必要的工具，其他图书馆，等等…这一步是很容易的，你只需要在终端上写下面的命令：&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install build-essential libgtk2.0-dev libjpeg-dev libtiff4-dev libjasper-dev libopenexr-dev cmake python-dev python-numpy python-tk libtbb-dev libeigen3-dev yasm libfaac-dev libopencore-amrnb-dev libopencore-amrwb-dev libtheora-dev libvorbis-dev libxvidcore-dev libx264-dev libqt4-dev libqt4-opengl-dev sphinx-common texlive-latex-extra libv4l-dev libdc1394-22-dev libavcodec-dev libavformat-dev libswscale-dev default-jdk ant libvtk5-qt4-dev&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;下载OpenCV&quot;&gt;&lt;a href=&quot;#下载OpenCV&quot; class=&quot;headerlink&quot; title=&quot;下载OpenCV&quot;&gt;&lt;/a&gt;下载OpenCV&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#切换到家目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; ~ &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#使用wget下载 Opencv-2.4.9&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget http://sourceforge.net/projects/opencvlibrary/files/opencv-unix/2.4.9/opencv-2.4.9.zip   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#解压          &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;unzip opencv-2.4.9.zip      &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#转到解压目录    &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; opencv-2.4.9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;编译&quot;&gt;&lt;a href=&quot;#编译&quot; class=&quot;headerlink&quot; title=&quot;编译&quot;&gt;&lt;/a&gt;编译&lt;/h2&gt;&lt;p&gt;现在我们通过使用cmake生成Makefile文件。在这里我们可以定义我们要编译OpenCV的哪个部位。既然我们要使用的即模块，Python和Java的，TBB时，OpenGL，QT，与视频接口的调用等等，这里是我们需要来设置。而就在终端执行以下命令行来创建相应的Makefile文件。请注意，有在该行的最后两个点，它是为cmake的程序参数，这意味着父目录（因为我们是build目录里面，我们要参考OpenCV的目录，这是它的父目录）。&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#创建编译目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mkdir build &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#转到编译目录下    &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; build  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#设置编译参数          &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cmake -D WITH_TBB=ON -D BUILD_NEW_PYTHON_SUPPORT=ON -D WITH_V4L=ON -D INSTALL_C_EXAMPLES=ON -D INSTALL_PYTHON_EXAMPLES=ON -D BUILD_EXAMPLES=ON -D WITH_QT=ON -D WITH_OPENGL=ON -D WITH_VTK=ON -D CUDA_GENERATION=Auto ..&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;检查上面的命令不会产生错误，并且特别是报告FFMPEG为YES。如果不是这种情况下，你将无法读取或写入视频。检查使用Java，Python，TBB，OpenGL的，V4L，OpenGL和Qt的都正确检测。&lt;br&gt;&lt;img src=&quot;/images/OpenCV/cmake1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;确保你向上滚动，并检查了将要构建的模块是这些：core flann imgproc highgui features2d calib3d ml video legacy objdetect photo gpu ocl nonfree contrib java python stitching superres ts videostab viz.&lt;br&gt;&lt;img src=&quot;/images/OpenCV/cmake2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;好，万事俱备，开始编译OpenCV-2.4.9。&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;make&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo make install&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果这里报如下错误的话&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Building NVCC (Device) &lt;span class=&quot;selector-tag&quot;&gt;object&lt;/span&gt; modules/core/CMakeFiles/cuda_compile.dir/src/cuda/Debug/cuda_compile_generated_gpu_mat&lt;span class=&quot;selector-class&quot;&gt;.cu&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.obj&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nvcc fatal : Unsupported gpu architecture &lt;span class=&quot;string&quot;&gt;&#39;compute_11&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt; 你需要用这个参数 &lt;strong&gt;CUDA_GENERATION&lt;/strong&gt; 来指定GPU显卡的架构，例如你的显卡是 Titan显卡（包括GTX 900系列）的架构是比较新的Maxwell架构，应该在cmake 参数命令中增加 ‘-D CUDA_GENERATION=Kepler’ 虽然Kepler架构是Maxwell架构的上一代，但是这样配置也可以成功。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意:&lt;/strong&gt;中途可能会报错&lt;br&gt;&lt;figure class=&quot;highlight vbnet&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;opencv&lt;span class=&quot;number&quot;&gt;-2.4&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.9&lt;/span&gt;/modules/gpu/src/nvidia/core/NCVPixelOperations.hpp(&lt;span class=&quot;number&quot;&gt;51&lt;/span&gt;): &lt;span class=&quot;keyword&quot;&gt;error&lt;/span&gt;: a storage &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; allowed &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; an &lt;span class=&quot;keyword&quot;&gt;explicit&lt;/span&gt; specialization&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;解决方法在此：&lt;a href=&quot;http://code.opencv.org/issues/3814&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://code.opencv.org/issues/3814&lt;/a&gt;  下载 &lt;a href=&quot;http://code.opencv.org/projects/opencv/repository/revisions/feb74b125d7923c0bc11054b66863e1e9f753141/raw/modules/gpu/src/nvidia/core/NCVPixelOperations.hpp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NCVPixelOperations.hpp&lt;/a&gt; 替换掉opencv2.4.9内’/modules/gpu/src/nvidia/core/‘下重名文件， 重新build。&lt;/p&gt;
&lt;h2 id=&quot;配置环境变量&quot;&gt;&lt;a href=&quot;#配置环境变量&quot; class=&quot;headerlink&quot; title=&quot;配置环境变量&quot;&gt;&lt;/a&gt;配置环境变量&lt;/h2&gt;&lt;p&gt;配置OpenCV库引用(类似于windows环境变量)&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo gedit /etc/ld.so.conf.d/opencv.conf&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;添加下面一行在文件末尾（它可能是一个空文件，这是确定的），然后将其保存：&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/lib&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/OpenCV/opencv-conf.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;输入下面的命令使其生效&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo ldconfig&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;现在打开另一个文件&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo gedit /etc/bash.bashrc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;添加这两行的文件的末尾并保存：&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;PKG_CONFIG_PATH=&lt;span class=&quot;variable&quot;&gt;$PKG_CONFIG_PATH&lt;/span&gt;:/usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;/lib/pkgconfig&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; PKG_CONFIG_PATH&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/OpenCV/bashrc.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意:&lt;/strong&gt; 关闭控制台，打开一个新的终端，或者重新启动计算机或注销，然后重新登录。不然OpenCV将无法正常工作。现在你有OpenCV的2.4.9安装在您的计算机三维可视化，Python和Java的，TBB，OpenGL的，视频和Qt支持。&lt;/p&gt;
&lt;h2 id=&quot;运行Demo&quot;&gt;&lt;a href=&quot;#运行Demo&quot; class=&quot;headerlink&quot; title=&quot;运行Demo&quot;&gt;&lt;/a&gt;运行Demo&lt;/h2&gt;&lt;p&gt;现在，让我们来编译运行OpenCV包中的一些例子，输入下面的命令&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; ~/opencv-2.4.9/samples/c&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;chmod +x build_all.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;./build_all.sh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这些例子使用了旧版本的 C 接口，&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;./facedetect --cascade=&lt;span class=&quot;string&quot;&gt;&quot;/usr/local/share/OpenCV/haarcascades/haarcascade_frontalface_alt.xml&quot;&lt;/span&gt; --nested-cascade=&lt;span class=&quot;string&quot;&gt;&quot;/usr/local/share/OpenCV/haarcascades/haarcascade_eye.xml&quot;&lt;/span&gt; --scale=1.5 lena.jpg&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/images/OpenCV/demo1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;鼠标滚轮滑动，可以直接看到图像像素对应的RGB数值。&lt;br&gt;&lt;img src=&quot;/images/OpenCV/QT-tools.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;再运行一个例子，输入下面的指令&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;~/opencv-2.4.9/build/bin/cpp-example-calibration_artific&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/OpenCV/demo2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;参考&quot;&gt;&lt;a href=&quot;#参考&quot; class=&quot;headerlink&quot; title=&quot;参考&quot;&gt;&lt;/a&gt;参考&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.samontab.com/web/2014/06/installing-opencv-2-4-9-in-ubuntu-14-04-lts/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Installing OpenCV 2.4.9 in Ubuntu 14.04 LTS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/xzd1575/p/5555523.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ubuntu下多个版本OpenCV管理&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;OpenCV的全称是Open Source Computer Vision Library，是一个跨平台的计算机视觉库。OpenCV是由英特尔公司发起并参与开发，以BSD许可证授权发行，可以在商业和研究领域中免费使用。OpenCV可用于开发实时的图像处理、计算机视觉以及模式
    
    </summary>
    
    
      <category term="OpenCV" scheme="http://blog.mindcont.com/tags/OpenCV/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 14.04 安装 Nvidia 私有驱动并进行双显卡切换</title>
    <link href="http://blog.mindcont.com/2016/07/15/ubuntu1404-nvidia-graphics-driver/"/>
    <id>http://blog.mindcont.com/2016/07/15/ubuntu1404-nvidia-graphics-driver/</id>
    <published>2016-07-15T07:55:36.000Z</published>
    <updated>2016-10-27T01:38:04.595Z</updated>
    
    <content type="html">&lt;p&gt;笔者最近弄Caffe不小心有把nvidia显卡驱动弄坏了，现在将ubuntu14.04 双显卡切换记录如下。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;—&lt;/th&gt;
&lt;th&gt;—&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;硬件&lt;/td&gt;
&lt;td&gt;GeForce GT640M&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;系统版本&lt;/td&gt;
&lt;td&gt;3.13.0-37-generic #64-Ubuntu x86_64 GNU/Linux&lt;/td&gt;
&lt;td&gt;输入&lt;code&gt;uname -a&lt;/code&gt;查看&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;首先 彻底卸载原有Nvidia驱动&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get purge nvidia*&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;清理无关项&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get autoremove&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;使用如下命令添加Graphic Drivers PPA&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo add-apt-repository ppa:graphics-drivers/ppa&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo add-apt-repository ppa:nilarimogard/webupd8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;安装特定版本的nvidia 专有驱动和设置工具&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install nvidia-340 nvidia-340-uvm nvidia-settings nvidia-prime prime-indicator&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;重启,同windows一样，驱动需要重启后生效。&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo reboot&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/ubuntu/nvidia_success.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意!!!&lt;/strong&gt;&lt;br&gt;如果在安装过程中遇到下面的问题&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; nvidia&lt;span class=&quot;number&quot;&gt;-340&lt;/span&gt; nvidia-&lt;span class=&quot;keyword&quot;&gt;settings&lt;/span&gt; nvidia-prime&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;正在读取软件包列表... 完成&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;正在分析软件包的依赖关系树       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;正在读取状态信息... 完成       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nvidia-&lt;span class=&quot;keyword&quot;&gt;settings&lt;/span&gt; 已经是最新的版本了。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;有一些软件包无法被安装。如果您用的是 unstable 发行版，这也许是&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;因为系统无法达到您要求的状态造成的。该版本中可能会有一些您需要的软件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;包尚未被创建或是它们已被从新到(Incoming)目录移出。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;下列信息可能会对解决问题有所帮助：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;下列软件包有未满足的依赖关系：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; nvidia&lt;span class=&quot;number&quot;&gt;-331&lt;/span&gt; : 依赖: lib32gcc1 但是它将不会被安装&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;E: 无法修正错误，因为您要求某些软件包保持现状，就是它们破坏了软件包间的依赖关系&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;笔者认为之所以出现这个问题,是由于”源”(包含各种软件和环境依赖包)随着ubuntu内核和版本的更新导致低版本的ubuntu所需要的软件和环境与当前它所提供的各个软件包之间相互冲突.解决办法就是寻找一个满足你机器当前内核和软件环境的源来安装 nvidia 专有驱动.请按照以下两个方向寻找解决办法,我建议&lt;strong&gt;升级到最新ubuntu的发行版本&lt;/strong&gt;进行安装,不过最新的ubuntu 中附带的软件如 gcc 可能版本过高,需要降级使用.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;先尝试修改不同的源进行更新安装(软件源设置，在更新选项卡选中推荐更新)&lt;/li&gt;
&lt;li&gt;或者升级到ubuntu 16.04 LTS&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;笔者最近弄Caffe不小心有把nvidia显卡驱动弄坏了，现在将ubuntu14.04 双显卡切换记录如下。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;—&lt;/th&gt;
&lt;th&gt;—&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;

    
    </summary>
    
      <category term="Linux" scheme="http://blog.mindcont.com/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Houston, we have a problem</title>
    <link href="http://blog.mindcont.com/2016/06/29/website-under-attack/"/>
    <id>http://blog.mindcont.com/2016/06/29/website-under-attack/</id>
    <published>2016-06-29T08:13:22.000Z</published>
    <updated>2016-06-29T08:54:18.380Z</updated>
    
    <content type="html">&lt;p&gt;今天登录网站服务器，本来想看看硬盘存储空间被日志占用的还剩多少，谁知打开nginx的access.log 文件，发现15万9千条来自俄罗斯 ‘195.2.252.223’’195.2.252.67’’195.88.208.232’这3个IP地址利用 xmlrpc.php文件 POST数据，持续时间 从2016年6月6号到7号，初步确定想利用WordPress 的xmlrpc.php 漏洞 POST 用户名和密码来暴力破解。&lt;/p&gt;
&lt;p&gt;部分记录如下:&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.67 - - [06/Jun/2016:03:40:53 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:53 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:53 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.88.208.232 - - [06/Jun/2016:03:40:53 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.67 - - [06/Jun/2016:03:40:54 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:54 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:55 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.67 - - [06/Jun/2016:03:40:56 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.67 - - [06/Jun/2016:03:40:56 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:57 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:57 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.67 - - [06/Jun/2016:03:40:58 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:58 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:58 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:58 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:59 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.88.208.232 - - [06/Jun/2016:03:40:59 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:40:59 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.67 - - [06/Jun/2016:03:41:00 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.67 - - [06/Jun/2016:03:41:00 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:41:00 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:41:00 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.67 - - [06/Jun/2016:03:41:01 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.223 - - [06/Jun/2016:03:41:01 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.67 - - [06/Jun/2016:03:41:03 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;195.2.252.67 - - [06/Jun/2016:03:41:03 -0400] &lt;span class=&quot;string&quot;&gt;&quot;POST /xmlrpc.php HTTP/1.0&quot;&lt;/span&gt; 499 0 &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/4.0 (compatible: MSIE 7.0; Windows NT 6.0)&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;解决办法&quot;&gt;&lt;a href=&quot;#解决办法&quot; class=&quot;headerlink&quot; title=&quot;解决办法&quot;&gt;&lt;/a&gt;解决办法&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;删除xmlrpc.php或重命名为xmlrpc.php.backup&lt;/li&gt;
&lt;li&gt;设置其权限为不可访问。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;p&gt;暴力猜解攻击是我们至今为止在互联网上看到的最古老而常见的攻击之一。黑客可以通过SSH和FTP协议，暴力猜解攻击你的WEB服务器。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;传统暴力猜解攻击&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;  这些攻击一般都不是很复杂，而且理论上是比较容易遏制的。但是，它们仍然拥有存在的价值，因为人们并不习惯采用强密码，而且不是每个人都拥有良好的登录习惯。&lt;/p&gt;
&lt;p&gt;  然而可惜的是，暴力猜解攻击有个致命的弱点。通常来说，如果黑客需要尝试500个不同的密码，他将尝试发送500次不同的请求到服务器上。通过限制登录次数，可以在一定层面上遏制暴力猜解攻击。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;放大型暴力猜解攻击&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;  黑客可以减少攻击次数么，他们能否一次请求，就能进行多次登陆尝试？请想象一下，如果你一次攻击请求能尝试500个密码，那么登录次数限制神马的，不都是战斗力5的渣渣了？&lt;/p&gt;
&lt;p&gt;  这种手法有点类似于咱们以前的DDoS放大攻击，一个核心指挥服务器，能够利用DNS或者NTP协议回应进行放大攻击，增加原本攻击强度50-100倍。无论是任何类型的放大型攻击，都将让黑客倍加受益。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;通过Wordpress XML-RPC进行暴力猜解放大攻击&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;  XML-RPC的隐藏特性之一，则是你可以使用system.multicall方法，在单个请求中进行多次尝试，这是非常有用的。它允许应用程序通过一条HTTP请求，执行多个命令。&lt;/p&gt;
&lt;p&gt;  &lt;strong&gt;XML-RPC是一个通过HTTP方法进行远程调用的，非常简单易用的玩意儿。它支持Perl、Java、Python、C、C++、PHP，以及许多其他编程语言。&lt;/strong&gt;Wordpress和Drupal，以及许多其他内容管理系统都支持XML-RPC。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当然，&lt;strong&gt;任何好的技术都是双刃剑。&lt;/strong&gt;在XML-RPC技术被普通程序开发者所喜爱的同时，也成了黑客手中的利器。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;背景来源：SU、TA，编译/dawner，转载请注明来自FreeBuf黑客与极客（FreeBuf.COM）&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;今天登录网站服务器，本来想看看硬盘存储空间被日志占用的还剩多少，谁知打开nginx的access.log 文件，发现15万9千条来自俄罗斯 ‘195.2.252.223’’195.2.252.67’’195.88.208.232’这3个IP地址利用 xmlrpc.php文件
    
    </summary>
    
      <category term="随笔日记" scheme="http://blog.mindcont.com/categories/%E9%9A%8F%E7%AC%94%E6%97%A5%E8%AE%B0/"/>
    
    
  </entry>
  
</feed>
