<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>项脊轩</title>
  
  <subtitle>项脊轩，旧南阁子也</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.mindcont.com/"/>
  <updated>2018-01-09T02:36:39.658Z</updated>
  <id>http://blog.mindcont.com/</id>
  
  <author>
    <name>张培元</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>玩转树莓派第一弹：HomeBridge控制LED灯</title>
    <link href="http://blog.mindcont.com/2018/01/03/raspberrypi-homebridge/"/>
    <id>http://blog.mindcont.com/2018/01/03/raspberrypi-homebridge/</id>
    <published>2018-01-03T12:06:32.000Z</published>
    <updated>2018-01-09T02:36:39.658Z</updated>
    
    <content type="html"><![CDATA[<!-- <img src="//static.mindcont.com/blog/images/iot/homebridge_mi.png?imageMogr2/thumbnail/!70p"> --><p><img src="//static.mindcont.com/blog/images/iot/homebridge_mi.png?imageMogr2/thumbnail/500x"></p><a id="more"></a><!-- 本文的功能主旨 --><p>作为玩转树莓派的第一弹，这里我们将借助iPhone 和 树莓派3b 实现通过Siri语音控制LED灯开关的功能。如上图控制逻辑类似，这里我们使用<code>HomeBridge</code>作为桥梁，将Siri 的语音指令发送给树莓派，然后一个插件控制gpio 27引脚上LED灯的亮灭。</p><p>Demo</p><video src="http://static.mindcont.com/blog/videos/raspberrypi-homebridge_led.MP4" controls="controls" style="max-width: 100%; display: block; margin-left: auto; margin-right: auto;"><br>your browser does not support the video tag<br></video><p>Let’s begin ！！！</p><h2 id="硬件层"><a href="#硬件层" class="headerlink" title="硬件层"></a>硬件层</h2><h3 id="本期物料清单"><a href="#本期物料清单" class="headerlink" title="本期物料清单"></a>本期物料清单</h3><p>1、树莓派3b（默认ssh 打开）    一个<br>2、iPhone (ios 10以上版本)    一个<br>3、LED二极管                  一个<br>4、杜邦线                     两根<br>5、电阻                       若干<br>5、笔记本（mac/win）          一台</p><p>其他，诸如树莓派电源（5v 2.5A），HDMI显示器连接线，读卡器等树莓派必备配件应该有。如果没有HDMI显示器连接线，可以参考<a href="http://blog.mindcont.com/2016/05/12/win10-ubuntu-remote-desktop/">win10连结ubuntu 远程桌面</a>进行远程查看。</p><h3 id="树莓派3b"><a href="#树莓派3b" class="headerlink" title="树莓派3b"></a>树莓派3b</h3><p><img src="//static.mindcont.com/blog/images/iot/raspberrypi_3b.jpg" width="384px"></p><p>规格参数，</p><p><strong>SOC</strong>: Broadcom BCM2837芯片<br><strong>CPU</strong>: 四核Cortex-A53@1.2GHz，ARMv8架构，32KB一级缓存 512KB二级缓存<br><strong>GPU</strong>: 双核VideoCore IV GPU@400MHz，3D core@300MHz，OpenGL ES 2.0，1080p 60fps h.264/MPEG-4 AVC<br><strong>工作温度范围</strong>: SOC-40~85°C，LAN9514(0~70°C)<br><strong>内存</strong>：1GB LPDDR2（900 MHz）<br><strong>SMSC LAN9514</strong>：4个USB2.0 和10/100M Ethernet共享<br><strong>BCM43438</strong>：WiFi（802.11 b/g/n 2.4GHz）和蓝牙4.1（BLE）,支持无线电<br><strong>GPIO</strong>: 40-pin<br><strong>视频接口</strong>：HDMI1.4<br><strong>接口</strong>：DSI显示屏接口（15-pin）、CSI 2 摄像头接口（15-pin）、3.5mm复合视频输出口、microSD接口<br><strong>供电</strong>：支持5V 2.5A</p><p>GPIO引脚图，<br><img src="//static.mindcont.com/blog/images/iot/raspberrypi_3b_gpio.png" width="512px"></p><p>管脚驱动电流， 详细参见<a href="https://www.raspberrypi.org/help/faqs/#POWER" target="_blank" rel="noopener">官方说明</a>。</p><pre><table>    <thead>        <tr>            <th style="text-align:left"></th>            <th style="text-align:center"></th>            <th style="text-align:center">Pi1 (B+)</th>            <th style="text-align:center">Pi2 B</th>            <th style="text-align:center">Pi3 B (amps)</th>            <th style="text-align:center">Zero (amps)</th>        </tr>    </thead>    <tbody>        <tr>            <td style="text-align:left">Boot</td>            <td style="text-align:center">Max</td>            <td style="text-align:center">0.26</td>            <td style="text-align:center">0.40</td>            <td style="text-align:center">0.75</td>            <td style="text-align:center">0.20</td>        </tr>        <tr>            <td style="text-align:left"></td>            <td style="text-align:center">Avg</td>            <td style="text-align:center">0.22</td>            <td style="text-align:center">0.22</td>            <td style="text-align:center">0.35</td>            <td style="text-align:center">0.15</td>        </tr>        <tr>            <td style="text-align:left">Idle</td>            <td style="text-align:center">Avg</td>            <td style="text-align:center">0.20</td>            <td style="text-align:center">0.22</td>            <td style="text-align:center">0.30</td>            <td style="text-align:center">0.10</td>        </tr>        <tr>            <td style="text-align:left">Video playback (H.264)</td>            <td style="text-align:center">Max</td>            <td style="text-align:center">0.30</td>            <td style="text-align:center">0.36</td>            <td style="text-align:center">0.55</td>            <td style="text-align:center">0.23</td>        </tr>        <tr>            <td style="text-align:left"></td>            <td style="text-align:center">Avg</td>            <td style="text-align:center">0.22</td>            <td style="text-align:center">0.28</td>            <td style="text-align:center">0.33</td>            <td style="text-align:center">0.16</td>        </tr>        <tr>            <td style="text-align:left">Stress</td>            <td style="text-align:center">Max</td>            <td style="text-align:center">0.35</td>            <td style="text-align:center">0.82</td>            <td style="text-align:center">1.34</td>            <td style="text-align:center">0.35</td>        </tr>        <tr>            <td style="text-align:left"></td>            <td style="text-align:center">Avg</td>            <td style="text-align:center">0.32</td>            <td style="text-align:center">0.75</td>            <td style="text-align:center">0.85</td>            <td style="text-align:center">0.23</td>        </tr>    </tbody></table></pre><h2 id="软件层"><a href="#软件层" class="headerlink" title="软件层"></a>软件层</h2><p>这一部分重点参考了 <a href="https://paine1690.github.io/2017/05/25/raspi/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%89%E8%A3%85homekit/" target="_blank" rel="noopener">树莓派安装homekit</a>。</p><h3 id="依赖包"><a href="#依赖包" class="headerlink" title="依赖包"></a>依赖包</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">## 安装nodejs</span><br><span class="line"></span><br><span class="line">curl -sL https:<span class="comment">//deb.nodesource.com/setup_4.x | sudo -E bash -</span></span><br><span class="line">sudo apt-get install -y nodejs</span><br><span class="line"></span><br><span class="line">## 安装libavahi-compat-libdnssd-dev</span><br><span class="line"></span><br><span class="line">sudo apt-get -y install libavahi-compat-libdnssd-dev</span><br></pre></td></tr></table></figure><p>如果你的树莓派是最新的系统，在安装<code>libavahi-compat-libdnssd-dev</code>的时候，应该会报一个如下依赖错误：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">libavahi-compat-libdnssd-dev : Depends: libavahi-client-dev but it is not </span><br><span class="line">going to be installed</span><br><span class="line"></span><br><span class="line">E: Unable to correct problems, you have held broken packages.</span><br></pre></td></tr></table></figure><p>这是因为libdbus的版本过高而导致的依赖冲突，使用aptitude 解决依赖问题。更多参考<a href="https://www.douban.com/note/619209826/" target="_blank" rel="noopener">邻家的の柠檬叔</a></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 如果安装过 aptitude，则跳过，直接执行第二条指令</span></span><br><span class="line">sudo apt-get install aptitude</span><br><span class="line">sudo aptitude install libavahi-compat-libdnssd-dev</span><br></pre></td></tr></table></figure><p>而<code>aptitude</code>会给出一系列的建议，仔细观察，然后根据你的情况选择是（y）或者否（n）。我这里第二次才给出正确的建议。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">The following NEW packages will be installed:</span><br><span class="line">  libavahi-client-dev&#123;a&#125; libavahi-common-dev&#123;a&#125; libavahi-compat-libdnssd-dev libavahi-compat-libdnssd1&#123;a&#125; libdbus-1-dev&#123;ab&#125;</span><br><span class="line">0 packages upgraded, 5 newly installed, 0 to remove and 1 not upgraded.</span><br><span class="line">Need to get 401 kB of archives. After unpacking 1,160 kB will be used.</span><br><span class="line">The following packages have unmet dependencies:</span><br><span class="line"> libdbus-1-dev : Depends: libdbus-1-3 (= 1.8.20-0+deb8u1) but 1.8.22-0+deb8u1 is installed.</span><br><span class="line">The following actions will resolve these dependencies:</span><br><span class="line">     Keep the following packages at their current version:</span><br><span class="line">1)     libavahi-client-dev [Not Installed]</span><br><span class="line">2)     libavahi-compat-libdnssd-dev [Not Installed]</span><br><span class="line">3)     libdbus-1-dev [Not Installed]</span><br><span class="line">Accept this solution? [Y/n/q/?] n</span><br><span class="line">The following actions will resolve these dependencies:</span><br><span class="line">     Downgrade the following packages:</span><br><span class="line">1)     libdbus-1-3 [1.8.22-0+deb8u1 (now) -&gt; 1.8.20-0+deb8u1 (stable)]</span><br><span class="line">Accept this solution? [Y/n/q/?] Y</span><br><span class="line">The following packages will be DOWNGRADED:</span><br><span class="line">  libdbus-1-3</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  libavahi-client-dev&#123;a&#125; libavahi-common-dev&#123;a&#125; libavahi-compat-libdnssd-dev libavahi-compat-libdnssd1&#123;a&#125; libdbus-1-dev&#123;a&#125;</span><br><span class="line">0 packages upgraded, 5 newly installed, 1 downgraded, 0 to remove and 1 not upgraded.</span><br><span class="line">Need to get 550 kB of archives. After unpacking 1,159 kB will be used.</span><br><span class="line">Do you want to continue? [Y/n/?] Y</span><br><span class="line">Get: 1 http://mirrors.sohu.com/raspbian/raspbian/ jessie/main libavahi-compat-libdnssd1 armhf 0.6.31-5 [42.9 kB]</span><br><span class="line">Get: 2 http://mirrors.sohu.com/raspbian/raspbian/ jessie/main libdbus-1-3 armhf 1.8.20-0+deb8u1 [149 kB]</span><br></pre></td></tr></table></figure><h3 id="npm镜像（可选）"><a href="#npm镜像（可选）" class="headerlink" title="npm镜像（可选）"></a>npm镜像（可选）</h3><p>npm全称Node Package Manager，是node.js的模块依赖管理工具。<br>因为<code>homebridge</code>需要通过npm安装，但是由于npm的源在国外，所以国内用户使用起来各种不方便。你这里可以选择是否对npm 设置国内镜像。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.临时使用</span><br><span class="line">npm --registry https:<span class="comment">//registry.npm.taobao.org install express</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.永久使用</span><br><span class="line">npm config set registry https:<span class="comment">//registry.npm.taobao.org</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置后可通过下面方式来验证是否成功</span></span><br><span class="line">npm config get registry</span><br><span class="line"><span class="comment">// 或</span></span><br><span class="line">npm info express</span><br></pre></td></tr></table></figure><h3 id="HomeBridge"><a href="#HomeBridge" class="headerlink" title="HomeBridge"></a>HomeBridge</h3><p><a href="https://github.com/nfarina/homebridge" target="_blank" rel="noopener">Homebridge</a>是一个轻量级的NodeJS服务器，您可以在您的家庭网络上运行，模拟iOS HomeKit API。它支持插件，它是社区贡献的模块，提供了从HomeKit到“智能家居”设备制造商提供的各种第三方API的基本桥梁。</p><p>总的来讲，就是通过<code>Homebridge</code>，使得原先没有认证的智能家居模块可以使用 苹果“家庭”应用或Siri 进行语音控制。</p><p>安装 homebridge：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm <span class="keyword">install</span> -g <span class="comment">--unsafe-perm homebridge</span></span><br></pre></td></tr></table></figure></p><p>众多的社区插件，可以通过<a href="https://www.npmjs.com/search?q=homebridge-plugin" target="_blank" rel="noopener">探索其他插件</a>。<br>本次我们将利用<code>wiringpi</code>树莓派GPIO的库 和 <code>homebridge-gpio-wpi2</code>插件来实现使用siri控制LED灯的亮灭。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install wiringpi</span><br><span class="line">sudo npm install -g homebridge-gpio-wpi2</span><br></pre></td></tr></table></figure><h2 id="联调"><a href="#联调" class="headerlink" title="联调"></a>联调</h2><h3 id="硬件连接"><a href="#硬件连接" class="headerlink" title="硬件连接"></a>硬件连接</h3><p>在启动homebridge 之前，首先将LED 发光<code>二极管正极</code>，通过杜邦线连接在 树莓派 gpio 口的<code>27</code> 管脚，也就是 靠近芯片那一侧，从上往下数第7个管脚。<code>二极管负极</code>，通过另一根杜邦线连接在 树莓派gpio的ground 管脚，我这里选择是第<code>39</code>管脚。</p><p><strong>注意</strong>，插杜邦线要注意正负极，配合管脚图谨慎操作，避免树莓派gpio口被烧坏。请根据自己二极管可承受电流，选择性使用电阻来限流。</p><h3 id="软件配置"><a href="#软件配置" class="headerlink" title="软件配置"></a>软件配置</h3><p>在普通用户pi家目录 新建<code>/home/pi/.homebridge/config.json</code>文件，复制以下内容到<code>config.json</code> ，保存。<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">        <span class="attr">"bridge"</span>: &#123;</span><br><span class="line">                <span class="attr">"name"</span>: <span class="string">"Homebridge"</span>,</span><br><span class="line">                <span class="attr">"username"</span>: <span class="string">"CC:22:3D:E3:CE:30"</span>,</span><br><span class="line">                <span class="attr">"port"</span>: <span class="number">51826</span>,</span><br><span class="line">                <span class="attr">"pin"</span>: <span class="string">"133-45-678"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"platforms"</span>: [&#123;</span><br><span class="line">                 <span class="attr">"platform"</span> : <span class="string">"WiringPiPlatform"</span>,</span><br><span class="line">                <span class="attr">"name"</span> : <span class="string">"Pi GPIO (WiringPi)"</span>,</span><br><span class="line">                <span class="attr">"overrideCache"</span> : <span class="string">"true"</span>,</span><br><span class="line">                <span class="attr">"autoExport"</span> : <span class="string">"true"</span>,</span><br><span class="line">                <span class="attr">"gpiopins"</span> : [&#123;</span><br><span class="line">                        <span class="attr">"name"</span> : <span class="string">"灯"</span>,</span><br><span class="line">                        <span class="attr">"pin"</span>  : <span class="number">27</span>,</span><br><span class="line">                        <span class="attr">"enabled"</span> : <span class="string">"true"</span>,</span><br><span class="line">                        <span class="attr">"mode"</span> : <span class="string">"out"</span>,</span><br><span class="line">                        <span class="attr">"pull"</span> : <span class="string">"down"</span>,</span><br><span class="line">                        <span class="attr">"inverted"</span> : <span class="string">"false"</span>,</span><br><span class="line">                        <span class="attr">"duration"</span> : <span class="number">0</span>,</span><br><span class="line">                        <span class="attr">"polling"</span> : <span class="string">"true"</span></span><br><span class="line">                        &#125;,&#123;</span><br><span class="line">                        <span class="attr">"name"</span> : <span class="string">"门"</span>,</span><br><span class="line">                        <span class="attr">"pin"</span>  : <span class="number">22</span>,</span><br><span class="line">                        <span class="attr">"enabled"</span> : <span class="string">"true"</span>,</span><br><span class="line">                        <span class="attr">"mode"</span> : <span class="string">"in"</span>,</span><br><span class="line">                        <span class="attr">"pull"</span> : <span class="string">"off"</span>,</span><br><span class="line">                        <span class="attr">"inverted"</span> : <span class="string">"false"</span>,</span><br><span class="line">                        <span class="attr">"duration"</span> : <span class="number">0</span></span><br><span class="line">                &#125;]</span><br><span class="line">        &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>在命令行输入<code>homebridge</code>启动,如下图说明启动成功</p><p><img src="//static.mindcont.com/blog/images/iot/homebridge.png?imageMogr2/thumbnail/400x"></p><p>如果你的iPhone 和树莓派在同一局域网下， 打开<code>家庭</code>应用，会自动显示可配对的设备<code>homebridge</code>,通过扫描或输入 类似<code>133-45-678</code>即可添加成功。</p><p><img src="//static.mindcont.com/blog/images/iot/ios_home.JPG?imageMogr2/thumbnail/250x"></p><p>赶快试试开关吧，这时你也可以通过Siri 进行控制了呢。输入日志如下<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">6-80f9-017adae59b93</span><br><span class="line">[2018-1-4 15:31:11] [Pi GPIO (WiringPi)] Turning off pin #27</span><br><span class="line">[2018-1-4 15:31:11] [Pi GPIO (WiringPi)] 门 Configure GPIO Pin 57b3e135-6285-404b-9c47-a2f46ec4426b</span><br><span class="line">[2018-1-4 15:31:11] [Pi GPIO (WiringPi)] Setting up interrupt callback</span><br><span class="line">Setup Payload:</span><br><span class="line">X-HM://0023OVLOU45DL</span><br><span class="line">Scan this code with your HomeKit app on your iOS device to pair with Homebridge:</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">Or enter this code with your HomeKit app on your iOS device to pair with Homebridge:</span><br><span class="line">                       </span><br><span class="line">    ┌────────────┐     </span><br><span class="line">    │ 133-45-678 │     </span><br><span class="line">    └────────────┘     </span><br><span class="line">                       </span><br><span class="line">[2018-1-4 15:31:11] [Pi GPIO (WiringPi)] Loading cached GPIO pins complete</span><br><span class="line">[2018-1-4 15:31:11] Homebridge is running on port 51826.</span><br><span class="line">[2018-1-4 15:32:35] [Pi GPIO (WiringPi)] Turning on pin #27</span><br><span class="line">[2018-1-4 15:32:36] [Pi GPIO (WiringPi)] Turning off pin #27</span><br></pre></td></tr></table></figure></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li>[1] <a href="http://riny.net/2014/cnpm/" target="_blank" rel="noopener">国内优秀npm镜像推荐及使用</a></li><li>[2] <a href="https://paine1690.github.io/2017/05/25/raspi/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%89%E8%A3%85homekit/" target="_blank" rel="noopener">树莓派安装homekit</a></li><li>[3] <a href="https://www.jianshu.com/p/ec79b2711bd5" target="_blank" rel="noopener">树莓派进阶（一）：借助树莓派与 HomeBridge，从米家到 HomeKit</a></li><li>[4] <a href="https://www.npmjs.com/search?q=homebridge-plugin" target="_blank" rel="noopener">探索其他插件</a></li><li>[5] <a href="https://www.jianshu.com/p/a255c22b96fa" target="_blank" rel="noopener">树莓派3B规格+GPIO引脚图+负载电流参考</a></li><li>[6] <a href="https://blog.mindcont.com/2016/05/05/raspberry-pi-excellent-project/">有趣的树莓派项目</a></li><li>[7] <a href="http://shumeipai.nxez.com/2017/09/04/homekit-and-siri-voice-control-home-appliances.html" target="_blank" rel="noopener">家具变智能：用HomeKit+Siri声控家里电器</a></li><li>[8] <a href="http://kittenyang.com/homeassistant_practice_02/" target="_blank" rel="noopener">利用 HomeAssistant +树莓派+ Amazon Echo 的智能家居实践（二）—— 初识 HomeAssistant</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;!-- &lt;img src=&quot;//static.mindcont.com/blog/images/iot/homebridge_mi.png?imageMogr2/thumbnail/!70p&quot;&gt; --&gt;
&lt;p&gt;&lt;img src=&quot;//static.mindcont.com/blog/images/iot/homebridge_mi.png?imageMogr2/thumbnail/500x&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="物联" scheme="http://blog.mindcont.com/categories/%E7%89%A9%E8%81%94/"/>
    
    
      <category term="树莓派" scheme="http://blog.mindcont.com/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
  </entry>
  
  <entry>
    <title>我的影评</title>
    <link href="http://blog.mindcont.com/2017/10/20/my-movie-review/"/>
    <id>http://blog.mindcont.com/2017/10/20/my-movie-review/</id>
    <published>2017-10-20T07:40:08.000Z</published>
    <updated>2017-12-07T00:58:17.978Z</updated>
    
    <content type="html"><![CDATA[<p>电影，以蒙太奇的手法，围绕一段故事，几位人物，剪辑变换间带领观众进入情节，随着主人公一起进入方片时间，偷得浮生半日闲。一段光影一段人生。随着观影数量的增加，思考和视角也越深，这里将几部观后感记录下来。<br><a id="more"></a></p><!-- ![](https://farm2.staticflickr.com/1485/26483308752_69ccab465f_z.jpg) --><p><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous"></p><script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script><h3 id="顺序不分先后"><a href="#顺序不分先后" class="headerlink" title="顺序不分先后"></a>顺序不分先后</h3><p>1、 《顽主》 1988年，葛优，张国立主演, <a href="https://movie.douban.com/subject/1307690/" target="_blank" rel="noopener">豆瓣评分:8.3</a></p><!-- <img src="https://img3.doubanio.com/view/movie_poster_cover/lpst/public/p2363497441.webp" width="135px" align="left"> --><!-- <div style="FONT-FAMILY: 楷体,楷体_GB2312, SimKai; TEXT-ALIGN="right">  <img src="https://img3.doubanio.com/view/movie_poster_cover/lpst/public/p2363497441.webp" width="135px" align="left">  <p >80年代太强悍：社会青年张嘴就是弗洛伊德尼采、扔一石头能砸中10个诗人、时装秀如意识形态大联欢；这么多年过去，社会的人际架构未变，一曲国产摇滚吼出的仍是心声，混混青年太可爱，能把叫兽玩死，“逻辑不对啊，你们应该痛苦”“可是我们不痛苦”，这种代沟和偏见至今无法消弭。</p></div> --><table style="FONT-FAMILY: 楷体,楷体_GB2312, SimKai; font-size=" 20px""=""><br>  <tbody><br>    <tr><br>      <td class="align-baseline"> <img src="https://img3.doubanio.com/view/movie_poster_cover/lpst/public/p2363497441.webp " ;=""></td><br>      <td class="align-middle">该片于1988年上映，反映了改革开放那个年代下，各色人物涌入北京所带来的那种文化上的冲击，人们的彷徨，青年人的挣扎以及众生的忙忙碌碌；北京满大街的公共汽车，骑自行车的人们，社会青年张嘴就是弗洛伊德尼采、扔一石头能砸中10个诗人、时装秀如意识形态大联欢；这么多年过去，社会的人际架构未变，一曲国产摇滚吼出的仍是心声，混混青年太可爱，能把叫兽玩死，  “逻辑不对啊，你们应该痛苦”“可是我们不痛苦”，这种代沟和偏见至今无法消弭。</td><br>      </tr><br>  </tbody><br></table><p>2、《牯岭街少年杀人事件》 1991，导演：杨德昌 主演：张震 <a href="https://movie.douban.com/subject/1292329/" target="_blank" rel="noopener">豆瓣评分：8.7</a></p><table style="FONT-FAMILY: 楷体,楷体_GB2312, SimKai; "><br>  <tbody><br>    <tr><br>      <td class="align-baseline"> <img src="https://img3.doubanio.com/view/movie_poster_cover/lpst/public/p848381236.webp" ;=""></td><br>      <td class="align-middle">民国三十八年前后，数百万的中国人随着国民政府退居台湾，绝大多数的这些人，只是为了一份安定的工作，为了下一代的一个安定成长环境。然而，在这下一代成长的过程里，却发现父母正生活在对前途的未知与惶恐中。这些少年，在这不安定的气氛里，往往以组织帮派来壮大自己幼小薄弱的生存意识。在那个特定的年代，从孩子到成人时代的一种过渡，面对成人世界的规则是否妥协与苟且，显而易见的是，多数人都选择了后者。</td><br>      </tr><br>  </tbody><br></table><p>3、《刀》又名断刀客 1995，导演：徐克 主演：赵文卓 <a href="https://movie.douban.com/subject/1401962/" target="_blank" rel="noopener">豆瓣评分：7.9</a></p><table style="FONT-FAMILY: 楷体,楷体_GB2312, SimKai; "><br>  <tbody><br>    <tr><br>      <td class="align-baseline"> <img src="http://img3.doubanio.com/view/photo/s_ratio_poster/public/p2165557623.webp" ;=""></td><br>      <td class="align-middle">多情剑客与无情剑。<br>出来混就别耍花样，不想做买卖，就别坐这张桌子。江湖上的买卖，你只能占得了一时的便宜，对方总会有一天拿回他失去的东西。他若拿不回，他的后人也会去拿回。</td><br>      </tr><br>  </tbody><br></table><p>More ….. ，未完待续</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;电影，以蒙太奇的手法，围绕一段故事，几位人物，剪辑变换间带领观众进入情节，随着主人公一起进入方片时间，偷得浮生半日闲。一段光影一段人生。随着观影数量的增加，思考和视角也越深，这里将几部观后感记录下来。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>求职笔记</title>
    <link href="http://blog.mindcont.com/2017/09/09/interview-diary/"/>
    <id>http://blog.mindcont.com/2017/09/09/interview-diary/</id>
    <published>2017-09-09T05:13:48.000Z</published>
    <updated>2018-01-09T02:08:14.075Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/resources/shawshank.jpg" alt=""></p><!-- <p style="font-size:18px"><span style="FONT-FAMILY: 楷体,楷体_GB2312, SimKai"> 每个人的大学都离不开求职，像肖申克的救赎一样，涤尽罪恶 在彼岸重生<br> 从学生时代进入工作和生活，妥协和屈服，迷茫和怅惘...<br> 这里将我在互联网企业求职过程和心得记录下来<br> 它将持续更新，直到我获得第一份正式工作为止</span></p> --><p>每个人的大学都离不开求职，像肖申克的救赎一样，涤尽罪恶 在彼岸重生<br> 从学生时代进入工作和生活，<br>妥协和屈服，迷茫和怅惘…<br> 这里将我在互联网企业求职过程和心得记录下来<br> 它将持续更新，直到我获得第一份正式工作为止</p><h2 id="认识自己"><a href="#认识自己" class="headerlink" title="认识自己"></a>认识自己</h2><p> 认识自己（性格，技术/管理/销售…），审视自己，遵循内心，自己值什么价，职业规划(前途，也就是未来生活和打算)</p><p> 找准自己的优势和弱势，找到自己熟悉的那个城市的生活方式，适合自己的level，对你工作、生活有很大的帮助。</p><p><a href="https://www.zhihu.com/question/20221715" target="_blank" rel="noopener">如何高效地找工作？</a><br><a href="https://www.zhihu.com/question/21383951" target="_blank" rel="noopener">哪个求职网站（app）最靠谱？</a></p><p><strong>Q</strong>:互联网企业有哪些岗位？<br><strong>A</strong>:产品，前端，后端，运营，运维，销售</p><h2 id="面试准备"><a href="#面试准备" class="headerlink" title="面试准备"></a>面试准备</h2><p> 简历（一页，抓重点，扬长避短）<a href="http://office.mmais.com.cn/List.shtml?cat=WORD&amp;tag=13" target="_blank" rel="noopener">模板</a></p><p> 前端（html/css/js/框架/作品）</p><p> 算法，数据结构，面试题 <a href="https://www.nowcoder.com/" target="_blank" rel="noopener">牛客网刷题</a></p><ul><li>排序 快速排序，冒泡排序，<a href="http://bubkoo.com/2014/01/14/sort-algorithm/heap-sort/" target="_blank" rel="noopener">堆排序</a></li><li>链表 散列表</li><li>前序遍历，中序遍历，后续遍历 <a href="http://blog.csdn.net/antineutrino/article/details/6763722" target="_blank" rel="noopener">后缀表达式</a></li><li>c/c++ 多线程，java,ssh ,tomcat,nginx,github</li><li>linux下编程，gcc,g++,cmake</li></ul><p>企业文化(<strong>加分项</strong>， 企业是做什么，主打什么)</p><h3 id="招聘信息"><a href="#招聘信息" class="headerlink" title="招聘信息"></a>招聘信息</h3><ul><li>1 岗位信息<pre><code>[校园招聘](https://xiaoyuan.zhaopin.com/)各大企业校招平台、宣讲会[拉钩网](https://www.lagou.com/) （这一块主要是社招）</code></pre></li></ul><ul><li><p>2 面经</p><pre><code>薪资，待遇。 [看准网](http://www.kanzhun.com/)</code></pre></li><li><p>3 事业单位</p><pre><code>公务员 (国考/省考/选调生) 党员优先铁路交通 （中车/中铁各单位）交通类院校优先电信运营 （移动/联通/电信 各省分 县市 研究院）邮电类院校优先教师医生 （教师资格证/高校教师、 辅导员）[高校人才网](http://www.gaoxiaojob.com/)银行期货 （招商/中信）</code></pre></li></ul><h2 id="时间表"><a href="#时间表" class="headerlink" title="时间表"></a>时间表</h2><p>下面是历年几个比较热门的企业目录，待遇氛围都很好，校招有“金九银十”之说，多去好大学宣讲会转，欢迎大家留意补充~</p><ul><li><p><strong>[互联网巨头]</strong> 百度、阿里、腾讯、谷歌、MSRA、亚马逊</p></li><li><p><strong>[衣食住行类]</strong> 网易，美团，饿了么，滴滴，携程，摩拜，<a href="http://211.147.25.243/g17209.aspx" target="_blank" rel="noopener">中车</a>,中铁各局，建工集团</p></li><li><p><strong>[通信和电力]</strong> 小米，中兴,vivo,<a href="http://career.huawei.com/reccampportal/campus4_index.html#campus4/pages/home/trainee.html?type=0&amp;faqtype=3" target="_blank" rel="noopener">华为</a>,<a href="http://special.zhaopin.com/2017/sh/zgyd091093w/scJob.html" target="_blank" rel="noopener">移动</a>，电信，<a href="http://chinaunicom2018.zhaopin.com/cl.html?=1105801" target="_blank" rel="noopener">联通</a> <a href="http://wk.yingjiesheng.com/v-000-022-341.html" target="_blank" rel="noopener">联通面经</a>， <a href="http://xjgc.zhaopin.com/" target="_blank" rel="noopener">国家电网</a>，<a href="http://sgm.zhiye.com/campusjobs" target="_blank" rel="noopener">上汽通用</a>，<a href="http://career.inspur.com/cwbase/web/recportal/index.html" target="_blank" rel="noopener">浪潮</a> （适合山东想回家的孩子）</p></li><li><p><strong>[金融]</strong> <a href="http://career.cmbchina.com/Campus/Campus.html" target="_blank" rel="noopener">招商银行</a>,建设</p></li><li><p><strong>[软硬结合]</strong> <a href="http://campus.hikvision.com" target="_blank" rel="noopener">海康威视</a>，大疆，联发科</p></li></ul><h2 id="面试心得"><a href="#面试心得" class="headerlink" title="面试心得"></a>面试心得</h2><p>项目经验！！！<br>项目经验！！！<br>项目经验！！！<br>重要的事情说三遍，向HR阐述你具备这项工作的能力要求，你能带来的价值，还有就知道市场行情，自己能卖什么价。</p><p>图像处理算法工程师 <a href="http://blog.csdn.net/u013360881/article/details/47609581" target="_blank" rel="noopener">常用算法</a> <a href="http://blog.csdn.net/liuuze5/article/details/44247043" target="_blank" rel="noopener">招聘要求</a></p><ul><li>就业协议书（三方，你，学校，用人单位）</li><li>劳动合同（薪资待遇，合同年限，违约金）</li></ul><h2 id="与君共勉"><a href="#与君共勉" class="headerlink" title="与君共勉"></a>与君共勉</h2><p style="font-size:18px"><span style="FONT-FAMILY: 楷体,楷体_GB2312, SimKai"> <br>前程浩浩，后顾茫茫。<br><br>红日初升，其道大光。河出伏流，一泻汪洋。潜龙腾渊，鳞爪飞扬。乳虎啸谷，百兽震惶。鹰隼试翼，风尘翕张。奇花初胎，矞矞皇皇。干将发硎，有作其芒。天戴其苍，地履其黄。纵有千古，横有八荒。前途似海，来日方长。</span></p><br><p style="TEXT-ALIGN: right "><br><span style="FONT-FAMILY: 楷体,楷体_GB2312, SimKai">&mdash;&mdash;梁启超《少年中国说》节选</span></p><p><br><span style="FONT-FAMILY: 楷体,楷体_GB2312, SimKai">与君共勉<br>丁酉年七月十九日于大连</span></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/resources/shawshank.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;!-- &lt;p style=&quot;font-size:18px&quot;&gt;&lt;span style=&quot;FONT-FAMILY: 楷体,楷体_GB2312, SimKai&quot;&gt; 每个
      
    
    </summary>
    
      <category term="随笔日记" scheme="http://blog.mindcont.com/categories/%E9%9A%8F%E7%AC%94%E6%97%A5%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>Caffe 入门-MNIST 实验</title>
    <link href="http://blog.mindcont.com/2017/04/25/how-to-do-mnist-demo/"/>
    <id>http://blog.mindcont.com/2017/04/25/how-to-do-mnist-demo/</id>
    <published>2017-04-25T03:45:16.000Z</published>
    <updated>2018-01-09T03:38:57.006Z</updated>
    
    <content type="html"><![CDATA[<p>MNIST 是一个包含各种手写数字（0-9）图片(images)和对应标签(label)的数据集，下面我们将介绍如何利用 <a href="https://github.com/bvlc/caffe/" target="_blank" rel="noopener">Caffe</a>框架对手写数字识别一个完整的流程，本实验代码可以<a href="https://github.com/mindcont/caffe/blob/master/examples/mnist" target="_blank" rel="noopener">github</a>下载。</p><a id="more"></a><p><img src="/images/research/caffe/asamples.gif" alt=""></p><h2 id="数据集准备"><a href="#数据集准备" class="headerlink" title="数据集准备"></a>数据集准备</h2><h3 id="下载数据集"><a href="#下载数据集" class="headerlink" title="下载数据集"></a>下载数据集</h3><p>You will first need to download and convert the data format from the MNIST website. To do this, simply run the following commands:</p><p>We will assume that you have Caffe successfully compiled. If not, please refer to the <a href="">Installation page</a>. In this tutorial, we will assume that your Caffe installation is located at CAFFE_ROOT.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$CAFFE_ROOT</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载数据集并解压</span></span><br><span class="line">./data/mnist/get_mnist.sh</span><br></pre></td></tr></table></figure><p>输出结果</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">pi<span class="meta">@DEEPMIND</span>:~/caffe$ ./data/mnist/get_mnist.sh</span><br><span class="line">Downloading...</span><br><span class="line">--<span class="number">2017</span>-<span class="number">04</span>-<span class="number">24</span> <span class="number">09</span>:<span class="number">59</span>:<span class="number">12</span>--  http:<span class="comment">//yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz</span></span><br><span class="line">正在解析主机 yann.lecun.com (yann.lecun.com)... <span class="number">216.165</span>.22.6</span><br><span class="line">正在连接 yann.lecun.com (yann.lecun.com)|<span class="number">216.165</span>.22.6|:<span class="number">80</span>... 已连接。</span><br><span class="line">已发出 HTTP 请求，正在等待回应... <span class="number">302</span> Found</span><br><span class="line">位置：http:<span class="comment">//10.10.10.50/files/4107000000008DA0/yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz [跟随至新的 URL]</span></span><br><span class="line">--<span class="number">2017</span>-<span class="number">04</span>-<span class="number">24</span> <span class="number">09</span>:<span class="number">59</span>:<span class="number">17</span>--  http:<span class="comment">//10.10.10.50/files/4107000000008DA0/yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz</span></span><br><span class="line">正在连接 <span class="number">10.10</span>.10.50:<span class="number">80</span>... 已连接。</span><br><span class="line">已发出 HTTP 请求，正在等待回应... <span class="number">200</span> OK</span><br><span class="line">长度： <span class="number">9912422</span> (<span class="number">9.5</span>M) [application/octet-stream]</span><br><span class="line">正在保存至: “train-images-idx3-ubyte.gz”</span><br><span class="line"></span><br><span class="line"><span class="number">100</span>%[======================================&gt;] <span class="number">9</span>,<span class="number">912</span>,<span class="number">422</span>    <span class="number">479</span>KB/s   用时 <span class="number">20</span>s  </span><br><span class="line"></span><br><span class="line"><span class="number">2017</span>-<span class="number">04</span>-<span class="number">24</span> <span class="number">09</span>:<span class="number">59</span>:<span class="number">37</span> (<span class="number">485</span> KB/s) - 已保存 “train-images-idx3-ubyte.gz” [<span class="number">9912422</span>/<span class="number">9912422</span>])</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">长度： <span class="number">4542</span> (<span class="number">4.4</span>K) [application/x-gzip]</span><br><span class="line">正在保存至: “t10k-labels-idx1-ubyte.gz”</span><br><span class="line"></span><br><span class="line"><span class="number">100</span>%[======================================&gt;] <span class="number">4</span>,<span class="number">542</span>       --.-K/s   用时 <span class="number">0.001</span>s</span><br><span class="line"></span><br><span class="line"><span class="number">2017</span>-<span class="number">04</span>-<span class="number">24</span> <span class="number">09</span>:<span class="number">59</span>:<span class="number">44</span> (<span class="number">7.86</span> MB/s) - 已保存 “t10k-labels-idx1-ubyte.gz” [<span class="number">4542</span>/<span class="number">4542</span>])</span><br></pre></td></tr></table></figure><h3 id="数据存储格式"><a href="#数据存储格式" class="headerlink" title="数据存储格式"></a>数据存储格式</h3><p>There are 4 files:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">训练集</span><br><span class="line">train-images-idx3-ubyte: training <span class="built_in">set</span> images</span><br><span class="line">train-labels-idx1-ubyte: training <span class="built_in">set</span> labels</span><br><span class="line"></span><br><span class="line">验证集</span><br><span class="line">t10k-images-idx3-ubyte:  <span class="built_in">test</span> <span class="built_in">set</span> images</span><br><span class="line">t10k-labels-idx1-ubyte:  <span class="built_in">test</span> <span class="built_in">set</span> labels</span><br></pre></td></tr></table></figure></p><p>The training set contains 60000 examples, and the test set 10000 examples.</p><p>The first 5000 examples of the test set are taken from the original NIST training set. The last 5000 are taken from the original NIST test set. The first 5000 are cleaner and easier than the last 5000.</p><p>对于每个文件的存储格式，以train-images-idx3-ubyte 训练集图片：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">TRAINING <span class="keyword">SET</span> IMAGE <span class="keyword">FILE</span> (train-images-idx3-ubyte):</span><br><span class="line">[<span class="keyword">offset</span>] [<span class="keyword">type</span>]          [<span class="keyword">value</span>]          [description]</span><br><span class="line"><span class="number">0000</span>     <span class="number">32</span> <span class="built_in">bit</span> <span class="built_in">integer</span>  <span class="number">0x00000803</span>(<span class="number">2051</span>) magic <span class="built_in">number</span></span><br><span class="line"><span class="number">0004</span>     <span class="number">32</span> <span class="built_in">bit</span> <span class="built_in">integer</span>  <span class="number">60000</span>            <span class="built_in">number</span> <span class="keyword">of</span> images</span><br><span class="line"><span class="number">0008</span>     <span class="number">32</span> <span class="built_in">bit</span> <span class="built_in">integer</span>  <span class="number">28</span>               <span class="built_in">number</span> <span class="keyword">of</span> <span class="keyword">rows</span></span><br><span class="line"><span class="number">0012</span>     <span class="number">32</span> <span class="built_in">bit</span> <span class="built_in">integer</span>  <span class="number">28</span>               <span class="built_in">number</span> <span class="keyword">of</span> <span class="keyword">columns</span></span><br><span class="line"><span class="number">0016</span>     <span class="keyword">unsigned</span> <span class="keyword">byte</span>   ??               pixel</span><br><span class="line"><span class="number">0017</span>     <span class="keyword">unsigned</span> <span class="keyword">byte</span>   ??               pixel</span><br><span class="line">........</span><br><span class="line">xxxx     <span class="keyword">unsigned</span> <span class="keyword">byte</span>   ??               pixel</span><br><span class="line"></span><br><span class="line">Pixels <span class="keyword">are</span> organized <span class="keyword">row</span>-wise. Pixel <span class="keyword">values</span> <span class="keyword">are</span> <span class="number">0</span> <span class="keyword">to</span> <span class="number">255.</span> <span class="number">0</span> means background (white), <span class="number">255</span> means foreground (black).</span><br></pre></td></tr></table></figure></p><p>头部信息存储 整个文件信息（magic_number,number of images,image_width,image_hight），按字节偏移地址依次存储 每个像素的信息，对于单副图片我们要依次遍历28*28个像素，更多参见<a href="http://yann.lecun.com/exdb/mnist/" target="_blank" rel="noopener">mnist</a> 。</p><h3 id="可视化MNIST-数据集"><a href="#可视化MNIST-数据集" class="headerlink" title="可视化MNIST 数据集"></a>可视化MNIST 数据集</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /data/mnist</span><br><span class="line">mkdir train</span><br><span class="line">python visual_mnist_data.py</span><br></pre></td></tr></table></figure><p>从 <code>data/mnist/train/</code>下，我们可以看到刚才将 rain-images-idx3-ubyte 提取出来的训练集图像，可以看到训练集中单个图片是28*28 单通道灰度图像，如下图所示</p><p><img src="/images/research/caffe/0.png" alt=""></p><p>标签文件按图片名称顺序代表图片中数字。如 <code>0.png</code> 对应label.txt 第一个字符 5。</p><h3 id="转化为lmdb-格式"><a href="#转化为lmdb-格式" class="headerlink" title="转化为lmdb 格式"></a>转化为lmdb 格式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./examples/mnist/create_mnist.sh</span><br></pre></td></tr></table></figure><p>输出结果<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pi<span class="meta">@DEEPMIND</span>:~/caffe$ ./examples/mnist/create_mnist.sh</span><br><span class="line">Creating lmdb...</span><br><span class="line">I0424 <span class="number">10</span>:<span class="number">03</span>:<span class="number">11.133980</span>  <span class="number">2966</span> db_lmdb.cpp:<span class="number">35</span>] Opened lmdb examples/mnist/mnist_train_lmdb</span><br><span class="line">I0424 <span class="number">10</span>:<span class="number">03</span>:<span class="number">11.134397</span>  <span class="number">2966</span> convert_mnist_data.cpp:<span class="number">88</span>] A total of <span class="number">60000</span> items.</span><br><span class="line">I0424 <span class="number">10</span>:<span class="number">03</span>:<span class="number">11.134409</span>  <span class="number">2966</span> convert_mnist_data.cpp:<span class="number">89</span>] Rows: <span class="number">28</span> Cols: <span class="number">28</span></span><br><span class="line">I0424 <span class="number">10</span>:<span class="number">03</span>:<span class="number">15.408113</span>  <span class="number">2966</span> convert_mnist_data.cpp:<span class="number">108</span>] Processed <span class="number">60000</span> files.</span><br><span class="line">I0424 <span class="number">10</span>:<span class="number">03</span>:<span class="number">15.553190</span>  <span class="number">2969</span> db_lmdb.cpp:<span class="number">35</span>] Opened lmdb examples/mnist/mnist_test_lmdb</span><br><span class="line">I0424 <span class="number">10</span>:<span class="number">03</span>:<span class="number">15.553597</span>  <span class="number">2969</span> convert_mnist_data.cpp:<span class="number">88</span>] A total of <span class="number">10000</span> items.</span><br><span class="line">I0424 <span class="number">10</span>:<span class="number">03</span>:<span class="number">15.553642</span>  <span class="number">2969</span> convert_mnist_data.cpp:<span class="number">89</span>] Rows: <span class="number">28</span> Cols: <span class="number">28</span></span><br><span class="line">I0424 <span class="number">10</span>:<span class="number">03</span>:<span class="number">16.184403</span>  <span class="number">2969</span> convert_mnist_data.cpp:<span class="number">108</span>] Processed <span class="number">10000</span> files.</span><br><span class="line">Done.</span><br></pre></td></tr></table></figure></p><h2 id="定义MNIST-网络"><a href="#定义MNIST-网络" class="headerlink" title="定义MNIST 网络"></a>定义MNIST 网络</h2><p>这一部分，官方教程比较好，移步<a href="https://github.com/bvlc/caffe/blob/master/examples/mnist/readme.md" target="_blank" rel="noopener">Training LeNet on MNIST with Caffe</a>。<br>值得注意的是：本本所使用的LeNet模型 ，和原始的有所不同，我们使用Relu 代替 sigmoid,在<code>examples/mnist/lenet_train_test.prototxt</code>下。</p><h3 id="可视化网络"><a href="#可视化网络" class="headerlink" title="可视化网络"></a>可视化网络</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span>  examples/mnist/trian</span><br><span class="line">bash ./vis_net.sh</span><br></pre></td></tr></table></figure><p>训练网络<br><img src="/images/research/caffe/lenet_train_test.png" alt=""></p><p>测试／部署网络，即用于测试，和训练网络区别在于没有标签的输入，只有前向传播过程。<br><img src="/images/research/caffe/lenet.png" alt=""></p><h2 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /examples/mnist/train</span><br><span class="line">./</span><br><span class="line">./train_lenet.sh</span><br></pre></td></tr></table></figure><p>其中<code>train_lenet.sh</code>内容如下<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env sh</span><br><span class="line">set -e</span><br><span class="line"></span><br><span class="line">log_path=<span class="string">"logs/"</span></span><br><span class="line">mkdir -p $log_path</span><br><span class="line"></span><br><span class="line">save_model_path=<span class="string">"caffemodel/"</span></span><br><span class="line">mkdir -p $save_model_path</span><br><span class="line"></span><br><span class="line"># training log</span><br><span class="line">file_prefix=<span class="string">"mnist_"</span></span><br><span class="line">log_file=$(date -d <span class="string">"today"</span> +<span class="string">"%Y-%m-%d-%H:%M:%S"</span>)</span><br><span class="line">log_file=$log_path$file_prefix$log_file<span class="string">".log"</span></span><br><span class="line"></span><br><span class="line"># caffe execute file path</span><br><span class="line">caffe_bin=<span class="string">"../../../build/tools/caffe"</span></span><br><span class="line"></span><br><span class="line">$caffe_bin train --solver=lenet_solver.prototxt  <span class="number">2</span>&gt;&amp;<span class="number">1</span>  | tee -a $log_file</span><br></pre></td></tr></table></figure></p><p>观察训练日志输出，保存在<code>logs/</code><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">I0424 <span class="number">11</span>:<span class="number">10</span>:<span class="number">01.759721</span>  <span class="number">4049</span> caffe.cpp:<span class="number">211</span>] Use CPU.</span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">10</span>:<span class="number">01.785264</span>  <span class="number">4049</span> solver.cpp:<span class="number">44</span>] Initializing solver from parameters:</span><br><span class="line">test_iter: <span class="number">100</span></span><br><span class="line">test_interval: <span class="number">500</span></span><br><span class="line">base_lr: <span class="number">0.01</span></span><br><span class="line">display: <span class="number">100</span></span><br><span class="line">max_iter: <span class="number">10000</span></span><br><span class="line">lr_policy: <span class="string">"inv"</span></span><br><span class="line">gamma: <span class="number">0.0001</span></span><br><span class="line">power: <span class="number">0.75</span></span><br><span class="line">momentum: <span class="number">0.9</span></span><br><span class="line">weight_decay: <span class="number">0.0005</span></span><br><span class="line">snapshot: <span class="number">5000</span></span><br><span class="line">snapshot_prefix: <span class="string">"caffemodel/lenet"</span></span><br><span class="line">solver_mode: CPU</span><br><span class="line">net: <span class="string">"lenet_train_test.prototxt"</span></span><br><span class="line">train_state &#123;</span><br><span class="line">  level: <span class="number">0</span></span><br><span class="line">  stage: <span class="string">""</span></span><br><span class="line">&#125;</span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">10</span>:<span class="number">01.785367</span>  <span class="number">4049</span> solver.cpp:<span class="number">87</span>] Creating training net from net file: lenet_train_test.prototxt</span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">10</span>:<span class="number">01.785703</span>  <span class="number">4049</span> net.cpp:<span class="number">294</span>] <span class="function">The NetState <span class="title">phase</span> <span class="params">(<span class="number">0</span>)</span> differed from the <span class="title">phase</span> <span class="params">(<span class="number">1</span>)</span> specified by a rule in layer mnist</span></span><br><span class="line"><span class="function">I0424 11:10:01.785719  4049 net.cpp:294] The NetState <span class="title">phase</span> <span class="params">(<span class="number">0</span>)</span> differed from the <span class="title">phase</span> <span class="params">(<span class="number">1</span>)</span> specified by a rule in layer accuracy</span></span><br><span class="line"><span class="function">I0424 11:10:01.785794  4049 net.cpp:51] Initializing net from parameters:</span></span><br><span class="line"><span class="function">name: "LeNet"</span></span><br><span class="line"><span class="function">state </span>&#123;</span><br><span class="line">  phase: TRAIN</span><br><span class="line">  level: <span class="number">0</span></span><br><span class="line">  stage: <span class="string">""</span></span><br><span class="line">&#125;</span><br><span class="line">layer &#123;</span><br><span class="line">  name: <span class="string">"mnist"</span></span><br><span class="line">  type: <span class="string">"Data"</span></span><br><span class="line">  top: <span class="string">"data"</span></span><br><span class="line">  top: <span class="string">"label"</span></span><br><span class="line">  include &#123;</span><br><span class="line">    phase: TRAIN</span><br><span class="line">  &#125;</span><br><span class="line">  transform_param &#123;</span><br><span class="line">    scale: <span class="number">0.00390625</span></span><br><span class="line">  &#125;</span><br><span class="line">  data_param &#123;</span><br><span class="line">    source: <span class="string">"../mnist_train_lmdb"</span></span><br><span class="line">    batch_size: <span class="number">64</span></span><br><span class="line">    backend: LMDB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"></span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">22</span>:<span class="number">48.831621</span>  <span class="number">4049</span> solver.cpp:<span class="number">218</span>] Iteration <span class="number">9900</span> (<span class="number">14.7601</span> iter/s, <span class="number">6.775</span>s/<span class="number">100</span> iters), loss = <span class="number">0.00511876</span></span><br><span class="line">I0424 11:22:48.831665  4049 solver.cpp:237]     Train net output #0: loss = 0.00511864 (* 1 = 0.00511864 loss)</span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">22</span>:<span class="number">48.831676</span>  <span class="number">4049</span> sgd_solver.cpp:<span class="number">105</span>] Iteration <span class="number">9900</span>, lr = <span class="number">0.00596843</span></span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">22</span>:<span class="number">55.538620</span>  <span class="number">4049</span> solver.cpp:<span class="number">447</span>] Snapshotting to binary proto file caffemodel/lenet_iter_10000.caffemodel</span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">22</span>:<span class="number">55.543390</span>  <span class="number">4049</span> sgd_solver.cpp:<span class="number">273</span>] Snapshotting solver state to binary proto file caffemodel/lenet_iter_10000.solverstate</span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">22</span>:<span class="number">55.578083</span>  <span class="number">4049</span> solver.cpp:<span class="number">310</span>] Iteration <span class="number">10000</span>, loss = <span class="number">0.00350995</span></span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">22</span>:<span class="number">55.578119</span>  <span class="number">4049</span> solver.cpp:<span class="number">330</span>] Iteration <span class="number">10000</span>, <span class="function">Testing <span class="title">net</span> <span class="params">(#<span class="number">0</span>)</span></span></span><br><span class="line"><span class="function">I0424 11:22:59.965965  4054 data_layer.cpp:73] Restarting data prefetching from start.</span></span><br><span class="line"><span class="function">I0424 11:23:00.153450  4049 solver.cpp:397]     Test net output #0: accuracy </span>= <span class="number">0.9912</span></span><br><span class="line">I0424 11:23:00.153553  4049 solver.cpp:397]     Test net output #1: loss = 0.0277065 (* 1 = 0.0277065 loss)</span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">23</span>:<span class="number">00.153568</span>  <span class="number">4049</span> solver.cpp:<span class="number">315</span>] Optimization Done.</span><br><span class="line">I0424 <span class="number">11</span>:<span class="number">23</span>:<span class="number">00.153573</span>  <span class="number">4049</span> caffe.cpp:<span class="number">259</span>] Optimization Done.</span><br></pre></td></tr></table></figure></p><p>至此，我们就完成了利用Lenet 网络模型在mnist数据集上进行训练，如何评价训练结果呢？我们可以输入一张新的图片，使用刚才训练的模型进行预测，来评价我们训练结果的好坏。</p><h2 id="预测一张新的图片"><a href="#预测一张新的图片" class="headerlink" title="预测一张新的图片"></a>预测一张新的图片</h2><p>假设待预测图片为下图<br><img src="/images/research/caffe/2.png" alt=""></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> examples/mnist/<span class="built_in">test</span></span><br><span class="line">python mnist_test.py 2.png</span><br></pre></td></tr></table></figure><p>输出<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">pi<span class="meta">@DEEPMIND</span>:~/caffe/examples/mnist/test$ python mnist_test.py test.jpg</span><br><span class="line">WARNING: <span class="function">Logging before <span class="title">InitGoogleLogging</span><span class="params">()</span> is written to STDERR</span></span><br><span class="line"><span class="function">W0424 14:23:46.789387  6313 _caffe.cpp:139] DEPRECATION WARNING - deprecated use of Python interface</span></span><br><span class="line"><span class="function">W0424 14:23:46.789423  6313 _caffe.cpp:140] Use <span class="keyword">this</span> <span class="title">instead</span> <span class="params">(with the named <span class="string">"weights"</span> parameter)</span>:</span></span><br><span class="line"><span class="function">W0424 14:23:46.789428  6313 _caffe.cpp:142] <span class="title">Net</span><span class="params">(<span class="string">'../train/lenet.prototxt'</span>, <span class="number">1</span>, weights=<span class="string">'../train/caffemodel/lenet_iter_10000.caffemodel'</span>)</span></span></span><br><span class="line"><span class="function">I0424 14:23:46.883805  6313 net.cpp:51] Initializing net from parameters:</span></span><br><span class="line"><span class="function">name: "LeNet"</span></span><br><span class="line"><span class="function">state </span>&#123;</span><br><span class="line">  phase: TEST</span><br><span class="line">  level: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">layer &#123;</span><br><span class="line">  name: <span class="string">"data"</span></span><br><span class="line">  type: <span class="string">"Input"</span></span><br><span class="line">  top: <span class="string">"data"</span></span><br><span class="line">  input_param &#123;</span><br><span class="line">    shape &#123;</span><br><span class="line">      dim: <span class="number">64</span></span><br><span class="line">      dim: <span class="number">1</span></span><br><span class="line">      dim: <span class="number">28</span></span><br><span class="line">      dim: <span class="number">28</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">layer &#123;</span><br><span class="line">  name: <span class="string">"conv1"</span></span><br><span class="line">  type: <span class="string">"Convolution"</span></span><br><span class="line">  bottom: <span class="string">"data"</span></span><br><span class="line">  top: <span class="string">"conv1"</span></span><br><span class="line">  param &#123;</span><br><span class="line">    lr_mult: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  param &#123;</span><br><span class="line">    lr_mult: <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">  convolution_param &#123;</span><br><span class="line">    num_output: <span class="number">20</span></span><br><span class="line">    kernel_size: <span class="number">5</span></span><br><span class="line">    stride: <span class="number">1</span></span><br><span class="line">    weight_filler &#123;</span><br><span class="line">      type: <span class="string">"xavier"</span></span><br><span class="line">    &#125;</span><br><span class="line">    bias_filler &#123;</span><br><span class="line">      type: <span class="string">"constant"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"></span><br><span class="line">I0424 <span class="number">14</span>:<span class="number">41</span>:<span class="number">40.851599</span>  <span class="number">7883</span> net.cpp:<span class="number">242</span>] This network produces output prob</span><br><span class="line">I0424 <span class="number">14</span>:<span class="number">41</span>:<span class="number">40.851608</span>  <span class="number">7883</span> net.cpp:<span class="number">255</span>] Network initialization done.</span><br><span class="line">I0424 <span class="number">14</span>:<span class="number">41</span>:<span class="number">40.854398</span>  <span class="number">7883</span> net.cpp:<span class="number">744</span>] Ignoring source layer mnist</span><br><span class="line">I0424 <span class="number">14</span>:<span class="number">41</span>:<span class="number">40.854982</span>  <span class="number">7883</span> net.cpp:<span class="number">744</span>] Ignoring source layer loss</span><br><span class="line">[  <span class="number">5.44423534e-11</span>   <span class="number">2.36225206e-11</span>   <span class="number">1.00000000e+00</span>   <span class="number">6.40073061e-09</span></span><br><span class="line">   <span class="number">1.00278713e-18</span>   <span class="number">2.31217930e-18</span>   <span class="number">2.05065188e-17</span>   <span class="number">6.41556852e-09</span></span><br><span class="line">   <span class="number">5.65470171e-10</span>   <span class="number">1.42476214e-13</span>]</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure></p><p>可以看到网络输出10分类各自的概率，最后取最大的概率所对应的标签作为预测结果，即<code>2</code>。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过上面的步骤，我们就完成了一个机器学习的通用步骤，即数据集的预处理、训练网络的定义，训练，预测和评估。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://github.com/bvlc/caffe/blob/master/examples/mnist/readme.md" target="_blank" rel="noopener">Training LeNet on MNIST with Caffe</a></li><li><a href="http://yann.lecun.com/exdb/lenet/" target="_blank" rel="noopener">MNIST Demos on Yann LeCun’s website</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MNIST 是一个包含各种手写数字（0-9）图片(images)和对应标签(label)的数据集，下面我们将介绍如何利用 &lt;a href=&quot;https://github.com/bvlc/caffe/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Caffe&lt;/a&gt;框架对手写数字识别一个完整的流程，本实验代码可以&lt;a href=&quot;https://github.com/mindcont/caffe/blob/master/examples/mnist&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;github&lt;/a&gt;下载。&lt;/p&gt;
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
  </entry>
  
  <entry>
    <title>调试安卓的小技巧</title>
    <link href="http://blog.mindcont.com/2017/02/25/debug-android-win/"/>
    <id>http://blog.mindcont.com/2017/02/25/debug-android-win/</id>
    <published>2017-02-25T01:26:57.000Z</published>
    <updated>2018-01-09T03:38:24.053Z</updated>
    
    <content type="html"><![CDATA[<p>在win10下开发安卓小程序使用物理机调试的时候，USB数据线接触不好，总是很容易断开链接，害的处女座的强迫症都要犯了。</p><a id="more"></a><h2 id="使用wifi来调试你的应用"><a href="#使用wifi来调试你的应用" class="headerlink" title="使用wifi来调试你的应用"></a>使用wifi来调试你的应用</h2><h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><p><strong>1.测试手机和开发PC要在同一wifi局域网内</strong></p><table><thead><tr><th></th><th>IP地址</th><th>能否访问Internet</th></tr></thead><tbody><tr><td>PC(开发者)</td><td>192.168.1.123</td><td>是</td></tr><tr><td>测试手机</td><td>192.168.1.100</td><td>是</td></tr></tbody></table><p><strong>2.确保你正确配置了adb（Android Debug Bridge）环境变量</strong></p><p>当你打开命令行，输入’adb version’，看到类似如下信息，就说明adb配置成功</p><p><img src="/images/coding/android/adb.png" alt=""></p><p><strong>3.设置手机以侦听端口 5555 上的 TCP/IP 连接</strong><br>第一次的时候需要用手机USB连接到你的电脑，之后运行下面国外大牛写的shell脚本，脚本在mac或者Linux肯定是ok的，windows上需要安装一些如msysgit或者<a href="https://www.cygwin.com/setup-x86.exe" target="_blank" rel="noopener">Cygwin</a>才可运行以上Linux shell。</p><p>下载<a href="https://gist.github.com/stormzhang/6fa157ceb7980a25fbf0" target="_blank" rel="noopener">adbwifi.sh</a> 放到cygwin 目录下 例如我’C:\cygwin64\home\fenxi\adbwifi.sh’<br>运行<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sh</span> adbwifi.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure></p><p><strong>4. 连接</strong></p><p>断开手机和PC相连的usb数据线</p><p>查找 Android 设备的 IP 地址。例如，在 Nexus 设备上，您可以通过访问 Settings &gt; About tablet（或 About phone) &gt; Status &gt; IP address 查找 IP 地址。例如我的手机地址为’192.168.1.100’,打开命令行，输入<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">adb</span> <span class="selector-tag">connect</span> 192<span class="selector-class">.168</span><span class="selector-class">.1</span><span class="selector-class">.100</span></span><br><span class="line"></span><br><span class="line">#查看已连接设备</span><br><span class="line"><span class="selector-tag">adb</span> <span class="selector-tag">devices</span></span><br></pre></td></tr></table></figure></p><p>现在，您可以开始操作了！</p><p><strong>注意：</strong><br>手机重启后需要使用数据线再连接一遍，重复以上步骤才可使用无线调试模式。<br>这属于安卓系统安全策略，不然任何时候局域网内其他PC都可以远程控制你的手机了</p><h2 id="使用dryrun"><a href="#使用dryrun" class="headerlink" title="使用dryrun"></a>使用dryrun</h2><p>github是个大宝藏，对于 Android 开发者来说，除了阅读还有运行 demo 看下项目效果等。</p><p>来看下一般人的阅读开源项目的姿势是怎么样的：<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">找到项目地址</span><br><span class="line">点击「download zip」</span><br><span class="line">解压到一个目录</span><br><span class="line">打开 <span class="keyword">Android </span>Studio</span><br><span class="line">导入项目</span><br><span class="line"><span class="keyword">Sync </span>gradle</span><br><span class="line">运行项目</span><br><span class="line">选择运行的设备</span><br><span class="line">删除下载的 zip 文件</span><br></pre></td></tr></table></figure></p><p>只要安装dryrun这个工具，直接执行一个命令：</p><p><img src="/images/coding/android/usage_v4.gif" alt=""></p><h3 id="使用方法-1"><a href="#使用方法-1" class="headerlink" title="使用方法"></a>使用方法</h3><p><strong>1.安装ruby</strong><br>这里我推荐使用<a href="http://railsinstaller.org/en" target="_blank" rel="noopener">RailsInstaller</a>自动配置好ruby、rails、Devkit等<br>，记得勾选添加到环境变量。</p><p>检查ruby安装是否成功，’ruby -v’</p><p><strong>2.安装dryrun</strong><br><a href="https://github.com/cesarferreira/dryrun" target="_blank" rel="noopener">dryrun Try the demo project of any Android Library</a></p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem <span class="keyword">install</span> dryrun</span><br></pre></td></tr></table></figure><p><strong>3.运行demo</strong><br>值得注意的是，先用usb连接到手机，这里好像不支持无线调试的方式<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dryrun git<span class="meta">@github</span>.<span class="string">com:</span>cesarferreira/android-helloworld.git</span><br></pre></td></tr></table></figure></p><p><img src="/images/coding/android/dryrun-success.jpg" alt=""></p><p>附上我一张图</p><p><img src="/images/coding/android/hello-world.jpg" alt=""></p><h2 id="有用的链接"><a href="#有用的链接" class="headerlink" title="有用的链接"></a>有用的链接</h2><p><a href="http://stormzhang.com/friends/" target="_blank" rel="noopener">stormzhang的博客</a><br><a href="http://stormzhang.com/android/2014/08/27/adb-over-wifi/" target="_blank" rel="noopener">ANDROID通过WIFI来调试你的应用</a><br><a href="https://developer.android.com/studio/command-line/adb.html" target="_blank" rel="noopener">Android 调试桥</a><br><a href="http://stormzhang.com/2016/10/19/how-to-read-and-run-the-demo/" target="_blank" rel="noopener">教你一招最屌的阅读开源项目的姿势</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在win10下开发安卓小程序使用物理机调试的时候，USB数据线接触不好，总是很容易断开链接，害的处女座的强迫症都要犯了。&lt;/p&gt;
    
    </summary>
    
    
      <category term="coding" scheme="http://blog.mindcont.com/tags/coding/"/>
    
  </entry>
  
  <entry>
    <title>给初做科研的一些建议</title>
    <link href="http://blog.mindcont.com/2017/02/22/some-advice-for-research-beginners/"/>
    <id>http://blog.mindcont.com/2017/02/22/some-advice-for-research-beginners/</id>
    <published>2017-02-22T01:19:45.000Z</published>
    <updated>2018-01-09T03:40:34.024Z</updated>
    
    <content type="html"><![CDATA[<p>这是我回顾一年多来的研究心得，写给那些初入研究生生涯人的，以求启迪后者，少走些弯路，但从方法论中来说有些弯路是不可逾越的并不会因你看了我的文章而改变。<br><a id="more"></a></p><p><img src="/images/resources/do-research.jpg" alt=""></p><p align="right">–图片来源 wikihow</p><p>一个东西不理解，很陌生，我们可以通过一种方法去尝试着研究它，去解剖它。但怎样去解剖呢？</p><p>我想一个人，能做的对自己的研究方向和自己所研究的问题有清晰的理解，并能通过搜索加学习，自己给出该问题的一个答案或者一个不错的结果，那就是搞科研去了门，也下了一定的功夫了。</p><h3 id="了解问题的性质"><a href="#了解问题的性质" class="headerlink" title="了解问题的性质"></a>了解问题的性质</h3><p>先了解自己研究的是什么问题？<br>结合自己的志趣，实验室主攻方向，就业等，去寻找一个结合小点作为自己的研究方向，比如实验室做机器人，而你想做计算机视觉，那能不能做机器人场景下，一些物体的识别，检测，诸如此类</p><p>有什么实际作用？<br>如自然语言处理可以去机器翻译，计算机视觉可以结合安防，结合工业机器人的机械臂，结合自动驾驶中人，灯，车复杂车况的处理，多传感器融合</p><p>心理要清楚，研究它有什么用，有什么价值</p><h3 id="问题的解决方法"><a href="#问题的解决方法" class="headerlink" title="问题的解决方法"></a>问题的解决方法</h3><p>有几种解决方法的思路？<br>对于要研究的问题，有几种处理方法，国内外的</p><p>从点到面的寻找资源？<br>从顶级论文中选论文，从大局入手，先看他做了什么，取得了什么结果，用什么方法做的，不要着眼于具体的公式推导，你可能说无法理解他的算法，我们这一步不需要理解算法，只需要找到他的算法思想，以及他如何产生的这种思想</p><p>再看看他引用的文章，大牛论文的引用都是干货，能不能找到一些代码和demo，从点到面，顺藤摸瓜，逐渐的对这个问题有几种处理方法，以及他们之间又是如何改进的你会有一个概念</p><p>而后才是反过来，看具体的算法实现，具体的公式，适量就好，资质不足，看不明白也不要紧，有了思想，再找代码，结合代码看数据的输入和输出，数据的处理流程，实验的设计与结果的评估</p><p>这样从点，到思想，到更多的思想和方法，再到一篇完整的思想和代码实现，完整的实验设计和处理流程，你就有了清晰的理解。</p><p>当然这是凭国内的搜索引擎，你可能搜不到你想要的东西，这也是我下面想说的</p><h3 id="学会搜索"><a href="#学会搜索" class="headerlink" title="学会搜索"></a>学会搜索</h3><p>学会使用谷歌<br>google +对问题描述英文的关键词<br>一个好的搜索引擎，加上对问题恰当的关键词，能快速得到你想要的，所需的资料</p><p>谷歌学术也很好，人物加年份，加方向<br>（研究点）关键词</p><h3 id="思维碰撞"><a href="#思维碰撞" class="headerlink" title="思维碰撞"></a>思维碰撞</h3><p>我觉得研究生就是应该相互讨论，一个好实验室的氛围大抵如此。<br>思想相互碰撞，实践</p><h3 id="下工夫"><a href="#下工夫" class="headerlink" title="下工夫"></a>下工夫</h3><p>最重要也是最后说的，<br>就是多下功夫，避免效率低下，高效的使用时间，并行的处理事情</p><p>最后，祝愿大家都能通过研究生阶段的学习，有所收获，有所启发。</p><h2 id="有用的链接"><a href="#有用的链接" class="headerlink" title="有用的链接"></a>有用的链接</h2><ul><li><a href="http://www.wikihow.com/Main-Page" target="_blank" rel="noopener">wikihow - how to do anything</a></li><li><a href="https://www.coursera.org/learn/chuangxin-siwei/lecture/GDsGk/3-6-ru-he-kuai-su-liao-jie-ge-ling-yu" target="_blank" rel="noopener">如何快速了解一个领域</a></li><li><a href="http://www.uanswer.me/?/question/508" target="_blank" rel="noopener">如何写好研究生小论文？</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这是我回顾一年多来的研究心得，写给那些初入研究生生涯人的，以求启迪后者，少走些弯路，但从方法论中来说有些弯路是不可逾越的并不会因你看了我的文章而改变。&lt;br&gt;
    
    </summary>
    
      <category term="随笔日记" scheme="http://blog.mindcont.com/categories/%E9%9A%8F%E7%AC%94%E6%97%A5%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>从视网膜到视皮层——视觉系统知多少</title>
    <link href="http://blog.mindcont.com/2017/02/20/visual-cortex/"/>
    <id>http://blog.mindcont.com/2017/02/20/visual-cortex/</id>
    <published>2017-02-20T02:25:35.000Z</published>
    <updated>2018-01-09T03:40:51.934Z</updated>
    
    <content type="html"><![CDATA[<p>“诸位的眼睛，可以观赏你们喜爱的任何一幕戏。而我不知道，到底会有多少人在观看一幕戏、一场电影或任何一个场面时，意识到让你们可以享受到色彩、美景与动感的视觉是个奇迹，并对此抱有感激之情呢？”</p><p>　</p><p align="right">　——《假如给我三天光明》 [美国] 海伦•凯勒 </p><p></p><p>　　如果说几十亿年前生命的诞生是地球上迄今为止最美的奇迹，那么生物体的神经系统堪称这个奇迹中最耀眼的巅峰之作。重量约为1.3千克，体积约为1200立方厘米，包含大约860亿个神经元（即神经细胞，是神经系统的结构与功能单位）以及同样数量的非神经元细胞（例如对神经元提供支撑和保护作用的胶质细胞，运输氧气和养料的血管组织等），人类大脑的复杂程度与奥妙之处被很多神经科学家认为并不亚于广袤无垠充满未知的浩瀚宇宙。</p><p><img src="/images/research/visual-cortex/1.jpg" alt=""></p><center>图1 大鼠脑部（左）和人脑（右）的结构示意图</center><p><img src="/images/research/visual-cortex/2.jpg" alt=""></p><center>图2 大脑皮层左半球侧面视角的主要脑区和结构</center><p>神经系统的功能，概括来说就是根据生物个体的需要以及外部环境的变化来控制或调节自身的行为以及内环境的稳态。这个过程抽象下来实际就是获取信息、处理信息以及输出信息。就像我们在使用计算机时，通过键盘鼠标将信息输入，在计算机进行相应的运算之后通过显示器来输出结果。我们生活在一个丰富多彩的世界里，而即便是从最基本的生存层面来看，每一个生物个体都需要感知周围环境并对外界的变化做出相应的反应。例如，野外生活的动物敏锐地发现猎物才能进行捕食，及时地察觉天敌才能躲避危险。</p><p>外界环境信息的获取及处理主要由感觉系统来负责，包括视觉系统、听觉系统、嗅觉系统、味觉系统和触觉系统等。在生物体获取的所有外界信息中，视觉信息占有很大的比例，尤其是对于高等动物这一现象更为明显。对于一个正常人，视觉信息占全部感觉信息的70%以上。我们在生活中也很容易体会到视觉是多么重要的一种感觉。</p><p><img src="/images/research/visual-cortex/3.jpg" alt=""></p><center>图3 人体的主要感觉</center><p>视觉系统在结构上主要包括眼睛（主要指视网膜）、外侧膝状体（简称外膝体）以及视皮层（包括初级视皮层以及纹外皮层）等，在功能上主要负责视觉信息的获取和处理进而形成视觉，同时也与其他脑区一同参与到一些和视觉成像无关的行为控制中。</p><p><img src="/images/research/visual-cortex/4.jpg" alt=""></p><center>图4 视网膜神经节细胞投射的主要脑区和结构</center><p>视觉系统是目前为止研究得最为广泛也最为深入的感觉系统之一。一方面是由于视觉的重要性，另一方面则是基于视觉系统本身的特点和研究优势。上文中提到过神经系统的基本功能就是获取、处理并输出信息。因此对神经系统进行研究的关键点之一就是精确了解和控制它获取的信息。而这在视觉系统的研究中是非常容易做到的：研究人员可根据不同的研究目的设计出各种静态及运动图形作为视觉刺激。这些由计算机在时间和空间上精确控制的视觉刺激使得研究人员在实验过程中可以完全了解实验动物视觉系统的输入信息是什么。</p><p>视觉信息的获取过程主要发生在视网膜中，而对这些信息进一步的加工处理则发生在视网膜、外膝体、视皮层等。因此对视觉系统功能上的研究也主要集中在这些区域。电活动是神经系统最主要的信息载体，而视网膜中一部分细胞的任务就是将光信号转变为电信号（即光电转化）。这些电信号经过视网膜其他细胞的加工后向脑内的外膝体传递，之后传递给视皮层进行更进一步的信息处理与整合，进而形成视觉。为了便于理解，这个过程可以类比于日常生活中的写信寄信：在写信时信息由写信人的思想转换成文字，而信纸则是载体，这就如同视网膜中的光电转化过程；然后信件被投递至邮箱中，这就如同视觉信息从视网膜传递到外膝体；最后在邮局根据信件的不同类型以及目的地进行归类处理以便转运至收信人所在地，这就如同视皮层的功能。</p><p>对于视觉系统的探索，长期以来大量的实验主要集中在对猫、猕猴等实验动物的视皮层以及外膝体的研究，尤其是对视皮层功能的了解。近些年来随着转基因技术在实验小鼠上的成熟推广，很多视觉研究领域的实验室都开始用小鼠开展相关的课题研究并取得了一系列的成果。人们对视网膜的研究同样起步很早。早期的研究材料大多是兔子、猫、蝾螈等实验动物的视网膜，类似地近些年越来越多的实验集中在对小鼠视网膜的研究上，也有关于猕猴和狨猴视网膜的研究报导。</p><p><strong>视网膜——视觉第一站</strong></p><p>　　我们之所以能够看到外界的物体，是因为它们反射的光经过眼部的角膜、瞳孔、晶状体、玻璃体等最后聚焦到视网膜上，在这里发生了一次神奇的光电转换，即将光信号转换成电信号。因此，视网膜是接收视觉信息的第一站，对于高等动物来讲视网膜也是唯一的视觉信息来源。 　　  </p><p>　　视网膜中的神经元，根据不同的形态和功能主要分为五大类：光感受器负责光电转换，双极神经元负责接收光感受器输出的信号并传递给下游的视网膜神经节细胞，而信息从光感受器到双极细胞以及从双极细胞到神经节细胞的传递过程分别受到水平细胞和无长突细胞的调节，视网膜神经节细胞则是视觉信息在视网膜中的最后一站，其对信息进行加工整合后将电信号向下一级脑区外膝体的中继细胞进行传递。神经元之间的信息传递主要通过化学突触来完成。简单来说，前一级神经元的电活动促使其分泌特定的化学物质（即神经递质）并作用在下一级神经元上进而引起下一级神经元电活动的变化。有的神经递质可以增强下一级神经元的电活动，有的神经递质则会抑制下一级神经元的电活动，比如双极神经元释放的神经递质可以增强神经节细胞的电活动，而无长突细胞释放的递质可以抑制神经节细胞的电活动。</p><p>　　近年来发现的一些不完全依赖于光感受器而是自身就具备感光功能可以进行光电转换的神经节细胞越来越引起人们的注意和兴趣。目前的研究表明这些感光神经节细胞可能并不参与视觉成像而是与生物个体的昼夜节律的调节相关。</p><p><img src="/images/research/visual-cortex/5.jpg" alt=""></p><center>图5 视网膜结构及其神经元组成示意图</center><p>上面这些只是最基本的情况，而视网膜中各种细胞之间的结构和功能上的连接实际上是极其复杂的，虽然这些连接遵循着一些基本的规律。首先，上面讲到的五种类型的神经元可以进一步的被分成多个亚型，不同的物种之间在亚型的具体数目上有些差异，但总的趋势是一致的。以小鼠的视网膜为例，目前的研究表明光感受器共有三个亚型，双极细胞则有十多个亚型，无长突细胞和神经节细胞各自更是可以分为二十个亚型以上。其次，每个神经元可以和多个神经元、多亚型神经元、多类型神经元形成突触连接，同时一些神经元具有释放多种化学递质的能力。另外，神经元之间除了化学突触连接之外还存在电突触等连接方式。这些情况综合起来使得视网膜神经环路呈现难以想象的复杂程度。一些研究视皮层功能的科研人员通常会假设视网膜只负责信息采集而不进行加工处理。这一点当然是有一定道理的:尤其是对于越高级的生物，主要的视觉信息处理过程都集中在视皮层；同时适当地忽略次要因素也是科学研究的方法之一。但是显然，作为这样一个复杂的系统，很难想象视网膜实际的功能会只局限于简单的像素采集。</p><p>通过对视网膜功能的深入研究也证明了这一点。即便是在视觉信息的第一站，在光感受器进行光电转换将光信号转变为电信号之后，接下来一系列的神经元对这些信息进行了或多或少的加工处理，最终由神经节细胞向其他脑区传递。虽然视网膜是这么复杂的系统，但是也可以相对简单地来理解。一种简单的模型是说，光感受器将信息传递给十多个亚型的双极细胞，可以理解为十多条并行的通路，这十多条通路在对视觉信息进行平行传递时由水平细胞和无长突细胞进行加工处理，最终将视觉信息的不同要素（比如明暗变化，颜色，运动速度与方向等）抽提出来传递给不同亚型的神经节细胞。在某种程度上，不同亚型的神经节细胞具有的功能特征多样性反映了视网膜环路功能的复杂性。也是因为这个原因，同时考虑到临床意义，目前为止神经节细胞是视网膜中被研究得最多、了解得最深入的神经元，。而即便如此，我们对它们的了解也还是很不全面，甚至多数还停留在根据形态和功能对细胞进行分类的阶段。更不用说在形态和功能的一些最基本的方面才刚刚开始进行系统研究的双极神经元，以及其他种类的神经元。为了理解视网膜对视觉信息的加工处理过程与机制，对所有这些神经元进行系统而精细的研究都是必须的过程。而很多科学问题的研究和解决依赖于相关技术的进步。例如近些年来转基因小鼠在神经生物学领域的广泛应用，对科学研究起到了极大的促进作用。在视网膜的研究中，结合分子生物学制作的各种不同品系的转基因小鼠，使得实验人员可以针对某一种或者某几种细胞进行深入的功能研究，取得了很多的成果。</p><p><img src="/images/research/visual-cortex/6.jpg" alt=""></p><center>图6 视网膜平行通道信息处理模型示意图 </center><p><strong>外膝体——信息中转站</strong></p><p>外膝体的英文是“lateral geniculate nucleus”，其中的“geniculate”就是“形状似膝”的意思。</p><p>外膝体类似于视网膜，其中的神经元也是规则地分层排列，不同类型的神经元分布在不同分层，接收不同亚型的视网膜神经节细胞的输入，再将这些信息传输给初级视皮层。在视网膜、外膝体、视皮层以及其他很多脑区，细胞有序的分层排列是很普遍的结构特征。</p><p>视网膜神经节细胞投射到外膝体各层是有规律可循的。外膝体每层都与对测视野相应的半个视网膜之间形成一定的视网膜投射图关系，即视网膜中相邻区域投射到外膝体时也是相邻或重叠的。这一点的重要性在于可以将空间位置信息在视觉信息传递的过程中得以保留。</p><p><img src="/images/research/visual-cortex/7.jpg" alt=""></p><center>图7 猕猴外侧膝状体在脑内位置以及切片结构示意图；下图为视网膜到外侧膝状体投射的空间位置拓扑关系</center><p>传统的研究结果使人们倾向于认为，外膝体的中继细胞主要接收一个或极少数的几个视网膜神经节细胞的输入，并把这些视网膜神经节细胞的输入忠实地传递给下一级的视皮层神经元。因此外膝体被认为是视觉信息的中转站，对视觉信息的加工并不复杂。这个结论对于某些物种的某些外膝体神经元或许是适用的，但可能并不是全部。最新的一些研究结果暗示，在小鼠、猕猴等动物的外膝体中，单个神经元是可能接收多个视网膜神经节细胞的输入的。如果事实真的是这样，我们可能就需要重新考虑外膝体在视觉信息传递中的作用了。它是如何整合多个视网膜神经节细胞的输入的？它是仅仅负责分流传递视觉信息么？　  </p><p>如果再考虑到外膝体中除了这些中继细胞外，还有大约25%的中间神经元，那么外膝体在功能上的复杂性可能就更高了。这些中间神经元一方面接收视网膜神经节细胞的指令，另一方面同时接收视皮层的反馈，作用则是调节其他神经元的电活动。这里就出现了另外一个科学家们在20世纪晚期才注意到的重要现象，视皮层接收外膝体中继细胞的信息之后，会反过来就外膝体进行负反馈的调节。就像一个系统，有兴奋就需要有抑制，有正反馈就需要有负反馈，这样才有可能使系统保持相对的稳定而不至于能量无限的增益直至衰竭崩溃。所以，像前文提到过的中间神经元可以抑制其他神经元的电活动、高级皮层可以对低级脑区进行负反馈调节，这些都是使得神经系统可以正常工作的重要功能。</p><p>视网膜应用多条平行通路进行信息的传递和处理，同样的，视觉信息在脑内的处理过程也有类似的平行模式，即不同性质的视觉信息成分经不同的神经环路通道预处理，最终由不同性质的皮层细胞来分别进行分析处理与整合。目前的证据表明，中枢视觉信息的处理既是由低级向高级逐步升级的过程，又遵循着平行处理的原则。而外膝体作为视觉信息的中转站，在平行信息处理通道中起到了关键的作用，将不同细胞种类的平行通道、左右眼信息通道、空间频率通道、颜色信息处理通道、空间方位信息通道、运动方位信息通道等分别传送到专门处理这些信息的皮层神经元。</p><p><strong>视皮层——中央处理器</strong></p><p>在神经系统这部“巅峰之作”中，大脑皮层的形成可称为“画龙点睛之笔”。进化过程中哺乳动物才开始出现的皮层结构，在学习记忆、语言思考以及知觉意识等高级功能方面发挥着至关重要的作用，且越是高等的生物，其皮层的结构和功能则越是发达。</p><p>通常所说的视皮层主要包括初级视皮层（又称作纹状皮层或视觉第一区域，即V1）和纹外皮层（例如视觉第二、第三、第四、第五区域等，即V2、V3、V4、V5）。实际上，根据神经解剖学和生理学的研究，现在已经知道的猴皮层上至少有35个区域与视觉功能有关。视皮层和其他皮层区域一样，根据组织染色的结果以及神经元的种类与连接方式等，通常分为6层，有些层次的细胞接收皮层下区域或者其他皮层的输入，有些层次的细胞则负责向皮层下或者其他皮层输出信息。</p><p><img src="/images/research/visual-cortex/8.jpg" alt=""></p><center>图8 外侧膝状体至初级视皮层各层的投射关系、初级视皮层内部的投射关系及初级视皮层向外侧膝状体、上丘及其他皮层区域的投射关系</center><p>初级视皮层接收来自外侧膝状体的信息，然后通过V2和V3传递给V4、V5（即MT区）以及更高的脑区。有一种模型认为，整个的皮层信息处理过程由两条并行的通路完成：V1、V2、V4等组成的腹侧通路主要处理物体形状、颜色等信息；V1、V2、V5等组成的背侧通路主要负责对运动等信息的感知。当然，还有其他的模型同样来阐述视觉皮层的工作机制，它们各自都有一定的优缺点。</p><p><img src="/images/research/visual-cortex/9.jpg" alt=""></p><center>图9 视觉通路的平行处理模型。主要分为背侧通路和腹侧通路</center><p>20世纪50年代末David Hubel(1926–2013)和Torsten Wiesel(1924–)首次开展了对视皮层细胞的研究，可以说他们的探索开创了视皮层结构和功能研究的新纪元。一方面，他们大量的基础工作为视觉神经生物学的后续发展奠定了基础，描述了视觉信息在皮层水平的处理机制的模型；另一方面，他们从发育的角度对皮层功能的可塑性等方面也进行了观察和阐述。因此，他们共同获得了1981年的诺贝尔生理学或医学奖（还有另外一位科学家Roger Sperry同时获得了当年的诺贝尔生理学或医学奖）。</p><p>Hubel和Wiesel根据对视觉刺激的反应特征，在视皮层发现了多种神经元，分别叫做简单细胞、复杂细胞以及超复杂细胞。他们后续的研究以及后来大量科研工作者的实验对这些不同细胞的功能进行了深入的探索。他们的另外一项重要发现则是在视皮层中证实了之前由Vernon Mountcastle(1918–2015)根据其在躯体感觉皮层的研究提出的皮层功能柱的结构。他们的发现可以简单描述为许多具有相同特性的皮层细胞，在视皮层内按照一定的规则在空间上排列起来，这种按功能排列的皮层结构，即皮层的功能构筑，沿着皮层的不同层次呈现柱状分布，例如方向柱、方位柱、眼优势柱、空间频率柱以及颜色柱等。这一结构的形成对于皮层内感觉信息的处理具有重要的影响。</p><p><img src="/images/research/visual-cortex/10.jpg" alt=""></p><center>图10 初级视皮层功能住模型示意图。X轴代表眼优势功能柱（即柱内细胞接收左眼或右眼输入），Y轴代表方位功能柱（即柱内细胞偏好相应颜色代表的朝向）</center><p>上面这些仅仅是对视觉系统的非常基本的简单介绍，但从中我们不难发现一些在结构和功能方面的共同原则。同样地，除了那些对各个组织不同之处的继续研究之外，很多有待解决的问题也是共通的并且并不局限于视觉系统，比如对神经元在结构功能等的分类与研究、神经环路的构成、神经环路中信息的处理等，再考虑到发育、疾病以及高级功能的相关问题，基本上就涵盖了接下来可预见时期内的重要研究方向。</p><p>到这里，关于视觉系统的介绍基本就结束了。那么让我们回到最原始的问题:我们到底是如何看到外面丰富多彩的世界的。上面的介绍可以让我们大致了解其中的过程，但是对于故事的开头和结尾却并没有涉及。视网膜进行光电转换，那么为什么就获得了外界的图像信息了呢？其实，光最主要的特征就是亮度和波长，亮度代表黑白，波长则决定了颜色。所以外界物体不同位置反射的光投射到视网膜上不同的细胞上时，每个细胞获得的信息是相应的光强变化和波长，而从群体的角度来看视网膜上所有的光感受器所获得的信息就构成了视野中的明暗和颜色。至于故事的结尾，视皮层对视觉信息进行加工处理与整合后如何形成视知觉，对于这个问题的认识目前为止还比较初步，暂时可能并没有确切的答案。我们目前对于视觉系统、神经系统、生物系统的认识与曾经相比已经获得巨大的飞跃，但是还远不足以回答所有的问题，甚至于若要把我们已经了解的内容说是“冰山一角”也并不知道这样讲是否算作言过其实。但是，这也正是所有这一切的魅力所在，小至分子细胞，大至自然宇宙，好奇心通过科学的力量不断地获得满足，而这个过程又为我们不断地带来愉悦。</p><h2 id="出处"><a href="#出处" class="headerlink" title="出处"></a>出处</h2><p>　　“路漫漫其修远兮，吾将上下而求索。”</p><p><strong>作者</strong>:<a href="http://www.sibs.cas.cn/kp/kptw/201606/t20160620_4623663.html" target="_blank" rel="noopener">王博 中国科学院上海生命科学研究院神经科学研究所</a><br><strong>原文链接</strong>： <a href="http://www.sibs.cas.cn/kp/kptw/201606/t20160620_4623663.html" target="_blank" rel="noopener">http://www.sibs.cas.cn/kp/kptw/201606/t20160620_4623663.html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;“诸位的眼睛，可以观赏你们喜爱的任何一幕戏。而我不知道，到底会有多少人在观看一幕戏、一场电影或任何一个场面时，意识到让你们可以享受到色彩、美景与动感的视觉是个奇迹，并对此抱有感激之情呢？”&lt;/p&gt;
&lt;p&gt;　&lt;/p&gt;&lt;p align=&quot;right&quot;&gt;　——《假如给我三天光明》
      
    
    </summary>
    
    
      <category term="转载" scheme="http://blog.mindcont.com/tags/%E8%BD%AC%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>2016 , 我的年终总结</title>
    <link href="http://blog.mindcont.com/2017/02/16/my-review-2016/"/>
    <id>http://blog.mindcont.com/2017/02/16/my-review-2016/</id>
    <published>2017-02-16T08:27:20.000Z</published>
    <updated>2018-01-09T03:39:42.565Z</updated>
    
    <content type="html"><![CDATA[<p>转眼间，24岁我的本命年如风卷云涌般飘了过去，总感觉日子过得飞快，一不留神一年就过去了，也才想着趁现在做做年终总结，回顾一下自己的2016，并给2017的自己:heart:<strong>订个小目标</strong>:heart: 。<br><a id="more"></a></p><h2 id="比赛篇-muscle"><a href="#比赛篇-muscle" class="headerlink" title="比赛篇:muscle:"></a>比赛篇:muscle:</h2><h3 id="解魔方"><a href="#解魔方" class="headerlink" title="解魔方"></a>解魔方</h3><p>2016年寒假刚过:monkey:，我就早早地来了学校，为年前和兵哥和恒参加的一个比赛做最后的工作，并争取去珠海参加总决赛。当时做的是一个解三阶魔方的机器人，各自分工，队长兵哥做的最多，从机械结构的设计，到蓝牙模块通信，还有解算算法的优化，我和恒哥则打打下手，总算在比赛截止日提交了作品。<br><img src="/images/resources/20160306.jpg" alt=""><br>比赛方又要微信组织投票（朋友圈里小到幼儿园小朋友演出，大到省市优秀青年评选都喜欢微信投票:joy:）计入所谓的大众评分:alien:。</p><p>4月初，我们如愿以偿的:airplane:广州，兵哥带我去了华南理工见到了景海，我们围着华工转了转，传统的建筑和现代的教学楼，湖水给人的感觉很有气息，来来往往的学生和周围的环境很协调。之后我们转车到了珠海，安排入住，比赛展示和答辩，一切顺乎自然。比赛后，主办方全志科技的副总裁带我们参观了公司大楼，也给我们分享了他的创业历程，公司的定位和产品上下游链条以及公司未来的思考方向等等，总得感觉深圳和珠海的电子行业有实力也比其他地区有得天独厚的优势。</p><p>这次珠海行，对我的启发很大，无论从比赛本身还是眼界的扩展:joy:</p><h3 id="BOT计算机视觉"><a href="#BOT计算机视觉" class="headerlink" title="BOT计算机视觉"></a>BOT计算机视觉</h3><p>9月份，实验室的小涛告诉我BOT 有个计算机视觉的比赛，初赛是图片分类，让计算机预测新图片这个是猫还是狗，是选手利用卷积神经网络配合比赛主办方提供的数据集进行训练和预测，正好我们可以练练手。在余下的一个月时间里，我们就开始了不停训练、预测、提交的流程。那时候我们使用的NVIDIA K2200 4g 的显卡，用caffe 来做训练。印象中那一个月就是等待训练结果，然后下载新的预测集进行预测，提交和等待排名更新。最好的一次在12种分类中我们达到80%几，然后最高的已经到97%识别正确率了，结果显而易见我们没有进入复赛。</p><p>至于收获嘛，大体就是尝试将自己对卷积网络的理解，caffe平台的搭建，数据集的处理和网络构建和训练，最后部署预测，整个流程做了一遍。之后就是除比赛之外，我搞科研的故事了或者说我的研究方向的确定(听起来好屌的样子:laughing:)。</p><h2 id="科研篇-punch"><a href="#科研篇-punch" class="headerlink" title="科研篇:punch:"></a>科研篇:punch:</h2><p>比赛回来，转眼到了5月份，自己就开始选定研究方向了。一开始我打算利用 Kinect识别人体动作，然后和Nao robot 进行人机交互。嗯，就是打算做下面这种效果，<strong>机器人和人做同样的动作</strong>。蒽，对，我们实验室有Nao robot。</p><p><img src="/images/resources/kinect-nao.jpg" width="720"></p><p>大体的思路是：kinect 输出人体关节点，计算机将人体的动作转化为Nao robot 各个关节电机参数，利用nao robot提供的API 驱动它。</p><p>之后我就顺着这个思路开始，先了解微软官方提供的Kinect v2 sdk 到他们的<a href="https://mva.microsoft.com/zh-cn/training-courses/-kinect-for-windows-v2--8743?l=15BQDzV1_4504984382" target="_blank" rel="noopener">讲解视频</a>，然后又搜相关的开源程序和代码，慢慢得就到了<a href="https://structure.io/openni" target="_blank" rel="noopener">OpenNI</a> 和 <a href="https://openkinect.org/wiki/Main_Page/zh-hans" target="_blank" rel="noopener">openKinect</a> ，由于是 kinect v2 版本，所以当时颇费周章的弄，逐渐弄到了ubuntu平台下。下面是使用 ubuntu 下配合<a href="https://github.com/OpenKinect/libfreenect2" target="_blank" rel="noopener">libfreenect2</a>成功读取到了信息。:poop:<br><img src="/images/resources/openkinect_v2_ubuntu.png" alt=""></p><p>后面越做发现自己的编程能力不够，尤其涉及linux下 c和 c++ 相互调用还有视频的缩放和处理部分帧的问题，越往后越多的问题发现。看来一个人做不下去了，然后转变思路，就想基于depth image 做一些东西，后面就搜到了 <a href="http://vision.princeton.edu/people/shurans/" target="_blank" rel="noopener">Shuran Song</a> 的<a href="http://videolectures.net/eccv2014_song_depth_images/" target="_blank" rel="noopener">室内场景下的3D 目标检测</a>。根据她开放的数据集和代码，运行了demo如下</p><p><img src="/images/resources/reproduce-shuransong-results.jpg" alt=""></p><p>还是没思路，7月份的时候，慢慢得就走向了 <a href="http://cs231n.stanford.edu/" target="_blank" rel="noopener">卷积人工神经网络</a> 和 <a href="http://blog.mindcont.com/2017/02/15/caffe-guide-book/">Caffe: a fast open framework for deep learning</a>，就是用深度学习的方法去解决视觉方面的一些问题。先是安装 caffe,然后读了目标检测方面一些论文，动手实践了<a href="https://github.com/ShaoqingRen/faster_rcnn" target="_blank" rel="noopener">faster-rcnn</a>、<a href="http://pjreddie.com/darknet/yolo/" target="_blank" rel="noopener">YoLo</a>、<a href="https://github.com/weiliu89/caffe/tree/ssd" target="_blank" rel="noopener">SSD</a>等。下面是faster-rcnn 当时运行的demo</p><p><img src="/images/resources/faster-rcnn.png" alt=""></p><p>9月份-10月份 参加了上海BOT大数据应用大赛是国内首个专业化AI大赛，“计算机视觉” 类的题目，见上面第二个比赛。11月初就开始弄开题报告，当时定的题目是<strong>复杂场景下的交通信号灯识别研究</strong>。思路是：近年来卷积神经网络方面一些新的网络模型和传统的图形学方法模板匹配和色域转换相结合来解决这个问题，其中清华大学<a href="http://cg.cs.tsinghua.edu.cn/traffic-sign/" target="_blank" rel="noopener">朱哲</a>博士的论文<a href="http://cg.cs.tsinghua.edu.cn/traffic-sign/0682.pdf" target="_blank" rel="noopener">Traffic-Sign Detection and Classification in the Wild</a>给了我很大的启发，多次向他发邮件，都给予了回答和解释在此向他表示感谢。</p><p>下面是两个当时答辩做的PPT<br><img src="/images/resources/tlr-research-status.jpg" alt=""></p><p>拟研究思路，可能有理论问题，不要被我带入坑:stuck_out_tongue_winking_eye:<br><img src="/images/resources/idea-of-traffic-signal-recognition.jpg" alt=""></p><p>答辩完,我们组组长zhou老大说这个问题和实验室大方向不符合:joy:,让我换到人体姿态估计上,类似下面这种识别人体姿势的效果，于是我就开始了这方面的学习:dog:。</p><p><img src="/images/resources/amdo2012andriluka.jpg" align="right" width="720"></p><p align="right">图片来源 Brown University Computer Science</p><h2 id="小目标-baby-chick-baby-chick-baby-chick"><a href="#小目标-baby-chick-baby-chick-baby-chick" class="headerlink" title="小目标:baby_chick::baby_chick::baby_chick:"></a>小目标:baby_chick::baby_chick::baby_chick:</h2><p>2017 年的钟声又响啦，和全国人民一样撸起袖子，加油干。先立个flag吧，先定它个小目标。</p><ul><li style="list-style: none"><input type="checkbox" checked> 弄出实验结果:frog:</li><li style="list-style: none"><input type="checkbox" checked> 发表文章，完成毕业要求:penguin:</li><li style="list-style: none"><input type="checkbox" checked> 早睡，早起，要锻炼:ant:</li><li style="list-style: none"><input type="checkbox" checked> 补充短板，找实习:wolf:</li><li style="list-style: none"><input type="checkbox" checked> 提高博客质量:whale2:</li><li style="list-style: none"><input type="checkbox" checked> 维护主网站，找准特色，极客范:palm_tree:</li></ul><p><strong>现在是2017年2月17号 15点20分，坐在保守估计7万块电脑旁写下了这篇文章，马上就会更新上去了</strong>:smiley:</p><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p><a href="http://www.webpagefx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener">EMOJI CHEAT SHEET</a></p><p>作者:<a href="https://github.com/mindcont" target="_blank" rel="noopener">mindcont</a>  2017-02-17 第一次编辑<br><strong>转载注明出处 <a href="http://blog.mindcont.com/2017/02/16/my-review-2016/">http://blog.mindcont.com/2017/02/16/my-review-2016/</a></strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;转眼间，24岁我的本命年如风卷云涌般飘了过去，总感觉日子过得飞快，一不留神一年就过去了，也才想着趁现在做做年终总结，回顾一下自己的2016，并给2017的自己:heart:&lt;strong&gt;订个小目标&lt;/strong&gt;:heart: 。&lt;br&gt;
    
    </summary>
    
      <category term="随笔日记" scheme="http://blog.mindcont.com/categories/%E9%9A%8F%E7%AC%94%E6%97%A5%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>值得传播的思想</title>
    <link href="http://blog.mindcont.com/2017/02/15/ideas-worth-spreading/"/>
    <id>http://blog.mindcont.com/2017/02/15/ideas-worth-spreading/</id>
    <published>2017-02-15T08:50:13.000Z</published>
    <updated>2018-01-09T02:31:08.803Z</updated>
    
    <content type="html"><![CDATA[<p>倾听来自全球各行业人的所思所感，从科学家、企业家、政治家、艺术家，抑或是自由职业者，公益人士的演讲，仿佛漫天璀璨的繁星照亮我们的世界。认识到不同种族，不同国界、不同宗教以及在它们交织之下人们的生活和误解，学会包容它们。一手握着历史，一手看着现在，周天罗宇就在我们的思想里。<br><a id="more"></a><br><img src="https://s3-eu-west-1.amazonaws.com/images.fespa.com/ted-Luther-King.jpg" alt=""></p><h2 id="TED"><a href="#TED" class="headerlink" title="TED"></a>TED</h2><p>TED（指Technology, Entertainment 和Design的英文缩写）是全球最大，最具影响力的演讲平台。TED讲师是来自全球各行业的领军人物，包括科学家，企业家，政治家，艺术家等。<a href="https://www.ted.com" target="_blank" rel="noopener">https://www.ted.com</a></p><p>伟大演讲的奥秘 | TED总教头Chris Anderson</p><object width="640" height="400"><param name="movie" value="http://swf.ws.126.net/openplayer/v02/-0-2_MBLAG3QFA_MBLAGECJN-vimg1_ws_126_net//image/snapshot_movie/2016/5/J/O/MBLAGECJO-1423031805654.swf?isTEDPlay=1"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"><embed src="http://swf.ws.126.net/openplayer/v02/-0-2_MBLAG3QFA_MBLAGECJN-vimg1_ws_126_net//image/snapshot_movie/2016/5/J/O/MBLAGECJO-1423031805654.swf?isTEDPlay=1" type="application/x-shockwave-flash" width="640" height="360" allowfullscreen="true" wmode="transparent" allowscriptaccess="always"></object><p>用超级计算机构造大脑</p><object width="640" height="400"><param name="movie" value="http://swf.ws.126.net/openplayer/v02/-0-2_M7A12OCLQ_M7A132PK2-vimg1_ws_126_net//image/snapshot_movie/2013/11/F/V/M9DP571FV-1423031805654.swf?isTEDPlay=1"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"><embed src="http://swf.ws.126.net/openplayer/v02/-0-2_M7A12OCLQ_M7A132PK2-vimg1_ws_126_net//image/snapshot_movie/2013/11/F/V/M9DP571FV-1423031805654.swf?isTEDPlay=1" type="application/x-shockwave-flash" width="640" height="360" allowfullscreen="true" wmode="transparent" allowscriptaccess="always"></object><p>李飞飞：如何教计算机理解图片</p><object width="640" height="400"><param name="movie" value="http://swf.ws.126.net/openplayer/v02/-0-2_MAKN9A24M_MAKN9QAQR-vimg1_ws_126_net//image/snapshot_movie/2015/3/Q/Q/MAKN9Q1QQ-1423031805654.swf?isTEDPlay=1"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"><embed src="http://swf.ws.126.net/openplayer/v02/-0-2_MAKN9A24M_MAKN9QAQR-vimg1_ws_126_net//image/snapshot_movie/2015/3/Q/Q/MAKN9Q1QQ-1423031805654.swf?isTEDPlay=1" type="application/x-shockwave-flash" width="640" height="360" allowfullscreen="true" wmode="transparent" allowscriptaccess="always"></object><p>Linux 操作系统之父 | Linus Torvalds</p><object width="640" height="400"><param name="movie" value="http://swf.ws.126.net/openplayer/v02/-0-2_MBPNHJU6K_MBR358639-vimg1_ws_126_net//image/snapshot_movie/2016/7/3/A/MBR35863A-1423031805654.swf?isTEDPlay=1"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"><embed src="http://swf.ws.126.net/openplayer/v02/-0-2_MBPNHJU6K_MBR358639-vimg1_ws_126_net//image/snapshot_movie/2016/7/3/A/MBR35863A-1423031805654.swf?isTEDPlay=1" type="application/x-shockwave-flash" width="640" height="480" allowfullscreen="true" wmode="transparent" allowscriptaccess="always"></object><p>谷歌创始人展示谷歌眼镜</p><object width="640" height="400"><param name="movie" value="http://swf.ws.126.net/openplayer/v02/-0-2_M8VU1HC4K_M8VU1OJSV-vimg1_ws_126_net//image/snapshot_movie/2013/6/Q/A/M8VU1OFQA-1423031805654.swf?isTEDPlay=1"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"><embed src="http://swf.ws.126.net/openplayer/v02/-0-2_M8VU1HC4K_M8VU1OJSV-vimg1_ws_126_net//image/snapshot_movie/2013/6/Q/A/M8VU1OFQA-1423031805654.swf?isTEDPlay=1" type="application/x-shockwave-flash" width="640" height="360" allowfullscreen="true" wmode="transparent" allowscriptaccess="always"></object><p>用每一个灯泡传输无线信号</p><object width="640" height="400"><param name="movie" value="http://swf.ws.126.net/openplayer/v02/-0-2_M84Q05PLI_M84Q08V5P-vimg1_ws_126_net//image/snapshot_movie/2013/11/A/G/M9DOS4GAG-1423031805654.swf?isTEDPlay=1"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"><embed src="http://swf.ws.126.net/openplayer/v02/-0-2_M84Q05PLI_M84Q08V5P-vimg1_ws_126_net//image/snapshot_movie/2013/11/A/G/M9DOS4GAG-1423031805654.swf?isTEDPlay=1" type="application/x-shockwave-flash" width="640" height="360" allowfullscreen="true" wmode="transparent" allowscriptaccess="always"></object><p>巧妙地观察人类</p><object width="640" height="400"><param name="movie" value="http://swf.ws.126.net/openplayer/v02/-0-2_M7929LSTQ_M792A9M8H-vimg1_ws_126_net//image/snapshot_movie/2013/11/R/Q/M9DP53ORQ-1423031805654.swf?isTEDPlay=1"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"><embed src="http://swf.ws.126.net/openplayer/v02/-0-2_M7929LSTQ_M792A9M8H-vimg1_ws_126_net//image/snapshot_movie/2013/11/R/Q/M9DP53ORQ-1423031805654.swf?isTEDPlay=1" type="application/x-shockwave-flash" width="640" height="360" allowfullscreen="true" wmode="transparent" allowscriptaccess="always"></object><h2 id="一席｜人文-科技-白日梦"><a href="#一席｜人文-科技-白日梦" class="headerlink" title="一席｜人文.科技.白日梦"></a>一席｜人文.科技.白日梦</h2><p>听君一席话，胜读十年书。（Get Inspired） 一席鼓励分享见解、体验和对未来的想象，做有价值的传播。<br><a href="http://www.yixi.tv" target="_blank" rel="noopener">http://www.yixi.tv</a></p><p>胡玮炜 | “膜拜”单车</p><embed src="http://player.youku.com/player.php/sid/XMTg3NjMwMjkxMg==/v.swf" allowfullscreen="true" quality="high" width="640" height="400" align="middle" allowscriptaccess="always" type="application/x-shockwave-flash"><p>宁博 | 未来农业会是什么样</p><embed src="http://player.youku.com/player.php/sid/XMTg1MjAyNTA1Ng==/v.swf" allowfullscreen="true" quality="high" width="640" height="400" align="middle" allowscriptaccess="always" type="application/x-shockwave-flash"><p>青山周平 | 未来的家</p><embed src="http://player.youku.com/player.php/sid/XMTczMDkzOTU5Mg==/v.swf" allowfullscreen="true" quality="high" width="640" height="400" align="middle" allowscriptaccess="always" type="application/x-shockwave-flash"><p>肖全 | 我们这一代</p><embed src="http://player.youku.com/player.php/sid/XMTYxMTIyNTA0MA==/v.swf" allowfullscreen="true" quality="high" width="640" height="400" align="middle" allowscriptaccess="always" type="application/x-shockwave-flash"><h2 id="「一刻talks」"><a href="#「一刻talks」" class="headerlink" title="「一刻talks」"></a>「一刻talks」</h2><p>「一刻talks」正在邀请世界上的思想领袖与实干家来分享他们的事业、故事创意和想法，这些来自世界各地不同领域的专业人才和深藏不露的绝妙素人，将带来极具前瞻性的话题，把思想精华浓缩在15分钟，讲述知识与创意的精髓，碰撞思想的火花。目前已累积1500则以上的精彩演讲，主题包罗万象，科学家、艺术家、哲学家、探险家、心理学家、商业领袖等各路有想法的人纷纷登台，观点“响亮”，要给世界一点言色！<br><a href="http://www.yiketalks.com/" target="_blank" rel="noopener">http://www.yiketalks.com/</a></p><p>剪线钳</p><object width="1190" height="513"><param name="movie" value="//share.vrs.sohu.com/my/v.swf&topBar=1&id=87364082&autoplay=false&from=page"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><param name="wmode" value="Transparent"><embed width="640" height="400" wmode="Transparent" allowfullscreen="true" allowscriptaccess="always" quality="high" src="//share.vrs.sohu.com/my/v.swf&topBar=1&id=87364082&autoplay=false&from=page" type="application/x-shockwave-flash"></object><p>能解开一切魔方的简单诀窍</p><object width="1190" height="513"><param name="movie" value="//share.vrs.sohu.com/my/v.swf&topBar=1&id=87421281&autoplay=false&from=page"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><param name="wmode" value="Transparent"><embed width="640" height="400" wmode="Transparent" allowfullscreen="true" allowscriptaccess="always" quality="high" src="//share.vrs.sohu.com/my/v.swf&topBar=1&id=87421281&autoplay=false&from=page" type="application/x-shockwave-flash"></object><h2 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h2><p><a href="www.ted.com">TED: Ideas worth spreading</a><br><a href="open.163.com">网易公开课 | 传播属于全人类的知识和智慧</a><br><a href="www.yixi.tv">一席｜人文.科技.白日梦</a><br><a href="http://www.yiketalks.com/" target="_blank" rel="noopener">一刻talks 思想好声音·全球创见者分享平台</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;倾听来自全球各行业人的所思所感，从科学家、企业家、政治家、艺术家，抑或是自由职业者，公益人士的演讲，仿佛漫天璀璨的繁星照亮我们的世界。认识到不同种族，不同国界、不同宗教以及在它们交织之下人们的生活和误解，学会包容它们。一手握着历史，一手看着现在，周天罗宇就在我们的思想里。&lt;br&gt;
    
    </summary>
    
      <category term="随笔日记" scheme="http://blog.mindcont.com/categories/%E9%9A%8F%E7%AC%94%E6%97%A5%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>Caffe 入门指南</title>
    <link href="http://blog.mindcont.com/2017/02/15/caffe-guide-book/"/>
    <id>http://blog.mindcont.com/2017/02/15/caffe-guide-book/</id>
    <published>2017-02-15T08:22:46.000Z</published>
    <updated>2018-01-09T02:17:55.758Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/research/caffe/caffe.jpg" alt=""><br><a id="more"></a></p><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><a href="http://caffe.berkeleyvision.org/" target="_blank" rel="noopener">Caffe</a>是一个清晰而高效的深度学习的框架，其作者是博士毕业于UC Berkeley的<a href="http://daggerfs.com/" target="_blank" rel="noopener">贾扬清</a>，目前在Google工作。<br><a href="http://caffe.berkeleyvision.org/" target="_blank" rel="noopener">Caffe</a>是纯粹的C++/CUDA架构，支持命令行、Python和MATLAB接口；可以在CPU和GPU54直接无缝切换：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Caffe::set_mode(Caffe::GPU);</span><br></pre></td></tr></table></figure></p><p><strong>Caffe的优势</strong></p><ul><li>上手快：模型与相应优化都是以文本形式而非代码形式给出。</li><li>Caffe给出了模型的定义、最优化设置以及预训练的权重，方便立即上手。</li><li>速度快：能够运行最棒的模型与海量的数据。</li><li>Caffe与cuDNN结合使用，测试AlexNet模型，在K40上处理每张图片只需要1.17ms.</li><li>模块化：方便扩展到新的任务和设置上。</li><li>可以使用Caffe提供的各层类型来定义自己的模型。</li><li>开放性：公开的代码和参考模型用于再现。</li><li>社区好：可以通过BSD-2参与开发与讨论。</li></ul><p><a href="https://caffe2.ai/" target="_blank" rel="noopener">Caffe2</a> 一个新的轻量级，模块化和可扩展的深度学习框架，由 NVIDIA和Facebook团队重新打造并在<a href="https://github.com/caffe2/caffe2" target="_blank" rel="noopener">github</a>上开源，Caffe2允许开发人员和研究人员创建大规模分布式训练场景和构建边缘设备机器学习应用。</p><h2 id="入门篇"><a href="#入门篇" class="headerlink" title="入门篇"></a>入门篇</h2><p>推荐先阅读<a href="http://www.cnblogs.com/mengfanrong/p/5169548.html" target="_blank" rel="noopener">一文读懂机器学习</a></p><p>前期入门主要根据自己的机器（nvidia显卡）完成Caffe 的安装，运行 <a href="http://caffe.berkeleyvision.org/" target="_blank" rel="noopener">Caffe官网</a>和  <a href="https://github.com/bvlc/caffe" target="_blank" rel="noopener">github</a> repo 上的<strong>例程</strong>。</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>安装请仔细阅读下面的中文教程，<strong>编译中遇到的错误</strong>请在 github issues用英文仔细查看错误原因。而且大部分都是<strong>环境依赖，路径错误</strong>。</p><ul><li><a href="http://blog.mindcont.com/2016/07/20/ubuntu1404-caffe-r3-cuda7-5-mkl/">Ubuntu 14.04 64bit + Caffe rc3 + CUDA 7.5 + Intel MKL 配置说明</a></li><li><a href="http://caffe.berkeleyvision.org/installation.html" target="_blank" rel="noopener">Installation</a></li><li><a href="https://github.com/bvlc/caffe/issues" target="_blank" rel="noopener">issues</a></li></ul><h3 id="例程"><a href="#例程" class="headerlink" title="例程"></a>例程</h3><p>配合官方文档 例如mnist 手写体识别，其文档在 $CAFFE_ROOT/examples/mnist/Readme.md ，运行并理解其流程。尤其以下面几个最为重要，当细细品味。</p><table><thead><tr><th>例程名</th><th>实现</th><th>学习意义</th></tr></thead><tbody><tr><td>LeNet MNIST</td><td><a href="https://blog.mindcont.com/2017/04/25/how-to-do-mnist-demo/">手写数字识别</a></td><td>理解模型</td></tr><tr><td>CaffeNet C++ Classification example</td><td>c++ 代码实现图片分类</td><td>理解如何用c++ 调用caffe</td></tr><tr><td>Fine-tuning for style recognition</td><td>根据自己数据集微调模型</td><td>迁移学习，构建自己数据集，微调模型</td></tr><tr><td>Web demo</td><td>基于web 网页的图片分类</td><td>如何构建 client /server</td></tr></tbody></table><h3 id="入门书籍"><a href="#入门书籍" class="headerlink" title="入门书籍"></a>入门书籍</h3><p>如果链接失效，可以访问 <a href="https://cloud.mindcont.com/d/34d8cdb853a54a2d90d3/?p=/ai/caffe%E5%85%A5%E9%97%A8&amp;mode=list" target="_blank" rel="noopener">https://share.mindcont.com</a> 获取。</p><ul><li><a href="http://pan.baidu.com/s/1c0Ri2Py#path=%252FCaffeCN%25E7%25BF%25BB%25E8%25AF%2591" target="_blank" rel="noopener">Caffe 官方教程中译本</a></li><li><a href="https://book.douban.com/subject/26825082/" target="_blank" rel="noopener">深度学习21天实战Caffe-赵永科</a></li><li><a href="https://cloud.mindcont.com/d/34d8cdb853a54a2d90d3/files/?p=/ai/caffe%E5%85%A5%E9%97%A8/caffe%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.pdf" target="_blank" rel="noopener">薛开宇-caffe学习笔记</a></li><li><a href="http://pan.baidu.com/s/1hq8IoHe" target="_blank" rel="noopener">贾扬清-DIY Deep Learning for Vision-  a Hands-On Tutorial with Caffe</a></li></ul><h3 id="答疑社区"><a href="#答疑社区" class="headerlink" title="答疑社区"></a>答疑社区</h3><ul><li><a href="http://caffecn.cn/" target="_blank" rel="noopener">Caffe 中文社区</a></li><li><a href="">Caffe 深度学习交流2群 534492004</a></li><li><a href="https://gitter.im/BVLC/caffe" target="_blank" rel="noopener">Caffe 讨论组</a></li><li><a href="http://valser.org/" target="_blank" rel="noopener">Valse 视觉与学习青年研讨会</a></li><li><a href="">VALSE-D群 481109645</a></li><li><a href="http://valser.org/article-86-1.html" target="_blank" rel="noopener">历次VALSE Webinar活动的录像</a></li></ul><h2 id="进阶篇"><a href="#进阶篇" class="headerlink" title="进阶篇"></a>进阶篇</h2><p>这里推荐一个很好的实践入门教程，使用python 和 caffe 进行了一个完整的流程，内容详实，可谓理论与实践兼备，不可多得。</p><ul><li><a href="http://adilmoujahid.com/posts/2016/06/introduction-deep-learning-python-caffe/" target="_blank" rel="noopener">A Practical Introduction to Deep Learning with Caffe and Python</a></li><li><a href="https://blog.mindcont.com/2017/01/05/machine-learning-for-software-engineers/">自上而下的学习路线-软件工程师的机器学习</a></li></ul><h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><h4 id="视觉方向"><a href="#视觉方向" class="headerlink" title="视觉方向"></a>视觉方向</h4><p>视觉方面大致有针对图像的分类、分割(Segmentation)、理解(caption)，超分辨，去噪去模糊，以及针对物体的目标识别、检测和追踪。还有就是对视频信息进行同样的工作追求实时和可用。</p><table><thead><tr><th>图片分类</th><th>–</th></tr></thead><tbody><tr><td><a href="https://github.com/terrychenism/ResNeXt" target="_blank" rel="noopener">ResNet-v3</a></td><td><a href="https://github.com/terrychenism/ResNeXt" target="_blank" rel="noopener">https://github.com/terrychenism/ResNeXt</a></td></tr><tr><td><a href="https://github.com/liuzhuang13/DenseNet" target="_blank" rel="noopener">denseNet</a></td><td><a href="https://github.com/liuzhuang13/DenseNet" target="_blank" rel="noopener">https://github.com/liuzhuang13/DenseNet</a></td></tr><tr><td><a href="https://github.com/KaimingHe/deep-residual-networks" target="_blank" rel="noopener">Deep Residual Networks</a></td><td><a href="https://github.com/KaimingHe/deep-residual-networks" target="_blank" rel="noopener">https://github.com/KaimingHe/deep-residual-networks</a></td></tr><tr><td><a href="https://github.com/flukeskywalker/highway-networks" target="_blank" rel="noopener">Highway Networks</a></td><td><a href="https://github.com/flukeskywalker/highway-networks" target="_blank" rel="noopener">https://github.com/flukeskywalker/highway-networks</a></td></tr><tr><td><a href="https://github.com/songhan/Deep-Compression-AlexNet" target="_blank" rel="noopener">Deep-Compression-AlexNet</a></td><td><a href="https://github.com/songhan/Deep-Compression-AlexNet" target="_blank" rel="noopener">https://github.com/songhan/Deep-Compression-AlexNet</a></td></tr><tr><td><a href="https://github.com/DeepScale/SqueezeNet" target="_blank" rel="noopener">SqueezeNet</a></td><td><a href="https://github.com/DeepScale/SqueezeNet" target="_blank" rel="noopener">https://github.com/DeepScale/SqueezeNet</a></td></tr><tr><td><a href="https://github.com/lim0606/caffe-googlenet-bn" target="_blank" rel="noopener">GoogleNet-V2</a></td><td><a href="https://github.com/lim0606/caffe-googlenet-bn" target="_blank" rel="noopener">https://github.com/lim0606/caffe-googlenet-bn</a></td></tr></tbody></table><table><thead><tr><th>目标检测</th><th>–</th></tr></thead><tbody><tr><td><a href="https://github.com/sanghoon/pva-faster-rcnn" target="_blank" rel="noopener">PVANet</a></td><td><a href="https://github.com/sanghoon/pva-faster-rcnn" target="_blank" rel="noopener">https://github.com/sanghoon/pva-faster-rcnn</a></td></tr><tr><td><a href="https://github.com/Orpine/py-R-FCN" target="_blank" rel="noopener">R-FCN</a></td><td><a href="https://github.com/Orpine/py-R-FCN" target="_blank" rel="noopener">https://github.com/Orpine/py-R-FCN</a></td></tr><tr><td><a href="https://github.com/weiliu89/caffe/tree/ssd" target="_blank" rel="noopener">SSD: Single Shot MultiBox Detector</a></td><td><a href="https://github.com/weiliu89/caffe/tree/ssd" target="_blank" rel="noopener">https://github.com/weiliu89/caffe/tree/ssd</a></td></tr><tr><td><a href="https://github.com/xingwangsfu/caffe-yolo" target="_blank" rel="noopener">YOLO in caffe</a></td><td><a href="https://github.com/xingwangsfu/caffe-yolo" target="_blank" rel="noopener">https://github.com/xingwangsfu/caffe-yolo</a></td></tr><tr><td><a href="https://github.com/weichengkuo/DeepBox" target="_blank" rel="noopener">DeepBox</a></td><td><a href="https://github.com/weichengkuo/DeepBox" target="_blank" rel="noopener">https://github.com/weichengkuo/DeepBox</a></td></tr><tr><td><a href="https://github.com/rbgirshick/py-faster-rcnn" target="_blank" rel="noopener">Faster R-CNN</a></td><td><a href="https://github.com/rbgirshick/py-faster-rcnn" target="_blank" rel="noopener">https://github.com/rbgirshick/py-faster-rcnn</a></td></tr><tr><td><a href="https://github.com/rbgirshick/fast-rcnn" target="_blank" rel="noopener">Fast R-CNN</a></td><td><a href="https://github.com/rbgirshick/fast-rcnn" target="_blank" rel="noopener">https://github.com/rbgirshick/fast-rcnn</a></td></tr></tbody></table><h4 id="自然语言处理"><a href="#自然语言处理" class="headerlink" title="自然语言处理"></a>自然语言处理</h4><p>将机器学习用于语音文本，词汇方面的工作，典型应用机器翻译。</p><ul><li><a href="https://github.com/Russell91/nlpcaffe" target="_blank" rel="noopener">NLP-Caffe</a></li><li><a href="http://city.shaform.com/blog/2015/06/06/caffe-sentiment-analysis.html" target="_blank" rel="noopener">Sentiment Analysis</a></li></ul><h4 id="语音"><a href="#语音" class="headerlink" title="语音"></a>语音</h4><p>这里是指语言片段的识别，拼接，以及仿声合成，典型语音识别，也就是科大讯飞所作的工作。</p><ul><li><a href="https://github.com/pannous/caffe-speech-recognition" target="_blank" rel="noopener">Speech Recognition</a></li><li><a href="https://github.com/kaldi-asr/kaldi" target="_blank" rel="noopener">Kaldi</a></li><li><a href="http://www.xfyun.cn/index.php/default/doccenter/doccenterInner?itemTitle=anN3ZA==" target="_blank" rel="noopener">技术文档-讯飞</a></li></ul><p>更多访问 <a href="https://github.com/MichaelXin/Awesome-Caffe" target="_blank" rel="noopener">MichaelXin - Awesome-Caffe</a></p><h3 id="CS231N-课程"><a href="#CS231N-课程" class="headerlink" title="CS231N 课程"></a>CS231N 课程</h3><p>有了前面的初步了解，认识了什么是深度学习，什么是caffe，怎么使用caffe，以及caffe能够干什么，想要进一步的学习还要了解卷积神经网络的前世今生。我推荐斯坦福大学的CS231N 课程作为卷积神经网络的系统学习。</p><ul><li><a href="http://cs231n.stanford.edu/" target="_blank" rel="noopener">CS231n: Convolutional Neural Networks for Visual Recognition</a></li><li><a href="http://pan.baidu.com/s/1pKsTivp" target="_blank" rel="noopener">视频和课件</a></li><li><a href="http://cs231n.stanford.edu/project.html" target="_blank" rel="noopener">课程资源</a></li><li><a href="http://blog.csdn.net/dinosoft/article/details/51813615" target="_blank" rel="noopener">深度学习斯坦福cs231n 课程笔记</a></li><li><a href="https://zhuanlan.zhihu.com/intelligentunit?topic=%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%EF%BC%88Deep%20Learning%EF%BC%89" target="_blank" rel="noopener">智能单元-深度学习-cs231n 中文笔记</a></li><li><a href="http://deeplearning.stanford.edu/wiki/index.php/UFLDL%E6%95%99%E7%A8%8B" target="_blank" rel="noopener">UFLDL教程</a></li><li><a href="http://openclassroom.stanford.edu/MainFolder/CoursePage.php?course=MachineLearning" target="_blank" rel="noopener">Machine Learning</a></li></ul><h3 id="数据集"><a href="#数据集" class="headerlink" title="数据集"></a>数据集</h3><p>机器学习有人工标注数据的监督学习也好，没有人工标注数据的无监督学习以及介于两者之间的半监督学习也好，归根结底离不开大量的数据，基于各种各样场景下的问题性质，大家构建了相应的人工标注的数据集，一部分用于网络训练，让机器进行学习，另一部分用来做测试评价学习效果的好坏。</p><p>鉴于各式各样的数据集种类繁多，此部分单独列为一个页面，请参考下面的链接。</p><ul><li><a href="http://blog.mindcont.com/2016/09/13/Deep-learning-dataset/">深度学习：数据集篇</a></li></ul><p>标注工具</p><ul><li><a href="https://github.com/tzutalin/labelImg" target="_blank" rel="noopener">LabelImg</a></li><li><a href="https://github.com/puzzledqs/BBox-Label-Tool" target="_blank" rel="noopener">BBox-Label-Tool</a></li><li><a href="https://github.com/christopher5106/FastAnnotationTool" target="_blank" rel="noopener">FastAnnotationTool</a></li></ul><h3 id="博客"><a href="#博客" class="headerlink" title="博客"></a>博客</h3><p>推荐一些好的博客，工程方面能让你解决某个具体问题能有所启发，而学术方面则可以让你紧跟业界最新潮流，这其中又分为学者个人的博客和著名科研单位的博客。</p><p>工程方面</p><ul><li><a href="http://tech.meituan.com/mt-mlinaction-how-to-ml.html" target="_blank" rel="noopener">实例详解机器学习如何解决问题</a></li><li><a href="http://www.cnblogs.com/louyihang-loves-baiyan/" target="_blank" rel="noopener">楼燚(yì)航的blog</a></li><li><a href="http://blog.csdn.net/liumaolincycle/article/category/5705161" target="_blank" rel="noopener">liumaolincycle的博客</a></li><li><a href="http://www.cnblogs.com/denny402" target="_blank" rel="noopener">denny的学习专栏</a></li><li><a href="https://console.faceplusplus.com/documents/5679308" target="_blank" rel="noopener">Face++ -API</a></li></ul><p>学术探索<br>个人</p><ul><li><a href="http://www.rossgirshick.info/" target="_blank" rel="noopener">Ross Girshick - Facebook AI Research</a></li><li><a href="http://www.ee.cuhk.edu.hk/~xgwang/" target="_blank" rel="noopener">Xiaogang Wang - CUHK</a></li><li><a href="http://cs.stanford.edu/people/karpathy/" target="_blank" rel="noopener">Andrej Karpathy - Stanford Computer Science Ph.D. student</a></li><li><a href="http://rodrigob.github.io/#code" target="_blank" rel="noopener">Rodrigo Benenson</a></li></ul><p>单位和组织</p><ul><li><a href="http://www.valser.org/" target="_blank" rel="noopener">视觉与学习青年学者研讨会</a></li><li><a href="http://vision.ouc.edu.cn/valse/" target="_blank" rel="noopener">历次活动录像下载地址</a></li><li><a href="http://www.cv-foundation.org/openaccess/menu.py" target="_blank" rel="noopener">CVPR</a></li><li><a href="https://zhuanlan.zhihu.com/dlclass" target="_blank" rel="noopener">深度学习大讲堂</a></li><li><a href="https://www.jiqizhixin.com/" target="_blank" rel="noopener">机器之心</a></li><li><a href="https://memect.com/" target="_blank" rel="noopener">机器学习日报</a></li><li><a href="https://www2.eecs.berkeley.edu/Research/Projects/CS/vision/" target="_blank" rel="noopener">Berkeley Computer Vision Group</a></li><li><a href="http://vision.stanford.edu/" target="_blank" rel="noopener">Stanford Vision Lab</a></li><li><a href="http://vision.princeton.edu/" target="_blank" rel="noopener">Princeton Vision &amp; Robotics Labs</a></li><li><a href="http://www.robots.ox.ac.uk/~parg/home" target="_blank" rel="noopener">Oxford - Information Engineering</a></li><li><a href="https://ps.is.tuebingen.mpg.de/publications" target="_blank" rel="noopener">Max Planck Institute for Intelligent Systems</a></li><li><a href="https://openai.com/blog/" target="_blank" rel="noopener">OpenAI</a></li></ul><p>竞赛</p><ul><li><a href="https://www.kaggle.com" target="_blank" rel="noopener">kaggle</a></li><li><a href="https://tianchi.aliyun.com/" target="_blank" rel="noopener">阿里云天池</a></li></ul><h3 id="微调网络"><a href="#微调网络" class="headerlink" title="微调网络"></a>微调网络</h3><ul><li><a href="http://www.cnblogs.com/louyihang-loves-baiyan/p/5038758.html" target="_blank" rel="noopener">楼燚(yì)航的blog-Caffe fine-tuning 微调网络</a></li><li><a href="http://blog.csdn.net/sinat_30071459/article/details/51613304" target="_blank" rel="noopener">小咸鱼_-基于caffe的图像分类(1)——制作train.txt和val.txt文件</a></li></ul><h3 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h3><p>用反卷积的方法对自己的网络的各个卷积层进行可视化，能更好的理解你的网络每层学习到那些特征，思考到网络可能进入了哪些误区。</p><ul><li>deep-visualization-toolbox <a href="https://github.com/yosinski/deep-visualization-toolbox" target="_blank" rel="noopener">code</a> <a href="http://arxiv.org/abs/1506.06579" target="_blank" rel="noopener">paper</a></li><li><a href="https://github.com/auduno/deepdraw" target="_blank" rel="noopener">DeepDraw</a></li><li><a href="http://ethereon.github.io/netscope/#/editor" target="_blank" rel="noopener">netscope</a></li></ul><h3 id="全卷积-FCN"><a href="#全卷积-FCN" class="headerlink" title="全卷积(FCN)"></a>全卷积(FCN)</h3><p>FCN将传统CNN中的全连接层转化成一个个的卷积层。在传统的CNN结构中，前5层是卷积层，第6层和第7层分别是一个长度为4096的一维向量，第8层是长度为1000的一维向量，分别对应1000个类别的概率。FCN将这3层表示为卷积层，卷积核的大小(通道数，宽，高)分别为（4096,1,1）、（4096,1,1）、（1000,1,1）。所有的层都是卷积层，故称为全卷积网络。</p><ul><li><a href="http://blog.csdn.net/taigw/article/details/51401448" target="_blank" rel="noopener">全卷积网络（FCN）与图像分割</a></li><li><a href="https://zhuanlan.zhihu.com/p/22976342" target="_blank" rel="noopener">FCN学习:Semantic Segmentation</a></li></ul><h3 id="扩展新layer"><a href="#扩展新layer" class="headerlink" title="扩展新layer"></a>扩展新layer</h3><p>加入一个新的层，满足自己的实际需求，最常见的就是修改 数据输入层DataLayer,增加一个新的、特殊的数据类型，也对应你特殊的数据处理方式，例如对图像进行每隔几度进行旋转，resize、crop、使用光流图像等。也可以换种思路看看别人是如何增加一个新的Layer的，从中获得启发。</p><ul><li><a href="http://blog.csdn.net/sunshine_in_moon/article/details/51453951" target="_blank" rel="noopener">Sunshine_in_Moon的专栏-Caffe扩展新层</a></li></ul><h2 id="高级篇"><a href="#高级篇" class="headerlink" title="高级篇"></a>高级篇</h2><h3 id="调参"><a href="#调参" class="headerlink" title="调参"></a>调参</h3><p>深度学习，卷积神经网络莫过于一个适应于数据集规模，能够反映问题本质的网络，剩下的就是调参的事情了，无外乎实践，实践，再实践。当然机器很重要，好的机器，好的显卡，意味着快速迭代！机器不够用也没关系，那就要把理论功夫做足，参考成熟的网络设计，再前人的工作基础之上fine-tuning,往往比你自己训练要好的多。使用image-net数据集训练得到的caffemodel 就是一个很好的权值初始化参数。</p><ul><li><a href="https://www.zhihu.com/question/41631631/answer/94816420" target="_blank" rel="noopener">你有哪些deep learning（rnn、cnn）调参的经验？</a></li></ul><p>构造网络</p><ul><li><a href="https://github.com/jay-mahadeokar/pynetbuilder" target="_blank" rel="noopener">pynetbuilder</a></li></ul><h3 id="转化"><a href="#转化" class="headerlink" title="转化"></a>转化</h3><ul><li><a href="https://github.com/ethereon/caffe-tensorflow" target="_blank" rel="noopener">caffe-tensorflow</a></li><li><a href="https://github.com/kitofans/caffe-theano-conversion" target="_blank" rel="noopener">caffe-theano-conversion</a></li><li><a href="https://github.com/MarcBS/keras" target="_blank" rel="noopener">CaffeToKeras</a></li></ul><h3 id="分布式计算"><a href="#分布式计算" class="headerlink" title="分布式计算"></a>分布式计算</h3><ul><li><a href="https://github.com/amplab/SparkNet" target="_blank" rel="noopener">SparkNet</a></li><li><a href="https://github.com/yahoo/CaffeOnSpark" target="_blank" rel="noopener">CaffeOnSpark</a></li><li><a href="https://github.com/petuum/bosen" target="_blank" rel="noopener">petuum/bosen </a></li></ul><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="http://daggerfs.com" target="_blank" rel="noopener">Yangqing Jia (贾扬清)</a></li><li><a href="http://image-net.org/" target="_blank" rel="noopener">Image Net</a></li><li><a href="https://github.com/MichaelXin/Awesome-Caffe" target="_blank" rel="noopener">MichaelXin - Awesome-Caffe</a></li></ul><p>作者:<a href="https://github.com/mindcont" target="_blank" rel="noopener">mindcont</a>  2016-08-22 第一次编辑 2017-02-16 第二次编辑<br><strong>转载注明出处 <a href="http://blog.mindcont.com/2016/08/22/caffe-guide-book/">http://blog.mindcont.com/2016/08/22/caffe-guide-book/</a></strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/research/caffe/caffe.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="caffe" scheme="http://blog.mindcont.com/tags/caffe/"/>
    
  </entry>
  
  <entry>
    <title>自上而下的学习路线-软件工程师的机器学习</title>
    <link href="http://blog.mindcont.com/2017/01/05/machine-learning-for-software-engineers/"/>
    <id>http://blog.mindcont.com/2017/01/05/machine-learning-for-software-engineers/</id>
    <published>2017-01-05T00:43:44.000Z</published>
    <updated>2017-07-27T11:22:40.373Z</updated>
    
    <content type="html"><![CDATA[<p>灵感来源于 <a href="https://github.com/jwasham/google-interview-university/blob/master/translations/README-cn.md" target="_blank" rel="noopener">谷歌面试学习手册</a></p><blockquote><ul><li>原文地址：<a href="https://github.com/ZuzooVn/machine-learning-for-software-engineers" target="_blank" rel="noopener">Machine Learning for Software Engineers</a></li><li>原文作者：<a href="https://github.com/ZuzooVn" target="_blank" rel="noopener">ZuzooVn(Nam Vu)</a></li><li>翻译：<a href="https://github.com/lsvih" target="_blank" rel="noopener">lsvih</a></li></ul></blockquote><h2 id="这是？"><a href="#这是？" class="headerlink" title="这是？"></a>这是？</h2><p>这是本人为期数月的学习计划。我正要从一名移动端软件开发者(自学，无计科文凭)转型成为一名机器学习工程师。</p><p>我的主要目标是找到一种以实践为主的学习方法，并为初学者抽象掉大多数的数学概念。<br>这种学习方法是非传统的，因为它是专门为软件工程师所设计的自上而下、以结果为导向的学习方法。</p><p>如果您想让它更好的话，随时欢迎您的贡献。</p><hr><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul><li><a href="#这是">这是？</a></li><li><a href="#为何要用到它">为何要用到它？</a></li><li><a href="#如何使用它">如何使用它？</a></li><li><a href="#follow-me">Follow me</a></li><li><a href="#别认为自己不够聪明">别认为自己不够聪明</a></li><li><a href="#关于视频资源">关于视频资源</a></li><li><a href="#预备知识">预备知识</a></li><li><a href="#每日计划">每日计划</a></li><li><a href="#动机">动机</a></li><li><a href="#机器学习概论">机器学习概论</a></li><li><a href="#掌握机器学习">掌握机器学习</a></li><li><a href="#有趣的机器学习">有趣的机器学习</a></li><li><a href="#机器学习简介">机器学习简介</a></li><li><a href="#一本深入-非技术的机器学习指南">一本深入，非技术的机器学习指南</a></li><li><a href="#故事与经验">故事与经验</a></li><li><a href="#机器学习算法">机器学习算法</a></li><li><a href="#入门书籍">入门书籍</a></li><li><a href="#实用书籍">实用书籍</a></li><li><a href="#kaggle知识竞赛">Kaggle知识竞赛</a></li><li><a href="#系列视频">系列视频</a></li><li><a href="#mooc">MOOC</a></li><li><a href="#资源">资源</a></li><li><a href="#成为一名开源贡献者">成为一名开源贡献者</a></li><li><a href="#游戏">游戏</a></li><li><a href="#播客">播客</a></li><li><a href="#社区">社区</a></li><li><a href="#面试问题">面试问题</a></li><li><a href="#我崇拜的公司">我崇拜的公司</a></li></ul><hr><h2 id="为何要用到它？"><a href="#为何要用到它？" class="headerlink" title="为何要用到它？"></a>为何要用到它？</h2><p>我会为了我未来的工作————机器学习工程师 遵循这份计划。自2011年以来，我一直进行着移动端应用的开发(包括安卓、iOS与黑莓)。我有软件工程的文凭，但没有计算机科学的文凭。我仅仅在大学的时候学习过一点基础科学，包括微积分、线性代数、离散数学、概率论与统计。<br>我认真思考过我在机器学习方面的兴趣:</p><ul><li><a href="https://www.quora.com/Can-I-learn-and-get-a-job-in-Machine-Learning-without-studying-CS-Master-and-PhD" target="_blank" rel="noopener">我能在没有计科硕士、博士文凭的情况下找到一份关于机器学习的工作吗？</a><ul><li>你当然可以，但是我想进入这个领域则无比艰难。</li></ul></li><li><a href="https://www.quora.com/How-do-I-get-a-job-in-Machine-Learning-as-a-software-programmer-who-self-studies-Machine-Learning-but-never-has-a-chance-to-use-it-at-work" target="_blank" rel="noopener">我是一名软件工程师，我自学了机器学习，我如何在没有相关经验的情况下找到一份关于机器学习的工作？</a><ul><li>我正在为我的团队招聘机器学习专家，但你的MOOC并不会给你带来工作机会。事实上，大多数机器学习方向的硕士也并不会得到工作机会，因为他们（与大多数上过MOOC的人一样）并没有深入地去理解。他们都没法帮助我的团队解决问题。</li></ul></li><li><a href="http://programmers.stackexchange.com/questions/79476/what-skills-are-needed-for-machine-learning-jobs" target="_blank" rel="noopener">找一份机器学习相关的工作需要掌握怎样的技能？</a><ul><li>首先，你得有正儿八经的计科或数学专业背景。ML是一个比较先进的课题，大多数的教材都会直接默认你有以上背景。其次，机器学习是一个集成了许多子专业的奇技淫巧的课题，你甚至会想看看MS的机器学习课程，去看看他们的授课、课程和教材。</li><li>统计，假设，分布式计算，然后继续统计。</li></ul></li></ul><p>我深陷困境。</p><p>据我所知, <a href="http://machinelearningmastery.com/programmers-can-get-into-machine-learning/" target="_blank" rel="noopener">机器学习有两个方向</a>：</p><ul><li>实用机器学习： 这个方向主要是查询数据库、数据清洗、写脚本来转化数据，把算法和库结合起来再加上一些定制化的代码，从数据中挤出一些准确的答案来证明一些困难且模糊不清的问题。实际上它非常混乱。</li><li>理论机器学习： 这个方向主要是关于数学、抽象、理想状况、极限条件、典型例子以及一切可能的特征。这个方向十分的干净、整洁，远离混乱的现实。</li></ul><p>我认为对于以实践为主的人来说，做好的方法就是 <a href="http://machinelearningmastery.com/machine-learning-for-programmers/#comment-358985" target="_blank" rel="noopener">“练习–学习–练习”</a>，这意味着每个学生一开始就能参与一些现有项目与一些问题，并练习（解决）它们以熟悉传统的方法是怎么做的。在有了一些简单的练习经验之后，他们就可以开始钻进书里去学习理论知识。这些理论知识将帮助他们在将来进行更进一步的训练，充实他们解决实际问题的工具箱。学习理论知识还会加深他们对那些简单练习的理解，帮助他们更快地获得进阶的经验。</p><p>这是一个很长的计划，它花去了我一年的时间。如果你已经对它有所了解了，它将会让你省去很多时间。</p><h2 id="如何使用它？"><a href="#如何使用它？" class="headerlink" title="如何使用它？"></a>如何使用它？</h2><p>以下的内容全部是概要，你需要从上往下来解决这些项目。</p><p>我使用的是Github独特的flavored markdown的任务列表来检查我计划的进展。</p><ul><li style="list-style: none"><input type="checkbox" checked> 创建一个新的分支，然后你可以这样来标出你已经完成的项目，只需要在框中填写一个x即可：[x]</li></ul><p><a href="https://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown" target="_blank" rel="noopener">了解更多有关 Github-flavored markdown的知识</a></p><h2 id="Follow-me"><a href="#Follow-me" class="headerlink" title="Follow me"></a>Follow me</h2><p>我是一名非常非常想去美国工作的越南软件工程师。</p><p>我在这份计划中花多少时间？在每天的艰辛工作完成后，每晚花4小时。</p><p>我已经在实现梦想的旅途中了。</p><ul><li>Twitter: <a href="https://twitter.com/zuzoovn" target="_blank" rel="noopener">@Nam Vu</a></li></ul><table><thead><tr><th style="text-align:center"><img src="http://sv1.upsieutoc.com/2016/10/08/331f241c8da44d0c43e9324d55440db6.md.jpg" alt="Nam Vu - Top-down learning path: machine learning for software engineers"></th></tr></thead><tbody><tr><td style="text-align:center">USA as heck</td></tr></tbody></table><h2 id="别认为自己不够聪明"><a href="#别认为自己不够聪明" class="headerlink" title="别认为自己不够聪明"></a>别认为自己不够聪明</h2><p>当我打开书本，发现他们告诉我多元微积分、统计与推理、线性代数是学习机器学习的先决条件的时候，我非常沮丧。因为我不知道从哪儿开始…</p><ul><li><a href="http://machinelearningmastery.com/what-if-im-not-good-at-mathematics/" target="_blank" rel="noopener">我数学不好怎么办</a></li><li><a href="http://machinelearningmastery.com/techniques-to-understand-machine-learning-algorithms-without-the-background-in-mathematics/" target="_blank" rel="noopener">没有数学专业背景而理解机器学习算法的5种技巧</a></li><li><a href="https://www.quora.com/Machine-Learning/How-do-I-learn-machine-learning-1" target="_blank" rel="noopener">我是如何学习机器学习的？</a></li></ul><h2 id="关于视频资源"><a href="#关于视频资源" class="headerlink" title="关于视频资源"></a>关于视频资源</h2><p>部分视频只有在Coursera、EdX的课程注册了才能观看。虽然是免费的，但有些时间段这些课程并不开放，你可能需要等上一段时间(可能是好几个月)。我将会加上更多的公开的视频源来代替这些在线课程的视频。我很喜欢大学的讲座。</p><h2 id="预备知识"><a href="#预备知识" class="headerlink" title="预备知识"></a>预备知识</h2><p>这个小章节是一些在每日计划开始前我想去了解的一些预备知识与一些有趣的信息。</p><ul><li style="list-style: none"><input type="checkbox"> <a href="https://www.quora.com/What-is-the-difference-between-Data-Analytics-Data-Analysis-Data-Mining-Data-Science-Machine-Learning-and-Big-Data-1" target="_blank" rel="noopener">Data Analytics，Data Analysis，数据挖掘，数据科学，机器学习，大数据的区别是什么？</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.coursera.org/learn/learning-how-to-learn" target="_blank" rel="noopener">学习如何去学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://lifehacker.com/281626/jerry-seinfelds-productivity-secret" target="_blank" rel="noopener">不要斩断锁链</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://metacademy.org/roadmaps/rgrosse/learn_on_your_own" target="_blank" rel="noopener">如何自学</a></li></ul><h2 id="每日计划"><a href="#每日计划" class="headerlink" title="每日计划"></a>每日计划</h2><p>每个主题都不需要用一整天来完全理解它们，你可以每天完成它们中的多个。</p><p>每天我都会从下面的列表中选一个出来，一遍又一遍的读，做笔记，练习，用Python或R语言实现它。</p><h1 id="动机"><a href="#动机" class="headerlink" title="动机"></a>动机</h1><ul><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/watch?v=g-jwWYX7Jlo" target="_blank" rel="noopener">梦</a></li></ul><h2 id="机器学习概论"><a href="#机器学习概论" class="headerlink" title="机器学习概论"></a>机器学习概论</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="http://www.r2d3.us/visual-intro-to-machine-learning-part-1/" target="_blank" rel="noopener">形象的机器学习简介</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://blog.monkeylearn.com/a-gentle-guide-to-machine-learning/" target="_blank" rel="noopener">一份温柔的机器学习指南</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://blog.algorithmia.com/introduction-machine-learning-developers/" target="_blank" rel="noopener">为开发者准备的机器学习简介</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.analyticsvidhya.com/blog/2015/06/machine-learning-basics/" target="_blank" rel="noopener">菜鸟的机器学习基础</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.quora.com/How-do-you-explain-Machine-Learning-and-Data-Mining-to-non-Computer-Science-people" target="_blank" rel="noopener">你如何向非计算机专业的人来解释机器学习与数据挖掘？</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://georgemdallas.wordpress.com/2013/06/11/big-data-data-mining-and-machine-learning-under-the-hood/" target="_blank" rel="noopener">在罩子下的机器学习，博文简单明了地介绍了机器学习的原理</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/watch?v=elojMnjn4kk&amp;list=PL5-da3qGB5ICeMbQuqbbCOQWcS6OYBr5A&amp;index=1" target="_blank" rel="noopener">机器学习是什么？它是如何工作的呢？</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://www.slideshare.net/AlfredPong1/deep-learning-a-nontechnical-introduction-69385936" target="_blank" rel="noopener">深度学习——一份非技术性的简介</a></li></ul><h2 id="掌握机器学习"><a href="#掌握机器学习" class="headerlink" title="掌握机器学习"></a>掌握机器学习</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="http://machinelearningmastery.com/machine-learning-mastery-method/" target="_blank" rel="noopener">掌握机器学习的方法</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://machinelearningmastery.com/machine-learning-for-programmers/" target="_blank" rel="noopener">程序员的机器学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://machinelearningmastery.com/start-here/" target="_blank" rel="noopener">掌握并运用机器学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://machinelearningmastery.com/python-machine-learning-mini-course/" target="_blank" rel="noopener">Python机器学习小课程</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://machinelearningmastery.com/machine-learning-algorithms-mini-course/" target="_blank" rel="noopener">机器学习算法小课程</a></li></ul><h2 id="有趣的机器学习"><a href="#有趣的机器学习" class="headerlink" title="有趣的机器学习"></a>有趣的机器学习</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/@ageitgey/machine-learning-is-fun-80ea3ec3c471#.37ue6caww" target="_blank" rel="noopener">机器学习真有趣！</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/@ageitgey/machine-learning-is-fun-part-2-a26a10b68df3#.kh7qgvp1b" target="_blank" rel="noopener">Part 2: 使用机器学习来创造超级马里奥的关卡</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/@ageitgey/machine-learning-is-fun-part-3-deep-learning-and-convolutional-neural-networks-f40359318721#.44rhxy637" target="_blank" rel="noopener">Part 3: 深度学习与卷积神经网络</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/@ageitgey/machine-learning-is-fun-part-4-modern-face-recognition-with-deep-learning-c3cffc121d78#.3rwmq0ddc" target="_blank" rel="noopener">Part 4: 现代人脸识别与深度学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/@ageitgey/machine-learning-is-fun-part-5-language-translation-with-deep-learning-and-the-magic-of-sequences-2ace0acca0aa#.wyfthap4c" target="_blank" rel="noopener">Part 5: 翻译与深度学习和序列的魔力</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/@ageitgey/machine-learning-is-fun-part-6-how-to-do-speech-recognition-with-deep-learning-28293c162f7a#.lhr1nnpcy" target="_blank" rel="noopener">Part 6: 如何使用深度学习进行语音识别</a></li></ul><h2 id="机器学习简介-用手指沾上墨水来书写机器学习简介"><a href="#机器学习简介-用手指沾上墨水来书写机器学习简介" class="headerlink" title="机器学习简介(用手指沾上墨水来书写机器学习简介)"></a><a href="https://triskell.github.io/2016/11/15/Inky-Machine-Learning.html" target="_blank" rel="noopener">机器学习简介</a>(用手指沾上墨水来书写机器学习简介)</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://triskell.github.io/2016/10/23/What-is-Machine-Learning.html" target="_blank" rel="noopener">Part 1 : 什么是机器学习？</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://triskell.github.io/2016/11/13/Supervised-Learning-and-Unsupervised-Learning.html" target="_blank" rel="noopener">Part 2 : 监督学习与非监督学习</a></li></ul><h2 id="一本深入、非技术性的机器学习指南"><a href="#一本深入、非技术性的机器学习指南" class="headerlink" title="一本深入、非技术性的机器学习指南"></a>一本深入、非技术性的机器学习指南</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="http://www.innoarchitech.com/machine-learning-an-in-depth-non-technical-guide/" target="_blank" rel="noopener">概述，目标，学习类型和算法</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://www.innoarchitech.com/machine-learning-an-in-depth-non-technical-guide-part-2/" target="_blank" rel="noopener">数据的选择，准备与建模</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://www.innoarchitech.com/machine-learning-an-in-depth-non-technical-guide-part-3/" target="_blank" rel="noopener">模型的评估，验证，复杂性与改进</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://www.innoarchitech.com/machine-learning-an-in-depth-non-technical-guide-part-4/" target="_blank" rel="noopener">模型性能与误差分析</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://www.innoarchitech.com/machine-learning-an-in-depth-non-technical-guide-part-5/" target="_blank" rel="noopener">无监督学习，相关领域与实践中的机器学习</a></li></ul><h2 id="故事与经验"><a href="#故事与经验" class="headerlink" title="故事与经验"></a>故事与经验</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/learning-new-stuff/machine-learning-in-a-week-a0da25d59850#.tk6ft2kcg" target="_blank" rel="noopener">一周的机器学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/learning-new-stuff/machine-learning-in-a-year-cdb0b0ebd29c#.hhcb9fxk1" target="_blank" rel="noopener">一年的机器学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://blog.adnansiddiqi.me/how-i-wrote-my-first-machine-learning-program-in-3-days/" target="_blank" rel="noopener">我是如何在3天内写出我的第一个机器学习程序的</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.analyticsvidhya.com/learning-path-learn-machine-learning/" target="_blank" rel="noopener">学习路径：你成为机器学习专家的导师</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://backchannel.com/you-too-can-become-a-machine-learning-rock-star-no-phd-necessary-107a1624d96b#.g9p16ldp7" target="_blank" rel="noopener">不是PhD你也可以成为机器学习的摇滚明星</a></li><li style="list-style: none"><input type="checkbox"> 如何6个月成为一名数据科学家：一名黑客的职业规划<ul><li><a href="https://www.youtube.com/watch?v=rIofV14c0tc" target="_blank" rel="noopener">视频</a></li><li><a href="http://www.slideshare.net/TetianaIvanova2/how-to-become-a-data-scientist-in-6-months" target="_blank" rel="noopener">幻灯片</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="http://blog.udacity.com/2016/04/5-skills-you-need-to-become-a-machine-learning-engineer.html" target="_blank" rel="noopener">5个你成为机器学习工程师必须要掌握的技能</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.quora.com/Are-you-a-self-taught-machine-learning-engineer-If-yes-how-did-you-do-it-how-long-did-it-take-you" target="_blank" rel="noopener">你是一个自学成才的机器学习工程师吗？你是怎么做的？花了多长时间？</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.quora.com/How-can-one-become-a-good-machine-learning-engineer" target="_blank" rel="noopener">一个人如何成为一名优秀的机器学习工程师？</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://karlrosaen.com/ml/" target="_blank" rel="noopener">一个关注于机器学习的学术假期</a></li></ul><h2 id="机器学习算法"><a href="#机器学习算法" class="headerlink" title="机器学习算法"></a>机器学习算法</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://www.analyticsvidhya.com/blog/2015/12/10-machine-learning-algorithms-explained-army-soldier/" target="_blank" rel="noopener">用“士兵”来表示10种机器学习算法</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://rayli.net/blog/data/top-10-data-mining-algorithms-in-plain-english/" target="_blank" rel="noopener">Top10的数据挖掘算法</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://blog.aylien.com/10-machine-learning-terms-explained-in-simple/" target="_blank" rel="noopener">介绍10种机器学习的术语</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://machinelearningmastery.com/a-tour-of-machine-learning-algorithms/" target="_blank" rel="noopener">机器学习算法之旅</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://gab41.lab41.org/the-10-algorithms-machine-learning-engineers-need-to-know-f4bb63f5b2fa#.ofc7t2965" target="_blank" rel="noopener">机器学习工程师需要知道的10种算法</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://www.dataschool.io/comparing-supervised-learning-algorithms/" target="_blank" rel="noopener">比较监督学习算法</a></li><li><a href="https://github.com/rushter/MLAlgorithms" target="_blank" rel="noopener">收集的最简化、可执行的机器学习算法</a></li></ul><h2 id="入门书籍"><a href="#入门书籍" class="headerlink" title="入门书籍"></a>入门书籍</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Data-Smart-Science-Transform-Information/dp/111866146X" target="_blank" rel="noopener">Data Smart: Using Data Science to Transform Information into Insight 1st Edition</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Data-Science-Business-Data-Analytic-Thinking/dp/1449361323/" target="_blank" rel="noopener">Data Science for Business: What you need to know about data mining and data­ analytic-thinking</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Predictive-Analytics-Power-Predict-Click/dp/1118356853" target="_blank" rel="noopener">Predictive Analytics: The Power to Predict Who Will Click, Buy, Lie, or Die</a></li></ul><h2 id="实用书籍"><a href="#实用书籍" class="headerlink" title="实用书籍"></a>实用书籍</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Machine-Learning-Hackers-Drew-Conway/dp/1449303714" target="_blank" rel="noopener">Machine Learning for Hackers</a><ul><li><a href="https://github.com/johnmyleswhite/ML_for_Hackers" target="_blank" rel="noopener">GitHub repository(R)</a></li><li><a href="https://github.com/carljv/Will_it_Python" target="_blank" rel="noopener">GitHub repository(Python)</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Python-Machine-Learning-Sebastian-Raschka-ebook/dp/B00YSILNL0" target="_blank" rel="noopener">Python Machine Learning</a><ul><li><a href="https://github.com/rasbt/python-machine-learning-book" target="_blank" rel="noopener">GitHub repository</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Programming-Collective-Intelligence-Building-Applications-ebook/dp/B00F8QDZWG" target="_blank" rel="noopener">Programming Collective Intelligence: Building Smart Web 2.0 Applications</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Machine-Learning-Algorithmic-Perspective-Recognition/dp/1466583282" target="_blank" rel="noopener">Machine Learning: An Algorithmic Perspective, Second Edition</a><ul><li><a href="https://github.com/alexsosn/MarslandMLAlgo" target="_blank" rel="noopener">GitHub repository</a></li><li><a href="http://seat.massey.ac.nz/personal/s.r.marsland/MLbook.html" target="_blank" rel="noopener">Resource repository</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="http://shop.oreilly.com/product/0636920030515.do" target="_blank" rel="noopener">Introduction to Machine Learning with Python: A Guide for Data Scientists</a><ul><li><a href="https://github.com/amueller/introduction_to_ml_with_python" target="_blank" rel="noopener">GitHub repository</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Data-Mining-Practical-Techniques-Management/dp/0123748569" target="_blank" rel="noopener">Data Mining: Practical Machine Learning Tools and Techniques, Third Edition</a><ul><li>Teaching material<ul><li><a href="http://www.cs.waikato.ac.nz/ml/weka/Slides3rdEd_Ch1-5.zip" target="_blank" rel="noopener">Slides for Chapters 1-5 (zip)</a></li><li><a href="http://www.cs.waikato.ac.nz/ml/weka/Slides3rdEd_Ch6-8.zip" target="_blank" rel="noopener">Slides for Chapters 6-8 (zip)</a></li></ul></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Machine-Learning-Action-Peter-Harrington/dp/1617290181/" target="_blank" rel="noopener">Machine Learning in Action</a><ul><li><a href="https://github.com/pbharrin/machinelearninginaction" target="_blank" rel="noopener">GitHub repository</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.manning.com/books/reactive-machine-learning-systems" target="_blank" rel="noopener">Reactive Machine Learning Systems(MEAP)</a><ul><li><a href="https://github.com/jeffreyksmithjr/reactive-machine-learning-systems" target="_blank" rel="noopener">GitHub repository</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="http://www-bcf.usc.edu/~gareth/ISL/" target="_blank" rel="noopener">An Introduction to Statistical Learning</a><ul><li><a href="http://www-bcf.usc.edu/~gareth/ISL/code.html" target="_blank" rel="noopener">GitHub repository(R)</a></li><li><a href="https://github.com/JWarmenhoven/ISLR-python" target="_blank" rel="noopener">GitHub repository(Python)</a></li><li><a href="http://www.dataschool.io/15-hours-of-expert-machine-learning-videos/" target="_blank" rel="noopener">视频</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.packtpub.com/big-data-and-business-intelligence/building-machine-learning-systems-python" target="_blank" rel="noopener">Building Machine Learning Systems with Python</a><ul><li><a href="https://github.com/luispedro/BuildingMachineLearningSystemsWithPython" target="_blank" rel="noopener">GitHub repository</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.packtpub.com/big-data-and-business-intelligence/learning-scikit-learn-machine-learning-python" target="_blank" rel="noopener">Learning scikit-learn: Machine Learning in Python</a><ul><li><a href="https://github.com/gmonce/scikit-learn-book" target="_blank" rel="noopener">GitHub repository</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://camdavidsonpilon.github.io/Probabilistic-Programming-and-Bayesian-Methods-for-Hackers/" target="_blank" rel="noopener">Probabilistic Programming &amp; Bayesian Methods for Hackers</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Probabilistic-Graphical-Models-Principles-Computation/dp/0262013193" target="_blank" rel="noopener">Probabilistic Graphical Models: Principles and Techniques</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Machine-Learning-Hands-Developers-Professionals/dp/1118889061" target="_blank" rel="noopener">Machine Learning: Hands-On for Developers and Technical Professionals</a><ul><li><a href="https://blogs.msdn.microsoft.com/querysimon/2015/01/01/book-review-machine-learning-hands-on-for-developers-and-technical-professionals/" target="_blank" rel="noopener">Machine Learning Hands-On for Developers and Technical Professionals review</a></li><li><a href="https://github.com/jasebell/mlbook" target="_blank" rel="noopener">GitHub repository</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.amazon.com/Learning-Data-Yaser-S-Abu-Mostafa/dp/1600490069" target="_blank" rel="noopener">Learning from Data</a><ul><li><a href="https://work.caltech.edu/telecourse.html" target="_blank" rel="noopener">在线教程</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://webdocs.cs.ualberta.ca/~sutton/book/the-book-2nd.html" target="_blank" rel="noopener">Reinforcement Learning: An Introduction (2nd Edition)</a><ul><li><a href="https://github.com/ShangtongZhang/reinforcement-learning-an-introduction" target="_blank" rel="noopener">GitHub repository</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.manning.com/books/machine-learning-with-tensorflow" target="_blank" rel="noopener">使用TensorFlow(MEAP)进行机器学习</a><ul><li><a href="https://github.com/BinRoot/TensorFlow-Book" target="_blank" rel="noopener">GitHub repository</a></li></ul></li></ul><h2 id="Kaggle知识竞赛"><a href="#Kaggle知识竞赛" class="headerlink" title="Kaggle知识竞赛"></a>Kaggle知识竞赛</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://www.analyticsvidhya.com/blog/2015/06/start-journey-kaggle/" target="_blank" rel="noopener">Kaggle竞赛：怎么样，在哪里开始？</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://machinelearningmastery.com/how-a-beginner-used-small-projects-to-get-started-in-machine-learning-and-compete-on-kaggle" target="_blank" rel="noopener">一个初学者如何用一个小项目在机器学习入门并在Kaggle竞争</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://machinelearningmastery.com/master-kaggle-by-competing-consistently/" target="_blank" rel="noopener">如何竞争Kaggle的Master</a></li></ul><h2 id="系列视频"><a href="#系列视频" class="headerlink" title="系列视频"></a>系列视频</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/playlist?list=PL2-dafEMk2A4ut2pyv0fSIXqOzXtBGkLj" target="_blank" rel="noopener">Machine Learning for Hackers</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/playlist?list=PL2-dafEMk2A6Kc7pV6gHH-apBFxwFjKeY" target="_blank" rel="noopener">Fresh Machine Learning</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLOU2XLYxmsIIuiBfYad6rFYQU_jL2ryal" target="_blank" rel="noopener">Machine Learning Recipes with Josh Gordon</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://vimeo.com/43547079" target="_blank" rel="noopener">Everything You Need to know about Machine Learning in 30 Minutes or Less</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/watch?v=IpGxLWOIZy4" target="_blank" rel="noopener">A Friendly Introduction to Machine Learning</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/watch?v=F1ka6a13S9I" target="_blank" rel="noopener">Nuts and Bolts of Applying Deep Learning - Andrew Ng</a></li><li style="list-style: none"><input type="checkbox"> BigML Webinar<ul><li><a href="https://www.youtube.com/watch?list=PL1bKyu9GtNYHcjGa6ulrvRVcm1lAB8he3&amp;v=W62ehrnOVqo" target="_blank" rel="noopener">视频</a></li><li><a href="https://bigml.com/releases" target="_blank" rel="noopener">资源</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLD0F06AA0D2E8FFBA" target="_blank" rel="noopener">mathematicalmonk’s Machine Learning tutorials</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/playlist?list=PL5-da3qGB5ICeMbQuqbbCOQWcS6OYBr5A" target="_blank" rel="noopener">Machine learning in Python with scikit-learn</a><ul><li><a href="https://github.com/justmarkham/scikit-learn-videos" target="_blank" rel="noopener">GitHub repository</a></li><li><a href="http://blog.kaggle.com/author/kevin-markham/" target="_blank" rel="noopener">博客</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.analyticsvidhya.com/blog/2015/07/top-youtube-videos-machine-learning-neural-network-deep-learning/" target="_blank" rel="noopener">My playlist – Top YouTube Videos on Machine Learning, Neural Network &amp; Deep Learning</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.analyticsvidhya.com/blog/2016/10/16-new-must-watch-tutorials-courses-on-machine-learning/" target="_blank" rel="noopener">16 New Must Watch Tutorials, Courses on Machine Learning</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/channel/UC9OeZkIwhzfv-_Cb7fCikLQ" target="_blank" rel="noopener">DeepLearning.TV</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLiaHhY2iBX9ihLasvE8BKnS2Xg8AhY6iV" target="_blank" rel="noopener">Learning To See</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.youtube.com/playlist?list=PL6Xpj9I5qXYEcOhn7TqghAJ6NAPrNmUBH" target="_blank" rel="noopener">Neural networks class - Université de Sherbrooke</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.analyticsvidhya.com/blog/2016/12/21-deep-learning-videos-tutorials-courses-on-youtube-from-2016/" target="_blank" rel="noopener">2016年的21个深度学习视频课程</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.analyticsvidhya.com/blog/2016/12/30-top-videos-tutorials-courses-on-machine-learning-artificial-intelligence-from-2016/" target="_blank" rel="noopener">2016年的30个顶级的机器学习与人工智能视频教程 Top Videos, Tutorials &amp; Courses on Machine Learning &amp; Artificial Intelligence from 2016</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://course.fast.ai/index.html" target="_blank" rel="noopener">程序员的深度学习实战</a></li></ul><h2 id="MOOC"><a href="#MOOC" class="headerlink" title="MOOC"></a>MOOC</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://www.udacity.com/course/intro-to-machine-learning--ud120" target="_blank" rel="noopener">Udacity的机器学习导论</a><ul><li><a href="http://hamelg.blogspot.com/2014/12/udacity-intro-to-machine-learning-review.html" target="_blank" rel="noopener">复习Udacity机器学习导论</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.udacity.com/course/machine-learning--ud262" target="_blank" rel="noopener">Udacity的监督学习、非监督学习及深入</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.coursera.org/learn/ml-foundations" target="_blank" rel="noopener">Machine Learning Foundations: A Case Study Approach</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.coursera.org/learn/machine-learning" target="_blank" rel="noopener">Courserad的机器学习</a><ul><li><a href="https://www.youtube.com/playlist?list=PLZ9qNFMHZ-A4rycgrgOYma6zxF4BZGGPW" target="_blank" rel="noopener">视频</a></li><li><a href="https://rayli.net/blog/data/coursera-machine-learning-review/" target="_blank" rel="noopener">复习Coursera机器学习</a></li><li><a href="https://metacademy.org/roadmaps/cjrd/coursera_ml_supplement" target="_blank" rel="noopener">Coursera的机器学习路线图</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://code.tutsplus.com/courses/machine-learning-distilled" target="_blank" rel="noopener">Machine Learning Distilled</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://bigml.com/training" target="_blank" rel="noopener">BigML training</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.coursera.org/learn/neural-networks" target="_blank" rel="noopener">Coursera的神经网络课程</a><ul><li>由Geoffrey Hinton（神经网络的先驱）执教</li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.kadenze.com/courses/creative-applications-of-deep-learning-with-tensorflow/info" target="_blank" rel="noopener">使用TensorFlow创建深度学习应用</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.udacity.com/course/intro-to-descriptive-statistics--ud827" target="_blank" rel="noopener">描述统计学概论</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.udacity.com/course/intro-to-inferential-statistics--ud201" target="_blank" rel="noopener">推理统计学概论</a></li></ul><h2 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://elitedatascience.com/machine-learning-masterclass" target="_blank" rel="noopener">一个月学会机器学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/@samdebrule/a-humans-guide-to-machine-learning-e179f43b67a0#.cpzf3a5c0" target="_blank" rel="noopener">一份“非技术性”的机器学习与人工智能指南</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://news.ycombinator.com/item?id=12898718" target="_blank" rel="noopener">Hacker News的《软件工程师的机器学习》</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://xyclade.github.io/MachineLearning/" target="_blank" rel="noopener">开发者的机器学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://dev.to/thealexlavin/machine-learning-advice-for-developers" target="_blank" rel="noopener">给开发者的关于机器学习的建议</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://pythonforengineers.com/machine-learning-for-complete-beginners/" target="_blank" rel="noopener">机器学习入门</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/@suffiyanz/getting-started-with-machine-learning-f15df1c283ea#.yjtiy7ei9" target="_blank" rel="noopener">为新手准备的机器学习入门教程</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://elitedatascience.com/learn-machine-learning" target="_blank" rel="noopener">初学者如何自学机器学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://ragle.sanukcode.net/articles/machine-learning-self-study-resources/" target="_blank" rel="noopener">机器学习自学资源</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://metacademy.org/roadmaps/cjrd/level-up-your-ml" target="_blank" rel="noopener">提升你的机器学习技能</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://medium.com/axiomzenteam/an-honest-guide-to-machine-learning-2f6d7a6df60e#.ib12a1yw5" target="_blank" rel="noopener">一份’坦诚’的机器学习指南</a></li><li style="list-style: none"><input type="checkbox"> 用机器学习让Hacker News更具可读性<ul><li><a href="https://www.youtube.com/watch?v=O7IezJT9uSI" target="_blank" rel="noopener">视频</a></li><li><a href="https://speakerdeck.com/pycon2014/enough-machine-learning-to-make-hacker-news-readable-again-by-ned-jackson-lovely" target="_blank" rel="noopener">幻灯片</a></li></ul></li><li style="list-style: none"><input type="checkbox"> <a href="https://github.com/hangtwenty/dive-into-machine-learning" target="_blank" rel="noopener">深入机器学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://speakerdeck.com/pmigdal/machine-deep-learning-for-software-engineers" target="_blank" rel="noopener">软件工程师的{机器、深度}学习</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://deeplearning4j.org/deeplearningforbeginners.html" target="_blank" rel="noopener">深度学习入门</a></li><li>大学中的机器学习课程<ul><li style="list-style: none"><input type="checkbox"> <a href="http://ai.stanford.edu/courses/" target="_blank" rel="noopener">斯坦福</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://mlss.cc/" target="_blank" rel="noopener">机器学习夏令营</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.cs.ox.ac.uk/people/nando.defreitas/machinelearning/" target="_blank" rel="noopener">牛津</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://mlg.eng.cam.ac.uk/" target="_blank" rel="noopener">剑桥</a></li></ul></li><li>Flipboard的主题<ul><li><a href="https://flipboard.com/topic/machinelearning" target="_blank" rel="noopener">机器学习</a></li><li><a href="https://flipboard.com/topic/deeplearning" target="_blank" rel="noopener">深度学习</a></li><li><a href="https://flipboard.com/topic/artificialintelligence" target="_blank" rel="noopener">人工智能</a></li></ul></li><li>Medium的主题<ul><li><a href="https://medium.com/tag/machine-learning/latest" target="_blank" rel="noopener">机器学习</a></li><li><a href="https://medium.com/tag/deep-learning" target="_blank" rel="noopener">深度学习</a></li><li><a href="https://medium.com/tag/artificial-intelligence" target="_blank" rel="noopener">人工智能</a></li></ul></li><li>每月文章Top10<ul><li>机器学习<ul><li><a href="https://medium.mybridge.co/top-ten-machine-learning-articles-for-the-past-month-9c1202351144#.lyycen64y" target="_blank" rel="noopener">2016年7月</a></li><li><a href="https://medium.mybridge.co/machine-learning-top-10-articles-for-the-past-month-2f3cb815ffed#.i9ee7qkjz" target="_blank" rel="noopener">2016年8月</a></li><li><a href="https://medium.mybridge.co/machine-learning-top-10-in-september-6838169e9ee7#.4jbjcibft" target="_blank" rel="noopener">2016年9月</a></li><li><a href="https://medium.mybridge.co/machine-learning-top-10-articles-for-the-past-month-35c37825a943#.td5im1p5z" target="_blank" rel="noopener">2016年10月</a></li><li><a href="https://medium.mybridge.co/machine-learning-top-10-articles-for-the-past-month-b499e4213a34#.7k39i08tv" target="_blank" rel="noopener">2016年11月</a></li></ul></li><li>算法<ul><li><a href="https://medium.mybridge.co/algorithm-top-10-articles-in-september-8a0e6afb0807#.hgjzuyxdb" target="_blank" rel="noopener">2016年9月</a></li><li><a href="https://medium.mybridge.co/algorithm-top-10-articles-v-november-e73cba2fa87e#.kothimkhb" target="_blank" rel="noopener">2016年10月-11月</a></li></ul></li></ul></li><li><a href="http://www.datasciencecentral.com/group/resources/forum/topics/comprehensive-list-of-data-science-resources" target="_blank" rel="noopener">全面的数据科学家的资源</a></li><li><a href="http://blog.digitalmind.io/post/artificial-intelligence-resources" target="_blank" rel="noopener">DigitalMind的人工智能资源</a></li><li><a href="https://github.com/josephmisiti/awesome-machine-learning" target="_blank" rel="noopener">令人惊叹的机器学习</a></li><li><a href="http://www.creativeai.net/?cat%5B0%5D=machine-learning" target="_blank" rel="noopener">CreativeAi的机器学习</a></li></ul><h2 id="成为一名开源贡献者"><a href="#成为一名开源贡献者" class="headerlink" title="成为一名开源贡献者"></a>成为一名开源贡献者</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://github.com/tensorflow/magenta" target="_blank" rel="noopener">tensorflow/magenta: Magenta: Music and Art Generation with Machine Intelligence</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://github.com/tensorflow/tensorflow" target="_blank" rel="noopener">tensorflow/tensorflow: Computation using data flow graphs for scalable machine learning</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://github.com/cmusatyalab/openface" target="_blank" rel="noopener">cmusatyalab/openface: Face recognition with deep neural networks.</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://github.com/tensorflow/models/tree/master/syntaxnet" target="_blank" rel="noopener">tensorflow/models/syntaxnet: Neural Models of Syntax.</a></li></ul><h2 id="游戏"><a href="#游戏" class="headerlink" title="游戏"></a>游戏</h2><ul><li><a href="https://halite.io/" target="_blank" rel="noopener">Halite：AI编程游戏</a></li><li><a href="http://vindinium.org/" target="_blank" rel="noopener">Vindinium: 挑战AI编程</a></li><li><a href="http://www.gvgai.net/" target="_blank" rel="noopener">Video Game AI比赛</a></li><li><a href="https://aibirds.org/" target="_blank" rel="noopener">愤怒的小鸟AI比赛</a></li><li><a href="http://theaigames.com/" target="_blank" rel="noopener">The AI Games</a></li><li><a href="http://www.ice.ci.ritsumei.ac.jp/~ftgaic/" target="_blank" rel="noopener">Fighting Game AI Competition</a></li><li><a href="http://www.codecup.nl/intro.php" target="_blank" rel="noopener">CodeCup</a></li><li><a href="http://sscaitournament.com/" target="_blank" rel="noopener">星际争霸AI学生锦标赛</a></li><li><a href="http://www.cs.mun.ca/~dchurchill/starcraftaicomp/" target="_blank" rel="noopener">AIIDE星际争霸AI竞赛</a></li><li><a href="https://sites.google.com/site/starcraftaic/" target="_blank" rel="noopener">CIG星际争霸AI竞赛</a></li><li><a href="https://www.codingame.com/training/machine-learning" target="_blank" rel="noopener">CodinGame - AI Bot Games</a></li></ul><h2 id="播客"><a href="#播客" class="headerlink" title="播客"></a>播客</h2><ul><li><h3 id="适合初学者的播客："><a href="#适合初学者的播客：" class="headerlink" title="适合初学者的播客："></a>适合初学者的播客：</h3><ul><li><a href="http://www.thetalkingmachines.com/" target="_blank" rel="noopener">Talking Machines</a></li><li><a href="http://lineardigressions.com/" target="_blank" rel="noopener">Linear Digressions</a></li><li><a href="http://dataskeptic.com/" target="_blank" rel="noopener">Data Skeptic</a></li><li><a href="https://twimlai.com/" target="_blank" rel="noopener">This Week in Machine Learning &amp; AI</a></li></ul></li><li><h3 id="“更多”进阶的播客："><a href="#“更多”进阶的播客：" class="headerlink" title="“更多”进阶的播客："></a>“更多”进阶的播客：</h3><ul><li><a href="http://partiallyderivative.com/" target="_blank" rel="noopener">Partially Derivative</a></li><li><a href="http://radar.oreilly.com/tag/oreilly-data-show-podcast" target="_blank" rel="noopener">O’Reilly Data Show</a></li><li><a href="https://soundcloud.com/nssd-podcast" target="_blank" rel="noopener">Not So Standard Deviation</a></li></ul></li><li><h3 id="盒子外的播客："><a href="#盒子外的播客：" class="headerlink" title="盒子外的播客："></a>盒子外的播客：</h3><ul><li><a href="http://datastori.es/" target="_blank" rel="noopener">Data Stories</a></li></ul></li></ul><h2 id="社区"><a href="#社区" class="headerlink" title="社区"></a>社区</h2><ul><li><p>Quora</p><ul><li><a href="https://www.quora.com/topic/Machine-Learning" target="_blank" rel="noopener">机器学习</a></li><li><a href="https://www.quora.com/topic/Statistics-academic-discipline" target="_blank" rel="noopener">统计学</a></li><li><a href="https://www.quora.com/topic/Data-Mining" target="_blank" rel="noopener">数据挖掘</a></li></ul></li><li><p>Reddit</p><ul><li><a href="https://www.reddit.com/r/machinelearning" target="_blank" rel="noopener">机器学习</a></li><li><a href="https://www.reddit.com/r/computervision" target="_blank" rel="noopener">计算机视觉</a></li><li><a href="https://www.reddit.com/r/languagetechnology" target="_blank" rel="noopener">自然语言处理</a></li><li><a href="https://www.reddit.com/r/datascience" target="_blank" rel="noopener">数据科学</a></li><li><a href="https://www.reddit.com/r/bigdata" target="_blank" rel="noopener">大数据</a></li><li><a href="https://www.reddit.com/r/statistics" target="_blank" rel="noopener">统计学</a></li></ul></li><li><p><a href="http://www.datatau.com/" target="_blank" rel="noopener">Data Tau</a></p></li><li><p><a href="http://news.startup.ml/" target="_blank" rel="noopener">Deep Learning News</a></p></li><li><p><a href="http://www.kdnuggets.com/" target="_blank" rel="noopener">KDnuggets</a></p></li></ul><h2 id="面试问题"><a href="#面试问题" class="headerlink" title="面试问题"></a>面试问题</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="http://blog.udacity.com/2016/05/prepare-machine-learning-interview.html" target="_blank" rel="noopener">如何准备机器学习职位的面试</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.analyticsvidhya.com/blog/2016/09/40-interview-questions-asked-at-startups-in-machine-learning-data-science" target="_blank" rel="noopener">40个机器学习与数据科学的面试问题</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://www.kdnuggets.com/2016/02/21-data-science-interview-questions-answers.html" target="_blank" rel="noopener">21个必须要知道的数据科学问题与回答</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://career.guru99.com/top-50-interview-questions-on-machine-learning/" target="_blank" rel="noopener">Top 50 机器学习面试问题与回答</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://resources.workable.com/machine-learning-engineer-interview-questions" target="_blank" rel="noopener">机器学习面试问题</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://www.learn4master.com/machine-learning/popular-machine-learning-interview-questions" target="_blank" rel="noopener">常用的机器学习面试问题</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.quora.com/What-are-some-common-Machine-Learning-interview-questions" target="_blank" rel="noopener">机器学习面试问题有哪些相同的？</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.quora.com/What-are-the-best-interview-questions-to-evaluate-a-machine-learning-researcher" target="_blank" rel="noopener">什么是评价一个机器学习研究者的最好的问题？</a></li><li style="list-style: none"><input type="checkbox"> <a href="http://analyticscosm.com/machine-learning-interview-questions-for-data-scientist-interview/" target="_blank" rel="noopener">机器学习面试问题大搜集</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://learn.elitedatascience.com/mlqa-welcome" target="_blank" rel="noopener">121个需要掌握的问题与回答</a></li><li style="list-style: none"><input type="checkbox"> <a href="https://www.springboard.com/blog/machine-learning-interview-questions/" target="_blank" rel="noopener">41个基本机器学习面试问题（附答案）</a></li></ul><h2 id="我崇拜的公司"><a href="#我崇拜的公司" class="headerlink" title="我崇拜的公司"></a>我崇拜的公司</h2><ul><li style="list-style: none"><input type="checkbox"> <a href="https://www.elsanow.io/home" target="_blank" rel="noopener">ELSA - 你虚拟的口语教练</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;灵感来源于 &lt;a href=&quot;https://github.com/jwasham/google-interview-university/blob/master/translations/README-cn.md&quot; target=&quot;_blank&quot; rel=&quot;noopene
      
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
  </entry>
  
  <entry>
    <title>局域网内nginx反向代理上网</title>
    <link href="http://blog.mindcont.com/2016/12/26/nginx-proxy-lan/"/>
    <id>http://blog.mindcont.com/2016/12/26/nginx-proxy-lan/</id>
    <published>2016-12-26T04:31:25.000Z</published>
    <updated>2018-01-09T03:39:57.055Z</updated>
    
    <content type="html"><![CDATA[<p><strong>背景：</strong>局域网下有两台Linux服务器，信息如下：</p><table><thead><tr><th>服务器</th><th>IP地址</th><th>操作系统</th><th>Internet访问</th></tr></thead><tbody><tr><td>HOSTA(OpenWrt路由器)</td><td>110.1.1.65(wan)</td><td>CentOS 6.7 x64</td><td>是</td></tr><tr><td>HOSTB</td><td>110.1.1.215</td><td>CentOS 6.7 x64</td><td>否</td></tr></tbody></table><a id="more"></a><p><strong>需求：</strong>HOSTA和HOSTB均处在局域网中，二者能够互相ping通，HOSTA开通网络策略支持互联网访问，但是HOSTB不支持，现在需要将HOSTA作为代理服务器，让HOSTB通过HOSTA实现互联网访问，主要需要HOSTB能够进行在线的软件包安装（yum和pip）</p><h2 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h2><p>使用Nginx反向代理将HOSTA作为http服务器，在HOSTB上配置http全局代理。</p><p><img src="https://sslbucket-a.akamaihd.net/www.opswat.com/images/blog/web-proxy-diagram-new.png" alt=""></p><h3 id="设置nginx为HTTP代理服务器"><a href="#设置nginx为HTTP代理服务器" class="headerlink" title="设置nginx为HTTP代理服务器"></a>设置nginx为HTTP代理服务器</h3><p><strong>服务器端即HOSTA主机</strong>,设置nginx为HTTP代理服务器上网，只需要3步，分别为安装nginx、配置nginx、修改OpenWrt 防火墙。</p><p><strong>1、登录OpenWrt 安装nginx</strong><br>在windows下使用SSH工具，如<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/" target="_blank" rel="noopener">Putty</a>等，在Host name 填写192.168.1.1，端口22 ，然后点击 Open.<br><img src="/images/iot/openwrt/putty.png" alt=""></p><p>在linux下，打开终端输入<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ssh</span> <span class="selector-tag">root</span>@<span class="keyword">192</span>.<span class="keyword">168</span>.<span class="keyword">1</span>.<span class="keyword">1</span></span><br></pre></td></tr></table></figure></p><p>输人密码（默认 admin）登陆,如下图所示s<br><img src="/images/iot/openwrt/welcome.png" alt=""></p><p>使用opkg安装 nginx ,输入下面的指令<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">opkg <span class="keyword">update</span></span><br><span class="line">opkg <span class="keyword">install</span> nginx</span><br></pre></td></tr></table></figure></p><p><strong>2、配置 nginx</strong><br>这里我们首先将nginx原本配置文件<code>nginx.conf</code>备份为<code>nginx.conf.backup</code>，后修改里面的内容，配置为HTTP反向代理模式，选择8080为服务监听端口。<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> /etc/nginx</span><br><span class="line"><span class="keyword">cp</span> nginx.<span class="keyword">conf</span> nginx.<span class="keyword">conf</span>.backup</span><br><span class="line"><span class="keyword">vi</span> nginx.<span class="keyword">conf</span></span><br></pre></td></tr></table></figure></p><p>将下面的内容替换<code>nginx.conf</code>中默认的内容<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">user</span> nobody nogroup;</span><br><span class="line"><span class="attribute">worker_processes</span>  <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="comment">#include       mime.types;</span></span><br><span class="line">    <span class="comment">#default_type  application/octet-stream;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line">    <span class="comment">#                  '$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">    <span class="comment">#                  '"$http_user_agent" "$http_x_forwarded_for"';</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>;</span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">gzip</span>  <span class="literal">on</span>;</span><br><span class="line">    <span class="comment">#include /etc/nginx/conf.d/*.conf;</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">resolver</span> <span class="number">114.114.114.114</span>;</span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">8080</span>;</span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">              <span class="attribute">proxy_pass</span> <span class="variable">$scheme</span>://<span class="variable">$http_host</span><span class="variable">$request_uri</span>;</span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>修改完成后，按　esc ，输入<code>：wq!</code> 保存<br>紧接着，启动nginx<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/etc/init.d</span></span><br><span class="line"><span class="string">./nginx</span> start</span><br></pre></td></tr></table></figure></p><p><strong>3、修改OpenWrt 防火墙</strong><br>由于OpenWrt wan口防火墙默认禁止入站数据，这里我们需要改为<code>ACCEPT</code>。在OpenWrt LuCI 界面中修改防火期设置。</p><p>打开浏览器，输入<code>192.168.1.1</code> ，账号默认为root,默认密码admin。依次选择网络 -&gt; 防火墙</p><p><img src="/images/iot/openwrt/firewall.png" alt=""></p><p>使你的设置同绿框中标明的那样，然后点击<code>保存&amp;应用</code>。</p><p>略过此步，使用windows 网络 -&gt;疑难解答,你将会看到<strong>该设备或资源(Web 代理)未设置为接受端口’8080’上的连接</strong>的错误提示，如下<br><img src="/images/iot/openwrt/reject-detail.png" alt=""></p><h3 id="设置浏览器的代理-以IE为例"><a href="#设置浏览器的代理-以IE为例" class="headerlink" title="设置浏览器的代理(以IE为例)"></a>设置浏览器的代理(以IE为例)</h3><p>设置HOSTB为http全局代理，以windows平台为例，在控制面板 -&gt; Internet选项 -&gt; 连接 -&gt; 局域网设置 -&gt; 代理服务器</p><p>填写IP(这里我们填写HOSTA 的IP，即110.1.1.65)和Port(即nginx 监听端口8080)即可。</p><p><img src="/images/iot/openwrt/client-config.png" alt=""></p><p>注明：<strong>nginx不支持https正向代理</strong> 因为nginx不支持CONNECT，所以无法正向代理https网站。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="http://blog.csdn.net/guowenyan001/article/details/22718179" target="_blank" rel="noopener">Nginx：设置为HTTP代理服务器上网</a></li><li><a href="http://www.cnblogs.com/xshrim/p/5934032.html" target="_blank" rel="noopener">局域网下通过代理实现服务器的互联网访问</a></li><li><a href="http://blog.csdn.net/aa120515692/article/details/46917637" target="_blank" rel="noopener">openwrt 防火墙设置 /etc/config/firewall</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;背景：&lt;/strong&gt;局域网下有两台Linux服务器，信息如下：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;服务器&lt;/th&gt;
&lt;th&gt;IP地址&lt;/th&gt;
&lt;th&gt;操作系统&lt;/th&gt;
&lt;th&gt;Internet访问&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;HOSTA(OpenWrt路由器)&lt;/td&gt;
&lt;td&gt;110.1.1.65(wan)&lt;/td&gt;
&lt;td&gt;CentOS 6.7 x64&lt;/td&gt;
&lt;td&gt;是&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HOSTB&lt;/td&gt;
&lt;td&gt;110.1.1.215&lt;/td&gt;
&lt;td&gt;CentOS 6.7 x64&lt;/td&gt;
&lt;td&gt;否&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
    
    </summary>
    
      <category term="物联" scheme="http://blog.mindcont.com/categories/%E7%89%A9%E8%81%94/"/>
    
    
      <category term="openwrt" scheme="http://blog.mindcont.com/tags/openwrt/"/>
    
  </entry>
  
  <entry>
    <title>naoqi ros 开发环境搭建</title>
    <link href="http://blog.mindcont.com/2016/12/14/ros-naoqi-ubuntu/"/>
    <id>http://blog.mindcont.com/2016/12/14/ros-naoqi-ubuntu/</id>
    <published>2016-12-14T08:47:33.000Z</published>
    <updated>2018-01-09T03:40:26.632Z</updated>
    
    <content type="html"><![CDATA[<p>ROS( robot operating system) 是一款开源的面向与机器人控制领域的操作系统，起源于2007斯坦福大学人工智能实验室的项目与机器人技术公司Willow Garage 的个人机器人项目之间的合作，2008年之后由Willow Garage 推动，2010 年该公司将其开源，2015年，ros 发布了Jade 版本。<br><a id="more"></a><br><img src="/images/coding/ubuntu/ros/hero_product.jpg" alt=""></p><p><a href="http://blog.mindcont.com/2016/12/14/naoqi-robot-sdk-ubuntu/">书接上回</a>，下面我将带您一览ros和naoqi robot 在ubuntu 14.04(lts)版本下开发环境的搭建。</p><h3 id="安装-ros-indigo-desktop"><a href="#安装-ros-indigo-desktop" class="headerlink" title="安装 ros-indigo-desktop"></a>安装 ros-indigo-desktop</h3><ul><li>1、 配置 Ubuntu 软件仓库<br>配置你的 Ubuntu 软件仓库(repositories) 以允许 “restricted”、”universe” 和 “multiverse”这三种安装模式。 你可以 <a href="https://help.ubuntu.com/community/Repositories/Ubuntu" target="_blank" rel="noopener">按照ubuntu中的配置指南</a>来完成配置。</li></ul><p><img src="/images/coding/ubuntu/ros/ubuntu-repositories-config.png" alt=""></p><ul><li><p>2、 添加 sources.list<br>配置你的电脑使其能够安装来自 packages.ros.org的软件。 ROS Indigo 仅 支持 Saucy (13.10) 和 Trusty (14.04)。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[官方]</span><br><span class="line">sudo <span class="keyword">sh</span> -c 'echo <span class="string">"deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main"</span> &gt; /etc/apt/sources.<span class="keyword">list</span>.<span class="keyword">d</span>/ros-latest.<span class="keyword">list</span>'</span><br><span class="line"></span><br><span class="line">[国内镜像]</span><br><span class="line">sudo <span class="keyword">sh</span> -c '. /etc/lsb-release &amp;&amp; echo <span class="string">"deb http://mirrors.ustc.edu.cn/ros/ubuntu/ $DISTRIB_CODENAME main"</span> &gt; /etc/apt/sources.<span class="keyword">list</span>.<span class="keyword">d</span>/ros-latest.<span class="keyword">list</span>'</span><br></pre></td></tr></table></figure><p><strong>注</strong>：强烈建议使用国内或者新加坡的镜像源，这样能够大大提高安装下载速度。</p></li><li><p>3、 添加 keys</p><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="built_in">key</span> adv --keyserver hkp:<span class="comment">//ha.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116</span></span><br><span class="line">sudo apt-<span class="built_in">get</span> <span class="keyword">update</span></span><br></pre></td></tr></table></figure></li><li><p>4、 桌面版安装： 包含ROS、rqt、rviz以及通用机器人函数库。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> install ros-indigo-desktop</span><br></pre></td></tr></table></figure></li><li><p>5、后续环节</p><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 安装　rosinstall</span></span><br><span class="line">sudo apt-<span class="keyword">get</span> install python-rosinstall</span><br><span class="line"></span><br><span class="line"><span class="meta"># 初始化 rosdep</span></span><br><span class="line">sudo rosdep init</span><br><span class="line">rosdep update</span><br><span class="line"></span><br><span class="line"><span class="meta"># 配置环境变量　Environment setup</span></span><br><span class="line">echo <span class="string">"source /opt/ros/indigo/setup.bash"</span> &gt;&gt; ~/.bashrc</span><br><span class="line">. ~/.bashrc</span><br></pre></td></tr></table></figure><p><strong>note</strong>: If you have more than one ROS distribution installed, ~/.bashrc must only source the setup.bash for the version you are currently using.</p></li></ul><h3 id="启动-ROS-on-a-virtual-NAOqi"><a href="#启动-ROS-on-a-virtual-NAOqi" class="headerlink" title="启动 ROS on a virtual NAOqi"></a>启动 ROS on a virtual NAOqi</h3><p>Before starting, please make sure you meet all the required dependencies especially the packages <a href="http://wiki.ros.org/naoqi_driver" target="_blank" rel="noopener">naoqi_driver</a>, <a href="http://wiki.ros.org/naoqi_bridge" target="_blank" rel="noopener">naoqi_bridge</a> and <a href="http://wiki.ros.org/nao_description" target="_blank" rel="noopener">nao_description</a>. You can either install the official releases via your package manager or directly clone the necessary ros packages from github.</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#时钟同步，用于同步机器人和开发者PC　指令时钟</span></span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install chrony</span><br><span class="line"></span><br><span class="line"><span class="comment">#中间层驱动</span></span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install ros-indigo-naoqi-driver ros-indigo-naoqi-bridge ros-indigo-nao-description</span><br><span class="line"></span><br><span class="line"><span class="comment"># robot 3D meshes</span></span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install ros-indigo-nao-meshes</span><br></pre></td></tr></table></figure><p>安装 naoqi 为ros提供的中间接口部件<br>The core functionality is implemented in the <a href="http://wiki.ros.org/nao_robot" target="_blank" rel="noopener">nao_robot</a> stack (can be installed on the robot or on a remote PC), extended with further functionality in <a href="http://wiki.ros.org/nao_extras" target="_blank" rel="noopener">nao_extras</a> (should be installed on a remote PC).<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> install ros-indigo-nao-robot ros-indigo-nao-extras</span><br></pre></td></tr></table></figure></p><p><strong>1、运行roscore</strong><br>打开命令行窗口，这里我们称它为窗口1<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">roscore</span></span><br></pre></td></tr></table></figure></p><p><img src="/images/coding/ubuntu/ros/roscore.png" alt=""></p><p><strong>2、运行naoqi-bin 启动虚拟naoqi</strong><br>再打开一个新的命令行窗口，这里我们称它为窗口2<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/naoqi/choregraphe-suite<span class="number">-2.1</span><span class="number">.4</span><span class="number">.13</span>-linux64/bin/naoqi-bin --verbose --broker-ip <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br></pre></td></tr></table></figure></p><p>broker-ip地址127.0.0.1是用于连接到您自己的PC的环回地址。 因此，只有本地ROS可以连接到NAOqi。 NAOqi API可以通过broker-ip地址访问，nao_driver充当NAOqi API的包装器。</p><p><img src="/images/coding/ubuntu/ros/naoqi-bin.png" alt=""></p><p><strong>3、然后启动ros_driver包，使ros连接到本地PC上的模拟Naoqi</strong><br>再打开一个新的命令行窗口，这里我们称它为窗口3，在新终端中运行：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">LD_LIBRARY_PATH</span>=~/naoqi/choregraphe-suite-2.1.4.13-linux64/lib:$LD_LIBRARY_PATH <span class="attribute">NAO_IP</span>=127.0.0.1 roslaunch naoqi_driver_py naoqi_driver.launch</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：不要将此路径添加到.bashrc中的全局LD_LIBRARY_PATH，因为其他事情将会中断。 例如 rviz将无法运行与错误</p><p><img src="/images/coding/ubuntu/ros/naoqi_driver_launch.png" alt=""></p><p>完整输出如下：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">... logging to <span class="regexp">/home/</span>pi<span class="regexp">/.ros/</span>log<span class="regexp">/873f953c-c1d1-11e6-bfbe-68f728886d0f/</span>roslaunch-MINDCONT<span class="number">-32499.</span>log</span><br><span class="line">Checking log directory <span class="keyword">for</span> disk usage. This may take awhile.</span><br><span class="line">Press Ctrl-C to interrupt</span><br><span class="line">Done checking log file disk usage. Usage is &lt;<span class="number">1</span>GB.</span><br><span class="line"></span><br><span class="line">started roslaunch server <span class="string">http:</span><span class="comment">//MINDCONT:44778/</span></span><br><span class="line"></span><br><span class="line">SUMMARY</span><br><span class="line">========</span><br><span class="line"></span><br><span class="line">PARAMETERS</span><br><span class="line">* <span class="regexp">/naoqi_joint_states/</span><span class="string">use_odometry:</span> True</span><br><span class="line">* /<span class="string">rosdistro:</span> indigo</span><br><span class="line">* /<span class="string">rosversion:</span> <span class="number">1.11</span><span class="number">.20</span></span><br><span class="line"></span><br><span class="line">NODES</span><br><span class="line"> /</span><br><span class="line">   nao_logger (naoqi_driver_py/naoqi_logger.py)</span><br><span class="line">   naoqi_joint_states (naoqi_driver_py/naoqi_joint_states.py)</span><br><span class="line">   naoqi_moveto (naoqi_driver_py/naoqi_moveto.py)</span><br><span class="line"></span><br><span class="line">ROS_MASTER_URI=<span class="string">http:</span><span class="comment">//localhost:11311</span></span><br><span class="line"></span><br><span class="line">core service [/rosout] found</span><br><span class="line">process[naoqi_joint_states<span class="number">-1</span>]: started with pid [<span class="number">32526</span>]</span><br><span class="line">process[naoqi_moveto<span class="number">-2</span>]: started with pid [<span class="number">32527</span>]</span><br><span class="line">process[nao_logger<span class="number">-3</span>]: started with pid [<span class="number">32528</span>]</span><br><span class="line">[INFO] [<span class="string">WallTime:</span> <span class="number">1481702387.495187</span>] Connecting to NaoQi at <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">9559</span></span><br><span class="line">[I] <span class="number">32527</span> qimessaging.<span class="string">session:</span> Session listener created on <span class="string">tcp:</span><span class="comment">//0.0.0.0:0</span></span><br><span class="line">[I] <span class="number">32527</span> qimessaging.<span class="string">transportserver:</span> TransportServer will listen <span class="string">on:</span> <span class="string">tcp:</span><span class="comment">//172.17.0.1:34320</span></span><br><span class="line">[I] <span class="number">32527</span> qimessaging.<span class="string">transportserver:</span> TransportServer will listen <span class="string">on:</span> <span class="string">tcp:</span><span class="comment">//192.168.1.123:34320</span></span><br><span class="line">[I] <span class="number">32527</span> qimessaging.<span class="string">transportserver:</span> TransportServer will listen <span class="string">on:</span> <span class="string">tcp:</span><span class="comment">//127.0.0.1:34320</span></span><br></pre></td></tr></table></figure></p><p>至此，你就通过ros -&gt; naoqi_driver -&gt; virtual NAOqi 会话过程的建立，但是还没有可视化过程，下面我们将进行可视化。</p><h3 id="通过rviz可视化模拟机器人-Nao-robot"><a href="#通过rviz可视化模拟机器人-Nao-robot" class="headerlink" title="通过rviz可视化模拟机器人 Nao robot"></a>通过rviz可视化模拟机器人 Nao robot</h3><p>关闭所有的窗口，然后打开一个新的窗口，输入下面的指令<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch nao_description display.<span class="built_in">launch</span></span><br></pre></td></tr></table></figure></p><p>在左上角的“显示”窗口中，将“固定框架”更改为“/ base_link”。如果只有“/ map”选项可用，则不会从上一步加载URDF模型。<br><img src="/images/coding/ubuntu/ros/fixed-frame-base_link.jpg" alt=""></p><p>点击“添加”按钮并添加RobotModel</p><p><img src="/images/coding/ubuntu/ros/add-robot-model.png" alt=""></p><p>如果一切正常，你会看到一个机器人模型。通过调节右侧的滑块，机器人将做相应的动作。</p><p><img src="/images/coding/ubuntu/ros/naoqi-display.jpg" alt=""><br><img src="/images/coding/ubuntu/ros/turtlebot.jpg" alt=""></p><p>如果过程中遇到错误和问题，请参考下面的<a href="http://blog.mindcont.coms/2016/12/14/ros-naoqi-ubuntu/#参考" target="_blank" rel="noopener">参考链接</a>。</p><p>本文系作者原创，<strong>转载注明出处 <a href="http://blog.mindcont.com/2016/12/14/ros-naoqi-ubuntu/">http://blog.mindcont.com/2016/12/14/ros-naoqi-ubuntu/</a></strong></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="http://wiki.ros.org/openni/Contests/ROS%203D/Humanoid%20Teleoperation" target="_blank" rel="noopener">Humanoid Teleoperation</a></li><li><a href="http://wiki.ros.org/nao/Tutorials" target="_blank" rel="noopener">nao Tutorials</a></li><li><a href="http://wiki.ros.org/cturtle/Installation/Ubuntu" target="_blank" rel="noopener">Ubuntu install of C turtle</a></li><li><a href="http://wiki.ros.org/cn/indigo/Installation/Ubuntu" target="_blank" rel="noopener">在Ubuntu中安装ROS Indigo</a></li><li><a href="http://wiki.ros.org/nao" target="_blank" rel="noopener">ros-nao</a></li><li><a href="http://wiki.ros.org/nao/Tutorials/Installation" target="_blank" rel="noopener">ros-nao-install</a></li><li><a href="http://wiki.ros.org/nao/Tutorials/Getting-Started" target="_blank" rel="noopener">Getting started with ROS for Nao</a></li><li><a href="http://wiki.ros.org/nao/Tutorials/Getting-Started#Launching_ROS_on_a_virtual_NAOqi" target="_blank" rel="noopener">Launching_ROS_on_a_virtual_NAOqi</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ROS( robot operating system) 是一款开源的面向与机器人控制领域的操作系统，起源于2007斯坦福大学人工智能实验室的项目与机器人技术公司Willow Garage 的个人机器人项目之间的合作，2008年之后由Willow Garage 推动，2010 年该公司将其开源，2015年，ros 发布了Jade 版本。&lt;br&gt;
    
    </summary>
    
    
      <category term="ros" scheme="http://blog.mindcont.com/tags/ros/"/>
    
  </entry>
  
  <entry>
    <title>naoqi robot 开发环境搭建</title>
    <link href="http://blog.mindcont.com/2016/12/14/naoqi-robot-sdk-ubuntu/"/>
    <id>http://blog.mindcont.com/2016/12/14/naoqi-robot-sdk-ubuntu/</id>
    <published>2016-12-14T02:52:41.000Z</published>
    <updated>2018-01-09T03:39:49.277Z</updated>
    
    <content type="html"><![CDATA[<p>本文将带您完成naoqi robot SDK 在ubuntu 14.04(lts)下开发环境的配置,这里值得注意的是您不一定需要购买一个naoqi 机器人才能进行开发，这里可以选择使用虚拟机器人，一般开发过程中我们首先将程序指令在虚拟机器人中进行调试，待成功后下载到真实机器人中进行实地运行。<br><a id="more"></a><br><img src="/images/coding/ubuntu/ros/2016_DEV_PROG_launch_banner_600x360_mailing_V3_EN.png" alt=""></p><h3 id="安装-naoqi-choregraphe-suite"><a href="#安装-naoqi-choregraphe-suite" class="headerlink" title="安装　naoqi choregraphe suite"></a>安装　naoqi choregraphe suite</h3><p>Choregraphe是一个多平台的桌面应用程序，允许您：</p><p>1、创建动画，行为和对话框，<br>2、在模拟机器人上或直接在真实机器人上测试它们，<br>3、监控和控制你的机器人，<br>4、使用自己的Python代码丰富Choregraphe行为。</p><p>由于官方提供的链接国内下载容易失败，这里可以使用笔者已经下载好的文件。<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget ftp://mindcont.com/IoT/Naoqi/Choregraphe/choregraphe-suite-<span class="number">2.1</span><span class="meta">.4</span><span class="meta">.13</span>-linux64.tar.gz</span><br><span class="line">tar -xvf choregraphe-suite-<span class="number">2.1</span><span class="meta">.4</span><span class="meta">.13</span>-linux64.tar.gz naoqi/</span><br><span class="line">cd ~/naoqi/choregraphe-suite-<span class="number">2.1</span><span class="meta">.4</span><span class="meta">.13</span>-linux64/</span><br><span class="line">./choregraphe</span><br></pre></td></tr></table></figure></p><p><img src="/images/coding/ubuntu/ros/choregraphe-license.png" alt=""></p><p>这里先选择试用，当然你可以去<a href="https://community.ald.softbankrobotics.com/en/developerprogram" target="_blank" rel="noopener">开发者社区</a>申请为开发者，可以无限制的免费使用，但同一时间只能有一个　choregraphe运行。</p><p>打开后界面如下,类似于matlab 工具箱中的模块化编程，可以在左下角中选择官方封装好的模块，然后用鼠标拖动到中间区域，连线使之成为一个通路，然后点击上方的绿色三角形，让虚拟机器人开始执行。</p><p><img src="/images/coding/ubuntu/ros/choregraphe.jpg" alt=""></p><p>通过执行naoqi来检查安装是否成功:<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> ~<span class="string">/naoqi/choregraphe-suite-2.1.4.13-linux64/bin</span></span><br><span class="line"><span class="string">./naoqi-bin</span></span><br></pre></td></tr></table></figure></p><p>你应该看到类似的输出:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">pi@MINDCONT:~/naoqi/choregraphe-suite-<span class="number">2.1</span>.<span class="number">4.13</span>-linux64/bin$ ./naoqi-bin</span><br><span class="line">[I] <span class="number">27177</span> core<span class="selector-class">.naoqi</span>: ..::: starting NAOqi version <span class="number">2.1</span>.<span class="number">4</span> :::..</span><br><span class="line">[I] <span class="number">27177</span> core<span class="selector-class">.naoqi</span>: Copyright (c) <span class="number">2005</span>-<span class="number">2013</span>, Aldebaran Robotics</span><br><span class="line">[I] <span class="number">27177</span> core<span class="selector-class">.naoqi</span>: Build tag: jenkins-release-<span class="number">2.1</span>_choregraphe-suite_linux64-<span class="number">39</span></span><br><span class="line">[I] <span class="number">27177</span> qimessaging<span class="selector-class">.servicedirectory</span>: ServiceDirectory listener created on tcp:<span class="comment">//0.0.0.0:9559</span></span><br><span class="line">[I] <span class="number">27177</span> qimessaging<span class="selector-class">.transportserver</span>: TransportServer will listen on: tcp:<span class="comment">//172.17.0.1:9559</span></span><br><span class="line">[I] <span class="number">27177</span> qimessaging<span class="selector-class">.transportserver</span>: TransportServer will listen on: tcp:<span class="comment">//192.168.1.123:9559</span></span><br><span class="line">[I] <span class="number">27177</span> qimessaging<span class="selector-class">.transportserver</span>: TransportServer will listen on: tcp:<span class="comment">//127.0.0.1:9559</span></span><br><span class="line">[I] <span class="number">27177</span> qimessaging<span class="selector-class">.servicedirectory</span>: Registered Service <span class="string">"ServiceDirectory"</span> (#<span class="number">1</span>)</span><br><span class="line">[I] <span class="number">27177</span> qimessaging<span class="selector-class">.servicedirectory</span>: Registered Service <span class="string">"LogManager"</span> (#<span class="number">2</span>)</span><br><span class="line">．．．．</span><br><span class="line">．．．．</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.LongTermMemory</span>: User database creation succeed</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: No dialog history management</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: AI system enabled</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: BNF confidence <span class="number">0.5</span></span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: REMOTE confidence <span class="number">0.3</span></span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Serialization enabled</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Upper SLM <span class="number">1</span></span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Enable <span class="attribute">auto</span> update</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Push mode <span class="number">2</span></span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Enable full speech recognition</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Audio expression enabled</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Smalldisplacement enabled</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Breath enabled</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: No animated speech configuration</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Default volume <span class="number">0</span></span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: No dialog history management</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: AI system enabled</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: BNF confidence <span class="number">0.5</span></span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: REMOTE confidence <span class="number">0.3</span></span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Serialization enabled</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Upper SLM <span class="number">1</span></span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Enable <span class="attribute">auto</span> update</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Push mode <span class="number">2</span></span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Enable full speech recognition</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Audio expression enabled</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Smalldisplacement enabled</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Breath enabled</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: No animated speech configuration</span><br><span class="line">[I] <span class="number">27177</span> Dialog<span class="selector-class">.preference</span>: Default volume <span class="number">0</span></span><br><span class="line">[I] <span class="number">27177</span> qimessaging<span class="selector-class">.servicedirectory</span>: Registered Service <span class="string">"ALDialog"</span> (#<span class="number">77</span>)</span><br><span class="line">[I] <span class="number">27177</span> core<span class="selector-class">.naoqi</span>: NAOqi is ready...</span><br></pre></td></tr></table></figure></p><h3 id="安装-naoqi-python-SDK"><a href="#安装-naoqi-python-SDK" class="headerlink" title="安装　naoqi python SDK"></a>安装　naoqi python SDK</h3><p>这里我们采用 naoqi 官方提供的python 接口(类似的还可以选择 java 、c++ 步骤类似)，调用封装好的函数，实现自己的功能。我已经下载好windows、mac、linux 各个平台的开发所需的文件，大家可以在<a href="ftp://mindcont.com/IoT/Naoqi" target="_blank" rel="noopener">ftp://mindcont.com/IoT/Naoqi</a>自行下载。<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">wget ftp://mindcont.com/IoT/Naoqi/sdk/python/pynaoqi-python2<span class="meta">.7</span>-<span class="number">2.1</span><span class="meta">.4</span><span class="meta">.13</span>-linux64.tar.gz</span><br><span class="line">tar -xvf pynaoqi-python2<span class="meta">.7</span>-<span class="number">2.1</span><span class="meta">.4</span><span class="meta">.13</span>-linux64.tar.gz naoqi/</span><br><span class="line"></span><br><span class="line"># 配置环境变量，在打开的文本中添加下面的内容．注意换成你的路径</span><br><span class="line">gedit ~/.bashrc</span><br><span class="line"></span><br><span class="line"># edit for naoqi python sdk</span><br><span class="line">export PYTHONPATH=$&#123;PYTHONPATH&#125;:/home/pi/naoqi/pynaoqi-python2<span class="meta">.7</span>-<span class="number">2.1</span><span class="meta">.4</span><span class="meta">.13</span>-linux64/</span><br><span class="line"></span><br><span class="line"># 保存后，输入下面的指令使其生效</span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure></p><p>打开新的命令行窗口，用python 的导入naoqi 包，来测试你的路径是否配置成功。如果没有报错，那麽恭喜你完成了naoqi 机器人的开发环境搭建。<br><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">python</span></span><br><span class="line"><span class="keyword">import</span> naoqi</span><br></pre></td></tr></table></figure></p><p><img src="/images/coding/ubuntu/ros/naoqi-python-sdk.png" alt=""></p><h2 id="Next"><a href="#Next" class="headerlink" title="Next"></a>Next</h2><p>下一步，我们会构建<a href="http://blog.mindcont.com/2016/12/14/ros-naoqi-ubuntu/">基于ROS的 naoqi 机器人开发环境</a>的搭建，欢迎继续关注。</p><p>本文系作者原创，<strong>转载注明出处 <a href="http://blog.mindcont.com/2016/12/14/naoqi-robot-sdk-ubuntu/">http://blog.mindcont.com/2016/12/14/naoqi-robot-sdk-ubuntu/</a></strong></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="http://wiki.ros.org/nao/Tutorials/Getting-Started" target="_blank" rel="noopener">Getting started with ROS for Nao</a></li><li><a href="http://doc.aldebaran.com/1-14/dev/python/install_guide.html#python-install-guide" target="_blank" rel="noopener">Python SDK Install Guide</a></li><li><a href="http://doc.aldebaran.com/2-1/software/choregraphe/choregraphe_overview.html" target="_blank" rel="noopener">Naoqi Robot Choregraphe doc</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文将带您完成naoqi robot SDK 在ubuntu 14.04(lts)下开发环境的配置,这里值得注意的是您不一定需要购买一个naoqi 机器人才能进行开发，这里可以选择使用虚拟机器人，一般开发过程中我们首先将程序指令在虚拟机器人中进行调试，待成功后下载到真实机器人中进行实地运行。&lt;br&gt;
    
    </summary>
    
    
      <category term="ros" scheme="http://blog.mindcont.com/tags/ros/"/>
    
  </entry>
  
  <entry>
    <title>使用OpenWrt打造透明路由</title>
    <link href="http://blog.mindcont.com/2016/11/15/use-shadowsocks-on-openwrt/"/>
    <id>http://blog.mindcont.com/2016/11/15/use-shadowsocks-on-openwrt/</id>
    <published>2016-11-15T12:32:36.000Z</published>
    <updated>2018-01-09T03:38:08.288Z</updated>
    
    <content type="html"><![CDATA[<p>Openwrt是用于路由器的高度模块化，高度智能化的嵌入式Linux发行版，具有强大的扩展性，有数百个编译好的软件可供安装。Openwrt版本的Shadowsocks，具有透明代理，UDP转发等功能，透明代理实现流量转发，DNS的污染问题则通过UDP转发解决(DNS查询使用UDP协议)。</p><h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><p>本方案实施的前提条件：一台支持刷为Openwrt的路由器，一台PC机，Shadowscosks账号。</p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本方案翻墙流程大致如下：客户端发出某域名的DNS请求–&gt;chinadns解析–&gt;解析到的IP存入ipset表中–&gt;设置iptables规则，ipset表中的ip地址全部走SS代理端口–&gt;正常浏览被墙网站。</p><ul><li><p>路由器网络(Network)-&gt;DHCP and DNS 即（dnsmasq进程）将所有的dns解析任务转发到本地127.0.0.1:5353 端口</p></li><li><p>chinadns 监听本地5353端口，分别对国内IP和国外Ip双向过滤，并向它的上一级请求219.149.6.99（ISP供应商）和8.8.8.8（谷歌DNS）,从而实现国内国外走不同的线路。</p></li><li><p>再配置ipset表和iptables规则，将解析到的IP存入ipset表中–设置iptables规则，ipset表中的ip地址（即dnsmasq.d/dnsmasq_list.conf.conf文件中的地址）全部走SS代理端口(如本地1080端口)–正常浏览被墙网站。</p></li><li><p>而这里的shadowsocks中的ss-redir 负责监听本地端口1080，负责将收到的包经由ss，加密socks代理至ss服务器。</p></li></ul><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="安装shasowsocks和chinadns"><a href="#安装shasowsocks和chinadns" class="headerlink" title="安装shasowsocks和chinadns"></a>安装shasowsocks和chinadns</h3><p><img src="/images/iot/openwrt/shadowsocks-install.png" alt=""><br>chinadns 的安装过程类似。</p><h3 id="配置Shadowsocks"><a href="#配置Shadowsocks" class="headerlink" title="配置Shadowsocks"></a>配置Shadowsocks</h3><p>在windows下使用SSH工具，如<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/" target="_blank" rel="noopener">Putty</a>等，在Host name 填写192.168.1.1，端口22 ，然后点击 Open.<br><img src="/images/iot/openwrt/putty.png" alt=""></p><p>在linux下，打开终端输入<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ssh</span> <span class="selector-tag">root</span>@<span class="keyword">192</span>.<span class="keyword">168</span>.<span class="keyword">1</span>.<span class="keyword">1</span></span><br></pre></td></tr></table></figure></p><p>输人密码（默认 admin）登陆,如下图所示<br><img src="/images/iot/openwrt/welcome.png" alt=""></p><p>配置 /etc/shadowsocks.json：运行命令vi /etc/shadowsocks.json，格式如下：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="string">"server"</span>: <span class="string">"X.X.X.X"</span>,    <span class="meta">#这里填写你的SS服务器IP</span></span><br><span class="line"><span class="string">"server_port"</span>: <span class="number">443</span>,     <span class="meta">#SS服务器端口</span></span><br><span class="line"><span class="string">"local_port"</span>: <span class="number">1080</span>,     <span class="meta">#本地端口1080</span></span><br><span class="line"><span class="string">"password"</span>: <span class="string">"password"</span>, <span class="meta"># 密码</span></span><br><span class="line"><span class="string">"timeout"</span>: <span class="number">60</span>,          <span class="meta"># 超时时间</span></span><br><span class="line"><span class="string">"method"</span>: <span class="string">"chacha20"</span>    <span class="meta"># 加密方式</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">按　esc ，输入：wq! 保存</span><br></pre></td></tr></table></figure><p>修改 /etc/init.d/shadowsocks，通过指令vi /etc/init.d/shadowsocks 注释掉ss-local，取消掉ss-redir（透明代理）。格式如下：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh /etc/rc.common</span><br><span class="line"></span><br><span class="line">START=<span class="number">95</span></span><br><span class="line"></span><br><span class="line">SERVICE_USE_PID=<span class="number">1</span></span><br><span class="line">SERVICE_WRITE_PID=<span class="number">1</span></span><br><span class="line">SERVICE_DAEMONIZE=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">CONFIG=/etc/shadowsocks.json</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">start</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="selector-id">#service_start</span> /usr/bin/ss-local -c <span class="variable">$CONFIG</span> -<span class="selector-tag">b</span> <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line">        service_start /usr/bin/ss-redir -c <span class="variable">$CONFIG</span> -<span class="selector-tag">b</span> <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line">        <span class="selector-id">#service_start</span> /usr/bin/ss-tunnel -c <span class="variable">$CONFIG</span> -<span class="selector-tag">b</span> <span class="number">0.0</span>.<span class="number">0.0</span> -l <span class="number">5353</span> -L <span class="number">8.8</span>.<span class="number">8.8</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">stop</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="selector-id">#service_stop</span> /usr/bin/ss-local</span><br><span class="line">        service_stop /usr/bin/ss-redir</span><br><span class="line">        <span class="selector-id">#service_stop</span> /usr/bin/ss-tunnel</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">按　esc ，输入：wq! 保存</span><br></pre></td></tr></table></figure></p><h3 id="配置dnsmasq和ipset"><a href="#配置dnsmasq和ipset" class="headerlink" title="配置dnsmasq和ipset"></a>配置dnsmasq和ipset</h3><p>修改 /etc/dnsmasq.conf<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> /etc</span><br><span class="line"><span class="keyword">ls</span></span><br><span class="line"><span class="keyword">vi</span> dnsmasq.<span class="keyword">conf</span></span><br></pre></td></tr></table></figure></p><p>在文本末尾填写如下内容<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># add <span class="keyword">this</span> <span class="keyword">for</span> dnsmasq config <span class="number">2016</span><span class="regexp">/11/</span><span class="number">15</span>                              </span><br><span class="line">conf-dir=<span class="regexp">/etc/</span>dnsmasq.d  </span><br><span class="line"></span><br><span class="line">按　esc ，输入：wq! 保存</span><br></pre></td></tr></table></figure></p><p>新建并进入目录 /etc/dnsmasq.d，下载<a href="http://pan.baidu.com/s/1pKl8AgV" target="_blank" rel="noopener">dnsmasq_list.conf</a>并放在该目录下（本人仅添加了谷歌，Youtube，脸书，推特等等常用域名，该列表持续更新中。注意域名太多反而会影响dnsmasq的性能！）。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir dnsmasq.d</span><br><span class="line">cd dnsmasq.d</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将下载的dnsmasq_list.conf 放到dnsmasq.d 目录下</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> windows 下可通过winscp 工具上传</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> linux 下通过  scp pi@192.168.113:/home/pi/dnsmasq_list.conf .</span></span><br></pre></td></tr></table></figure></p><h3 id="Luci界面配置"><a href="#Luci界面配置" class="headerlink" title="Luci界面配置"></a>Luci界面配置</h3><p>这一部分我们通过openwrt 的web管理界面进行配置。在浏览器输入 192.168.1.1 登录路由器管理界面，默认账户root 默认密码：admin。</p><h4 id="配置路由器DNS-dnsmasq"><a href="#配置路由器DNS-dnsmasq" class="headerlink" title="配置路由器DNS(dnsmasq)"></a>配置路由器DNS(dnsmasq)</h4><p>进入网络(Network)-&gt;DHCP and DNS。<br>将DNS解析端口设置为127.0.0.1#5353。这将使得路由器将DNS请求经由dnsmasq全部转发至ChinaDNS处理。<br><img src="/images/iot/openwrt/dhcp.png" alt=""></p><p>勾选“忽略解析文件”(ignore resolve file), 保存并应用<br><img src="/images/iot/openwrt/dhcp_hosts.png" alt=""></p><h4 id="ChinaDNS配置"><a href="#ChinaDNS配置" class="headerlink" title="ChinaDNS配置"></a>ChinaDNS配置</h4><p>在路由器web管理页面，进入服务(Services)-&gt;ChinaDNS<br>本地端口写5353，中国路由表(CHNRoute File)填/etc/chinadns_chnroute.txt<br>上游DNS服务器填114.114.114.114,.8.8.8.8。（可将114.114.114.114改成当前ISP提供的DNS服务器IP）<br>保存并应用<br><img src="/images/iot/openwrt/chinadns.png" alt=""></p><p>这样设置后，从内网主机端发出的国外DNS请求将发送至：dnsmasq-&gt;ChinaDNS-&gt;8.8.8.8，<br>国内DNS请求则：dnsmasq-&gt;ChinaDNS-&gt;114.114.114（或你的ISP供应商的DNS）。</p><h4 id="shadowsocks-配置"><a href="#shadowsocks-配置" class="headerlink" title="shadowsocks 配置"></a>shadowsocks 配置</h4><p>进入服务(Services)-&gt;ShadowSocks 。访问控制－&gt;接口-WAN 被忽略的IP 列表选择 chinadns路由表,保存并应用。<br><img src="/images/iot/openwrt/shadowsocks_udp.png" alt=""></p><h4 id="自定义防火墙"><a href="#自定义防火墙" class="headerlink" title="自定义防火墙"></a>自定义防火墙</h4><p>进入Luci界面-网络-防火墙-自定义规则，加入以下规则（最后的1080是Shadowsocks的本地端口，请酌情修改）：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ipset -N gfwlist iphash</span><br><span class="line">iptables -t<span class="built_in"> nat </span>-A PREROUTING -p tcp -m <span class="builtin-name">set</span> --match-<span class="builtin-name">set</span> gfwlist dst -j REDIRECT --to-port 1080</span><br><span class="line">iptables -t<span class="built_in"> nat </span>-A OUTPUT -p tcp -m <span class="builtin-name">set</span> --match-<span class="builtin-name">set</span> gfwlist dst -j REDIRECT --to-port 1080</span><br></pre></td></tr></table></figure></p><p>如下图所示<br><img src="/images/iot/openwrt/iptable.png" alt=""></p><h3 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h3><p>路由器<strong>重启后</strong>，即可无界访问了。如果遇到问题，请打开<strong>下面的参考链接</strong>。可以通过　netstat -nl 查看当前活动的链接，看看相应的端口是否已经打开。<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">root@DEEPMIND:</span>~# netstat -nl</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">139</span>             <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*               LISTEN      </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">80</span>              <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*               LISTEN      </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">53</span>              <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*               LISTEN      </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">22</span>              <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*               LISTEN      </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">1080</span>            <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*               LISTEN      </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">445</span>             <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*               LISTEN      </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> :::<span class="number">139</span>                  :::*                    LISTEN      </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> :::<span class="number">80</span>                   :::*                    LISTEN      </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> :::<span class="number">53</span>                   :::*                    LISTEN      </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> :::<span class="number">22</span>                   :::*                    LISTEN      </span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> :::<span class="number">445</span>                  :::*                    LISTEN      </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">127.0</span><span class="meta">.0</span><span class="meta">.1</span>:<span class="number">53001</span>         <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">53</span>              <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">67</span>              <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">35696</span>           <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">192.168</span><span class="meta">.1</span><span class="meta">.255</span>:<span class="number">137</span>       <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">192.168</span><span class="meta">.1</span><span class="meta">.1</span>:<span class="number">137</span>         <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">137</span>             <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">192.168</span><span class="meta">.1</span><span class="meta">.255</span>:<span class="number">138</span>       <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">192.168</span><span class="meta">.1</span><span class="meta">.1</span>:<span class="number">138</span>         <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">138</span>             <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">5353</span>            <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">54250</span>           <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                           </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> :::<span class="number">547</span>                  :::*                                </span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> :::<span class="number">53</span>                   :::*                                </span><br><span class="line">raw        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">1</span>               <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*               <span class="number">1</span>           </span><br><span class="line">raw        <span class="number">0</span>      <span class="number">0</span> ::<span class="subst">%4559988</span>:<span class="number">58</span>           :::*                    <span class="number">58</span>          </span><br><span class="line">raw        <span class="number">0</span>      <span class="number">0</span> ::<span class="subst">%4559988</span>:<span class="number">58</span>           :::*                    <span class="number">58</span>          </span><br><span class="line">Active UNIX domain sockets (only servers)</span><br><span class="line">Proto RefCnt Flags       Type       State         I-Node Path</span><br><span class="line">unix  <span class="number">2</span>      [ ACC ]     STREAM     LISTENING       <span class="number">2315</span> /var/nmbd/unexpected</span><br><span class="line">unix  <span class="number">2</span>      [ ACC ]     STREAM     LISTENING        <span class="number">379</span> /var/run/ubus.sock</span><br></pre></td></tr></table></figure></p><p>通过　top 查看当前活动进程。下图是我配置好以后的运行进程。<br><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Mem: 26204K used, 3300K free, 0K shrd, 1908K buff, 6840K cached</span><br><span class="line">CPU:   1% usr   0% sys   0% nic  96% idle   0% io   0% irq   1% sirq</span><br><span class="line">Load average: 0.00 0.01 0.05 2/45 11322</span><br><span class="line">  PID  PPID USER     STAT   VSZ %VSZ %CPU COMMAND</span><br><span class="line"><span class="number"> 1891 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 1732 </span>  6%   1% /usr/sbin/hostapd -P /var/run/wifi-ph</span><br><span class="line"> <span class="number"> 916 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 1544 </span>  5%   0% /sbin/netifd</span><br><span class="line">11309  <span class="number"> 993 </span>root     S    <span class="number"> 1216 </span>  4%   0% /usr/sbin/dropbear -F -P /var/run/dro</span><br><span class="line"><span class="number"> 1574 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 1484 </span>  5%   0% &#123;mwan3track&#125; /bin/sh /usr/sbin/mwan3t</span><br><span class="line">11320<span class="number"> 11312 </span>root     R    <span class="number"> 1484 </span>  5%   0% top</span><br><span class="line"> <span class="number"> 882 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 1048 </span>  4%   0% /sbin/logd -S 16</span><br><span class="line"><span class="number"> 1413 </span>   <span class="number"> 1 </span>root     S     <span class="number"> 832 </span>  3%   0% /usr/bin/chinadns -p<span class="number"> 5353 </span>-s 219.149.</span><br><span class="line"><span class="number"> 1387 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 8912 </span> 30%   0% /usr/sbin/collectd</span><br><span class="line"><span class="number"> 1325 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 3180 </span> 11%   0% /usr/sbin/nmbd -D</span><br><span class="line"><span class="number"> 1323 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 3088 </span> 10%   0% /usr/sbin/smbd -D</span><br><span class="line"><span class="number"> 1434 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 3040 </span> 10%   0% /usr/bin/ss-redir -c /etc/shadowsocks</span><br><span class="line"><span class="number"> 1371 </span>   <span class="number"> 1 </span>nobody   S    <span class="number"> 2068 </span>  7%   0% /usr/sbin/dnsmasq -C /var/etc/dnsmasq</span><br><span class="line"><span class="number"> 1028 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 1580 </span>  5%   0% /usr/sbin/uhttpd -f -h /www -r OpenWr</span><br><span class="line"><span class="number"> 1463 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 1484 </span>  5%   0% /usr/sbin/ntpd -n -p 0.openwrt.pool.n</span><br><span class="line"> <span class="number"> 975 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 1484 </span>  5%   0% /usr/sbin/crond -f -c /etc/crontabs -</span><br><span class="line">11312<span class="number"> 11309 </span>root     S    <span class="number"> 1484 </span>  5%   0% -ash</span><br><span class="line">11322 <span class="number"> 1574 </span>root     S    <span class="number"> 1472 </span>  5%   0% sleep 5</span><br><span class="line">   <span class="number"> 1 </span>   <span class="number"> 0 </span>root     S    <span class="number"> 1420 </span>  5%   0% /sbin/procd</span><br><span class="line"> <span class="number"> 953 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 1184 </span>  4%   0% /usr/sbin/odhcpd</span><br><span class="line"> <span class="number"> 993 </span>   <span class="number"> 1 </span>root     S    <span class="number"> 1148 </span>  4%   0% /usr/sbin/dropbear -F -P /var/run/dro</span><br></pre></td></tr></table></figure></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://php-rmcr7.rhcloud.com/openwrt-fq/" target="_blank" rel="noopener">教你如何实现Openwrt路由器智能翻墙</a></li><li><a href="http://undownding.me/2015/02/10/use-shadowsocks-on-openwrt/" target="_blank" rel="noopener">在 OpenWRT 上使用 ShadowSocks 建立透明代理</a></li><li><a href="https://blog.chionlab.moe/2016/01/23/openwrt-bypass-gfw-solution/" target="_blank" rel="noopener">OpenWRT路由器上的ShadowSocks+ChinaDNS搭梯子方案</a></li><li><a href="https://www.logcg.com/archives/860.html" target="_blank" rel="noopener">路由器刷OpenWRT安装shadowsocks使用透明代理+去DNS污染</a></li><li><a href="https://www.logcg.com/archives/868.html" target="_blank" rel="noopener">路由器刷OpenWRT使用ShadowSocks透明代理进阶配置</a></li><li><a href="https://www.shintaku.cc/2016/06/01/chinadns/" target="_blank" rel="noopener">ChinaDNS+ShadowSocks实现路由器透明代理</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Openwrt是用于路由器的高度模块化，高度智能化的嵌入式Linux发行版，具有强大的扩展性，有数百个编译好的软件可供安装。Openwrt版本的Shadowsocks，具有透明代理，UDP转发等功能，透明代理实现流量转发，DNS的污染问题则通过UDP转发解决(DNS查询使用
      
    
    </summary>
    
      <category term="物联" scheme="http://blog.mindcont.com/categories/%E7%89%A9%E8%81%94/"/>
    
    
      <category term="openwrt" scheme="http://blog.mindcont.com/tags/openwrt/"/>
    
  </entry>
  
  <entry>
    <title>发布自己的软件包存档</title>
    <link href="http://blog.mindcont.com/2016/11/13/ppa/"/>
    <id>http://blog.mindcont.com/2016/11/13/ppa/</id>
    <published>2016-11-13T11:45:31.000Z</published>
    <updated>2018-01-09T03:40:14.990Z</updated>
    
    <content type="html"><![CDATA[<p>PPA，或是Personal Package Archive（个人软件包存档），是默认情况下并未被包含在Ubuntu中的软件的一个集合。使用个人包存档（PPA），您可以直接向Ubuntu用户分发软件和更新。<a id="more"></a>创建你的源码包，上传它，Launchpad将构建二进制文件，然后将它们托管在您自己的apt存储库中。 这意味着Ubuntu用户可以安装您的软件包，就像安装标准Ubuntu软件包一样，他们会自动接收更新。</p><p>Launchpad中的每个个人和团队都可以拥有一个或多个PPA，每个PPA都有自己的URL。 您在PPA中发布的软件包将保留在那里，直到您删除它们，它们将被您上传的另一个软件包或其所构建的Ubuntu版本所取代。</p><h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><p>而创建一个属于自己维护的PPA，大致包括一下流程：创建自己的GPG KEY密钥(用于对软件包认证和签名)，SSH KEY,创建launchpad账户并配置密钥，安装打包环境，编写软件包，打包测试，对生成的软件包认证，最后上传到launchpad。下面我将逐步的介绍。</p><h3 id="安装打包需要的软件环境"><a href="#安装打包需要的软件环境" class="headerlink" title="安装打包需要的软件环境"></a>安装打包需要的软件环境</h3><p>Ubuntu 11.10之前<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="keyword">get</span> install gnupg pbuilder ubuntu-dev-tools bzr-builddeb apt-<span class="built_in">file</span></span><br></pre></td></tr></table></figure></p><p>Ubuntu 11.10之后，可以通过如下命令安装：<br><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> install packaging-<span class="built_in">dev</span></span><br></pre></td></tr></table></figure></p><h3 id="创建自己的GPG-key"><a href="#创建自己的GPG-key" class="headerlink" title="创建自己的GPG key"></a>创建自己的GPG key</h3><p>1991年，程序员<a href="http://en.wikipedia.org/wiki/Phil_Zimmermann" target="_blank" rel="noopener">Phil Zimmermann</a>为了避开政府监视，开发了加密软件PGP。这个软件非常好用，迅速流传开来，成了许多程序员的必备工具。但是，它是商业软件，不能自由使用。所以，自由软件基金会决定，开发一个PGP的替代品，取名为GnuPG。这就是GPG的由来。</p><p>如果想要将软件包上传到launchpad.net，就必须使用gpg签名。要配置gpg，可以参考gpp官网上的<a href="http://www.gnupg.org/howtos/zh/index.html" target="_blank" rel="noopener">袖珍说明书</a>。<strong>注意</strong>，过程中会要求你输入一个加密密码，一定要记住，不要乱写！！！</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg <span class="comment">--gen-key</span></span><br></pre></td></tr></table></figure><p><img src="/images/coding/ubuntu/ppa/gpgkey.png" alt=""><br>之后你应该会看到如下信息：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pub   <span class="number">2048</span>R/AA08D2A8 <span class="number">2014</span><span class="number">-03</span><span class="number">-25</span></span><br><span class="line">       密钥指纹 = <span class="number">5</span>EAC <span class="number">8E2</span>F <span class="number">5507</span> E388 E316  <span class="number">3</span>AD9 F894 <span class="number">2</span>D76 AA08 D2A8</span><br><span class="line">uid                  zhangxin (openyoudao) &lt;justzx2011@gmail.com&gt;</span><br><span class="line">sub   <span class="number">2048</span>R/<span class="number">8</span>A54FE05 <span class="number">2014</span><span class="number">-03</span><span class="number">-25</span></span><br><span class="line">其中AA08D2A8是生成的<span class="type">key</span></span><br></pre></td></tr></table></figure></p><p>将key的公共部分上传到key server，这样全世界的开发者就可以根据你的key来识别你的信息和文件<br><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span> <span class="comment">gpg</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">send</span><span class="literal">-</span><span class="comment">keys</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">keyserver</span> <span class="comment">keyserver</span><span class="string">.</span><span class="comment">ubuntu</span><span class="string">.</span><span class="comment">com</span> &lt;<span class="comment">KEY</span> <span class="comment">ID</span>&gt;</span><br><span class="line"><span class="comment">#</span> <span class="comment">这里的</span>&lt;<span class="comment">KEY</span> <span class="comment">ID</span>&gt;<span class="comment">　用你的　pub</span> <span class="comment">字段中　2048R/****　中的****替换，如下例所示</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">gpg</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">send</span><span class="literal">-</span><span class="comment">keys</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">keyserver</span> <span class="comment">keyserver</span><span class="string">.</span><span class="comment">ubuntu</span><span class="string">.</span><span class="comment">com</span> <span class="comment">AA08D2A8</span></span><br></pre></td></tr></table></figure></p><h3 id="创建你的ssh-key"><a href="#创建你的ssh-key" class="headerlink" title="创建你的ssh key"></a>创建你的ssh key</h3><p>ssh 代表安全的shell ,这里用来安全的把文件上传到PPA发布平台<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ssh-keygen -t rsa</span></span><br></pre></td></tr></table></figure></p><h3 id="创建pbuilder"><a href="#创建pbuilder" class="headerlink" title="创建pbuilder"></a>创建pbuilder</h3><p>pbuilder 是允许开发者在本地创建PPA包的工具</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">如果是<span class="selector-tag">Ubuntu</span> 13<span class="selector-class">.04</span> (代号 <span class="selector-tag">Raring</span> <span class="selector-tag">Ringtail</span>)，所以执行如下命令</span><br><span class="line"><span class="selector-tag">pbuilder-dist</span> <span class="selector-tag">raring</span> <span class="selector-tag">create</span></span><br><span class="line"></span><br><span class="line">如果是<span class="selector-tag">Ubuntu</span> 14<span class="selector-class">.04</span> (代号 <span class="selector-tag">Trusty</span> <span class="selector-tag">Tahr</span>)，则执行：</span><br><span class="line"><span class="selector-tag">pbuilder-dist</span> <span class="selector-tag">trusty</span> <span class="selector-tag">create</span></span><br></pre></td></tr></table></figure><p>之后便是漫长的等待…..</p><p><img src="/images/coding/ubuntu/ppa/pbuilder.png" alt=""></p><h3 id="创建Launchpad账户"><a href="#创建Launchpad账户" class="headerlink" title="创建Launchpad账户"></a>创建Launchpad账户</h3><p><a href="https://login.launchpad.net/+new_account" target="_blank" rel="noopener">官网注册</a>,之后上传GPG key到Launchpad。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">通过如下指令查看自己的<span class="selector-tag">GPG</span> <span class="selector-tag">key</span>：</span><br><span class="line"><span class="selector-tag">gpg</span> ­­<span class="selector-tag">--fingerprint</span> &lt;<span class="selector-tag">email</span>@<span class="keyword">address</span>.<span class="keyword">com</span>&gt;</span><br></pre></td></tr></table></figure><p>例如我的：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">pi@DeepMind:~$ gpg --fingerprint bond@mindcont.com</span><br><span class="line">/home/pi/.gnupg/pubring.gpg</span><br><span class="line">---------------------------</span><br><span class="line">pub   4096R/D38B4796 2016-04-12</span><br><span class="line"><span class="code">      密钥指纹 = EB4C 1BFD 4F04 2F6D DDCC  EC91 7721 F63B D38B 4796</span></span><br><span class="line">uid                  Google Inc. (Linux Packages Signing Authority) &lt;linux-packages-keymaster@google.com&gt;</span><br><span class="line">sub   4096R/640DB551 2016-04-12 [有效至：2019-04-12]</span><br><span class="line"></span><br><span class="line">pub   2048R/D059E4D9 2016-11-11</span><br><span class="line"><span class="code">      密钥指纹 = AD34 CE83 5C79 C68B A81D  4F02 ED3C A58E D059 E4D9</span></span><br><span class="line">uid                  zhangzhengxuan &lt;bond@mindcont.com&gt;</span><br><span class="line">sub   2048R/EDE83100 2016-11-11</span><br></pre></td></tr></table></figure></p><p>登陆你的launchpad，选择下图红框的位置<br><img src="/images/coding/ubuntu/ppa/upload_gpg_key_1.png" alt=""></p><p>然后填写刚才我们查找的pub字段，密钥指纹中的字符串<br><img src="/images/coding/ubuntu/ppa/upload_gpg_key_2.png" alt=""></p><p>点击　import 之后，系统会发送一封邮件到你的邮箱，用来对导入的key进行验证。你需要用自己的私钥对服务器用你刚上传公钥加密的内容进行解密 。<strong>其中邮件的内容为不可读的</strong>,需要解密的内容类似于：<br><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">­­­­­BEGIN PGP MESSAGE­­­­­</span><br><span class="line">  Version: GnuPG v1.4.3 (GNU/Linux)</span><br><span class="line">  hQIOA0THhKozD+K5EAf9F3PcOL2iU6onH2YsvB6IKDXNxbK0NBVy6ppxcNq8hoTe</span><br><span class="line">  cuHvzWLFfh1ehhSNe1V6xpuFnt5sJoeA4qEEOxez3HmY80tKIKMPLyhC/8JiSIW9</span><br><span class="line">  fwuxj4C0F6pdyrpvGbQAzfPEFk/P1AtIHXm4WLXduhBT7YEpmUk/I4A/KlSrKoiP</span><br><span class="line">  J5vBtbroUyp2jvIhDUmY7ToU+ifrDe3+VP1ZzSEJzOOXec9oPbcbvf5NptXA7Hbp</span><br><span class="line">  S0ElBAcLjKpAu7VKotCwFZIsVXDHT/mxf2qm88bGIrlXS5uTzvmyhQps1KmyNiCz</span><br><span class="line">  I0i5kSVvHZWyVZ+8FrROLqYAqqnEIMg9hUnbFAervgf/YiYs0xxWLYf9e14eoMZA</span><br><span class="line">  ranGT72q/JHmBNBYenOijaquFNi1TH5J8Udtt2RfdyRUlmGilxRvtIYL8gpnuNpS</span><br><span class="line">  +GHOoBWUN2f4nawaDeqgrf6Nt3qQWWLO4iJPgieejFP2FP6zkLme1t7dXo+z1ary</span><br><span class="line">  EZuxSLtKIWkOFEZ8Gcn02hBgOhJZucnkF6BmVW9dr1C4QEAmGM631uqfsp5PapAn</span><br><span class="line">  yjHbEU1L2R9i7vPtJNRr6ubFLWg1Yhfv63ByxSx/WQHMMqlrbL+moXBGED3L2hM8</span><br><span class="line">  7FP9eapBRgmS+Bda9ArcGMUElTOkWoUYIOPyLOYmo15LvbxHOVaXjn7+fDgr2S1J</span><br><span class="line">  R9LArwHycmdKKelRww+ZvylHIfq8xy10atRQIYawchh9A1myXD1TlWbrrIkodQJF</span><br><span class="line">  iEpO2i1LKvqwZHOx3szT4hF+44tNFzQIL1j+zF5Hrt2WOTnS5WXGgGRtfEd8F7fN</span><br><span class="line">  khQZOAdhwrnlY+yknruC8Y8Jm8vM57+KnPgBfvxuxzLX1XFTfTZCHXeUmwwu3mga</span><br><span class="line">  m+6WzckeBGBDHKK6GqwFoOAykTwjyqOZaty7DPHeoINc0tLMVr9Ks64DScf8bgh4</span><br><span class="line">  MkNonA0YhMQbkmwRc33APw441+/iLw5gqndQdX44kKqC71dG6LqanAOjD29Xj3JV</span><br><span class="line">  ZBsjg95Jrx7Sx+i/V0PUeaU9QjCT0Q1jEy1Bcs8NYtTJnpG+4oHYJ0pyiGxIquQH</span><br><span class="line">  V9E+hW6Qehx5DbsIXEvfeaBBHOfAHHOhUH14WK4bsJWm8wZ50XiYBZrNFOqzsm13</span><br><span class="line">  2STcY4VIoJp3Uw2qNyvZXQUhpndlfgQGO14CMSadzDn6Vts=</span><br><span class="line">  =hTe6</span><br><span class="line">  END PGP MESSAGE­­­­­</span><br></pre></td></tr></table></figure></p><p>将邮件中这些内容拷贝到一个文件中，例如：file.txt，然后执行如下命令：<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg <span class="comment">--decrypt file.txt</span></span><br></pre></td></tr></table></figure></p><p>此时会提示你输入之前设置的<strong>加密私钥key密码</strong>，解密成功后，会有如下提示：<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Please <span class="keyword">go</span> here <span class="keyword">to</span> <span class="keyword">finish</span> adding the key <span class="keyword">to</span> your Launchpad accoun<span class="variable">t:</span></span><br><span class="line">[[http<span class="variable">s:</span>//launchpad.net/token/bP56TDKg8HXQbBs6LsN0]]</span><br></pre></td></tr></table></figure></p><p>复制该链接，在浏览器中打开，即完成了GPG key 上传。同样的方法，我们还要<strong>上传SSH KEY</strong>。<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">打开id_rsa.pub文件,</span><br><span class="line">gedit ~/.ssh/id_rsa.pub</span><br><span class="line"></span><br><span class="line">将其中的内容拷贝到帐号的<span class="keyword">add</span><span class="bash"> ssh key文本框中，选择导入后完成上传</span></span><br></pre></td></tr></table></figure></p><h3 id="配置-Bazzar和环境变量"><a href="#配置-Bazzar和环境变量" class="headerlink" title="配置 Bazzar和环境变量"></a>配置 Bazzar和环境变量</h3><p>Bazzar一个版本控制软件同git一样,可以管理代码,<a href="http://doc.bazaar.canonical.com/latest/en/mini-tutorial/" target="_blank" rel="noopener">Bazaar in five minutes</a> 。这里我们安装一个bzr可视化管理工具，详见<a href="http://doc.bazaar.canonical.com/explorer/en/install-linux.html" target="_blank" rel="noopener">bzr explorer install</a><br><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo<span class="built_in"> add-apt-repository </span>ppa:bzr-explorer-dev/ppa</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install bzr-explorer</span><br></pre></td></tr></table></figure></p><p>告诉Bazzar你是谁,和git 中全局信息设置类似。<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bzr </span>whoami <span class="string">"xin zhang &lt;justzx2011@gmail.com&gt;"</span></span><br><span class="line"><span class="keyword">bzr </span>launchpad-login <span class="keyword">justzx2011（我的Launchpad账户id）</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword"># </span>之后可以通过输入, 查看你的配置信息</span><br><span class="line"><span class="keyword">bzr </span>whoami</span><br></pre></td></tr></table></figure></p><p>配置你的shell环境变量<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开.bashrc 文件</span></span><br><span class="line">gedit ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在文件开头加上如下内容</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">DEBFULLNAME</span>=<span class="string">"xin zhang"</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">DEBEMAIL</span>=<span class="string">"justzx2011@gmail.com"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行</span></span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure></p><h2 id="打包上传"><a href="#打包上传" class="headerlink" title="打包上传"></a>打包上传</h2><h3 id="安装编译工具"><a href="#安装编译工具" class="headerlink" title="安装编译工具"></a>安装编译工具</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">sudo</span> apt-<span class="meta">get</span> install <span class="keyword">build-essential </span>dh-make</span><br></pre></td></tr></table></figure><p>这里我们使用openyoudao 软件包为例说明一个软件包的上传过程。首先下载Openyoudao源码包，Openyoudao代码托管在Github上，下载源码包，首先感谢 Linux之父<a href="http://zh.wikipedia.org/wiki/%E6%9E%97%E7%BA%B3%E6%96%AF%C2%B7%E6%89%98%E7%93%A6%E5%85%B9" target="_blank" rel="noopener">林纳斯·托瓦兹</a>发明了Git，为世界创造了一个知识传递平台.<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https:<span class="regexp">//gi</span>thub.com<span class="regexp">/justzx2011/</span>openyoudao<span class="regexp">/archive/</span>beta0.<span class="number">2</span>.tar.gz</span><br></pre></td></tr></table></figure></p><h3 id="根据模板生成配置文件"><a href="#根据模板生成配置文件" class="headerlink" title="根据模板生成配置文件"></a>根据模板生成配置文件</h3><p>bzr-builddeb包括一个插件，用于从模板创建一个新的包。 插件是一个包装　dh_make命令，如果你安装了packaging-dev，你应该已经有了这些。 运行命令，提供上游tarball的软件包名称，版本号和路径。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">bzr</span> <span class="selector-tag">dh-make</span> <span class="selector-tag">openyoudao</span> 0<span class="selector-class">.2</span> <span class="selector-tag">beta0</span><span class="selector-class">.2</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure></p><p>之后你会看到,配置信息和本地软件包的编译位置。如 /home/pi/work/openyoudao<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">pi@DeepMind:~/work$ bzr dh-make openyoudao 0.2 beta0.2.tar.gz</span><br><span class="line">Fetching tarball                                                               </span><br><span class="line">Looking <span class="keyword">for</span> a way <span class="keyword">to</span> retrieve the upstream tarball</span><br><span class="line">Upstream tarball already exists <span class="keyword">in</span> build directory, using that</span><br><span class="line"></span><br><span class="line">Type of package: single binary, indep binary, multiple binary, library, kernel module, kernel patch?</span><br><span class="line"> [s/i/m/l/k/n] s</span><br><span class="line"></span><br><span class="line">Maintainer name  : zhengxuan zhang</span><br><span class="line">Email-Address    : bond@mindcont.com</span><br><span class="line">Date             : Sun, 13 Nov 2016 16:57:30 +0800</span><br><span class="line">Package Name     : openyoudao</span><br><span class="line">Version          : 0.2</span><br><span class="line">License          : blank</span><br><span class="line">Type of Package  : Single</span><br><span class="line">Hit &lt;enter&gt; <span class="keyword">to</span> confirm:</span><br><span class="line">Skipping creating <span class="built_in">..</span>/openyoudao_0.2.orig.tar.gz because it already exists</span><br><span class="line">Currently there is <span class="literal">no</span> top level Makefile. This may require additional tuning.</span><br><span class="line">Done. Please <span class="builtin-name">edit</span> the files <span class="keyword">in</span> the debian/ subdirectory now. You should also</span><br><span class="line">check that the openyoudao Makefiles install into <span class="variable">$DESTDIR</span> <span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">in</span> / .</span><br><span class="line">Package prepared <span class="keyword">in</span> /home/pi/work/openyoudao</span><br></pre></td></tr></table></figure></p><h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>这里我们主要修改openyoudao/debian/changelog　、control 两个文件。</p><ul><li><p>changelog文件中修改　trusty为ubuntu 14.04 的版本代号（代表我们的软件包运行平台）和版本号</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openyoudao (<span class="number">0.2</span><span class="number">-1</span>) trusty; urgency=low</span><br><span class="line"></span><br><span class="line">  * Initial release <span class="number">1.0</span></span><br></pre></td></tr></table></figure></li><li><p>control　文件中修改　Section: net　不然会报错。</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Source:</span> openyoudao</span><br><span class="line"><span class="symbol">Section:</span> net</span><br><span class="line"><span class="symbol">Priority:</span> optional</span><br><span class="line"><span class="symbol">Maintainer:</span> zhengxuan zhang <span class="params">&lt;bond@mindcont.com&gt;</span></span><br><span class="line">Build-Depends: debhelper (&gt;= <span class="number">8.0</span><span class="number">.0</span>)</span><br><span class="line">Standards-Version: <span class="number">3.9</span><span class="number">.4</span></span><br><span class="line"><span class="symbol">Homepage:</span> <span class="params">&lt;insert the upstream URL, if relevant&gt;</span></span><br><span class="line"><span class="meta">#Vcs-Git: git:<span class="comment">//git.debian.org/collab-maint/openyoudao.git</span></span></span><br><span class="line"><span class="meta">#Vcs-Browser: http:<span class="comment">//git.debian.org/?p=collab-maint/openyoudao.git;a=summary</span></span></span><br><span class="line"></span><br><span class="line"><span class="symbol">Package:</span> openyoudao</span><br><span class="line"><span class="symbol">Architecture:</span> any</span><br><span class="line"><span class="symbol">Depends:</span> $&#123;shlibs:Depends&#125;, $&#123;misc:Depends&#125;</span><br><span class="line"><span class="symbol">Description:</span> <span class="params">&lt;insert up to <span class="number">60</span> chars description&gt;</span></span><br><span class="line"> <span class="params">&lt;insert long description, indented with spaces&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>这里的配置信息很重要，不然你最后将软件包上传之后，可能会收到系统发送的拒绝邮件。你可能会遇到下面几个错误。</p><ul><li><p>错误1</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Rejected:</span><br><span class="line">Unable <span class="keyword">to</span> find distroseries: unstable</span><br><span class="line">Further <span class="keyword">error</span> processing <span class="keyword">not</span> possible because <span class="keyword">of</span> a critical previous <span class="keyword">error</span>.</span><br><span class="line"></span><br><span class="line">openyoudao (<span class="number">0.2</span><span class="number">-1</span>) unstable; urgency=low</span><br><span class="line"></span><br><span class="line">  * Initial release (Closes: <span class="comment">#nnnn)  &lt;nnnn is the bug number of your ITP&gt;</span></span><br></pre></td></tr></table></figure><p>解决方法：修改changelog文件中修改 将unstable 修改为ubuntu 对于平台版本代号 例如14.04 为trusty</p></li><li><p>错误2　</p><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Rejected:</span><br><span class="line">opencv_2.<span class="number">1.0</span>-<span class="number">1</span>.dsc: Unknown section <span class="symbol">'unknown</span>'</span><br><span class="line">opencv_2.<span class="number">1.0</span>.orig.tar.gz: Unknown section <span class="symbol">'unknown</span>'</span><br><span class="line">opencv_2.<span class="number">1.0</span>-<span class="number">1</span>.debian.tar.gz: Unknown section <span class="symbol">'unknown</span>'</span><br><span class="line">Further <span class="literal">error</span> processing <span class="keyword">not</span> possible because <span class="keyword">of</span> a critical previous <span class="literal">error</span>.</span><br><span class="line"></span><br><span class="line">opencv (<span class="number">2.1</span>.<span class="number">0</span>-<span class="number">1</span>) trusty; urgency=low</span><br><span class="line"></span><br><span class="line">  * Initial <span class="keyword">release</span> (Closes: #nnnn)  &lt;nnnn <span class="keyword">is</span> the bug number <span class="keyword">of</span> your ITP&gt;</span><br></pre></td></tr></table></figure><p>解决方法：修改control 文件中Section:unknown 为Section: net</p></li><li><p>错误3</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Rejected:</span><br><span class="line"><span class="keyword">File</span> opencv_2.1.0.orig.tar.gz already exists <span class="keyword">in</span> Primary Archive <span class="keyword">for</span> Ubuntu, but uploaded <span class="keyword">version</span> has different contents. See <span class="keyword">more</span> information <span class="keyword">about</span> this <span class="keyword">error</span> <span class="keyword">in</span> https:<span class="comment">//help.launchpad.net/Packaging/UploadErrors.</span></span><br><span class="line">Files specified <span class="keyword">in</span> DSC are broken or missing, skipping package unpack verification.</span><br><span class="line"></span><br><span class="line">opencv (2.1.0-1) trusty; urgency=low</span><br><span class="line"></span><br><span class="line"><span class="comment">  * Initial release 0.1.</span></span><br></pre></td></tr></table></figure><p>解决办法：<br>你上传的opencv_2.1.0.orig.tar.gz 已经存在于官方维护的存档中，你上传的版本与官方的冲突。更改版本号。</p></li></ul><p>值得注意的是，这里大部分错误信息都可以在<a href="https://help.launchpad.net/Packaging/UploadErrors" target="_blank" rel="noopener">官方的文档</a>中找到解决方法。参照打好的包： <a href="https://github.com/justzx2011/openyoudao/tree/beta" target="_blank" rel="noopener">https://github.com/justzx2011/openyoudao/tree/beta</a></p><h3 id="将修改提交到打包分支"><a href="#将修改提交到打包分支" class="headerlink" title="将修改提交到打包分支"></a>将修改提交到打包分支</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">cd</span> openyoudao</span><br><span class="line"><span class="keyword">bzr </span>commit -m <span class="string">"Initial commit of Debian packaging."</span></span><br></pre></td></tr></table></figure><p>之后你应该会看到如下信息：<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">pi</span><span class="comment">@DeepMind:~/work/openyoudao$ bzr commit -m "Initial commit of Debian packaging."</span></span><br><span class="line"><span class="symbol">Committing</span> to: /home/pi/work/openyoudao/                                       </span><br><span class="line"><span class="keyword">added </span>debian</span><br><span class="line"><span class="keyword">added </span>debian/README.Debian</span><br><span class="line"><span class="keyword">added </span>debian/README.source</span><br><span class="line"><span class="keyword">added </span>debian/changelog</span><br><span class="line"><span class="keyword">added </span>debian/compat</span><br><span class="line"><span class="keyword">added </span>debian/control</span><br><span class="line"><span class="keyword">added </span>debian/copyright</span><br><span class="line"><span class="keyword">added </span>debian/docs</span><br><span class="line"><span class="keyword">added </span>debian/rules</span><br><span class="line"><span class="keyword">added </span>debian/source</span><br><span class="line"><span class="symbol">Committed</span> <span class="keyword">revision </span><span class="number">2</span>.</span><br></pre></td></tr></table></figure></p><h3 id="在当前环境中编译软件包"><a href="#在当前环境中编译软件包" class="headerlink" title="在当前环境中编译软件包"></a>在当前环境中编译软件包</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bzr </span><span class="keyword">builddeb </span>-- -us -uc</span><br></pre></td></tr></table></figure><p>附 debuild命令例子:<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">只生成二进制包，不签名</span><br><span class="line">debuild -<span class="keyword">us</span> -uc -b</span><br><span class="line">生成二进制包和源码包，不签名</span><br><span class="line">debuild -<span class="keyword">us</span> -uc</span><br><span class="line">生成二进制包和源码包，签名</span><br><span class="line">debuild -<span class="keyword">sa</span> -k42AA6EC7</span><br><span class="line">只生成源码包，签名</span><br><span class="line">debuild -S -<span class="keyword">sa</span> -k42AA6EC7</span><br><span class="line">只生成只包含debian打包脚本部分的源码包，签名</span><br><span class="line">debuild -S -sd -k42AA6EC7</span><br></pre></td></tr></table></figure></p><p>软件包生成完毕后，可以使用dpgk-deb来查看其内容清单。</p><h3 id="检测软件包是否存在bug"><a href="#检测软件包是否存在bug" class="headerlink" title="检测软件包是否存在bug"></a>检测软件包是否存在bug</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">cd</span> ..</span><br><span class="line"><span class="selector-tag">lintian</span> <span class="selector-tag">openyoudao_0</span><span class="selector-class">.2-1ubuntu1</span><span class="selector-class">.dsc</span></span><br></pre></td></tr></table></figure><p>之后你应该会看到如下信息：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pi@DeepMind:~/work$ lintian openyoudao_0.2-1.dsc</span><br><span class="line">E: openyoudao source: source-is-missing <span class="keyword">cache</span>/js/autocomplete.r156903.js</span><br><span class="line">E: openyoudao <span class="keyword">source</span>: <span class="keyword">source</span>-<span class="keyword">is</span>-<span class="keyword">missing</span> <span class="keyword">cache</span>/js/jquery-ui.min.js</span><br><span class="line">E: openyoudao <span class="keyword">source</span>: <span class="keyword">source</span>-<span class="keyword">is</span>-<span class="keyword">missing</span> <span class="keyword">cache</span>/js/jquery.min.js</span><br><span class="line">E: openyoudao <span class="keyword">source</span>: <span class="keyword">source</span>-<span class="keyword">is</span>-<span class="keyword">missing</span> <span class="keyword">cache</span>/js/<span class="keyword">result</span>-min.js</span><br><span class="line">W: openyoudao <span class="keyword">source</span>: <span class="keyword">package</span>-needs-versioned-debhelper-<span class="keyword">build</span>-depends <span class="number">9</span></span><br><span class="line">W: openyoudao <span class="keyword">source</span>: superfluous-clutter-<span class="keyword">in</span>-homepage &lt;<span class="keyword">insert</span> the upstream <span class="keyword">URL</span>, <span class="keyword">if</span> relevant&gt;</span><br><span class="line">W: openyoudao <span class="keyword">source</span>: bad-homepage &lt;<span class="keyword">insert</span> the upstream <span class="keyword">URL</span>, <span class="keyword">if</span> relevant&gt;</span><br><span class="line">W: openyoudao <span class="keyword">source</span>: <span class="keyword">out</span>-<span class="keyword">of</span>-<span class="built_in">date</span>-standards-<span class="keyword">version</span> <span class="number">3.9</span><span class="number">.4</span> (<span class="keyword">current</span> <span class="keyword">is</span> <span class="number">3.9</span><span class="number">.5</span>)</span><br></pre></td></tr></table></figure></p><p>这里有几个错误信息，我们先略过，不影响下面的操作。</p><h3 id="给软件包签名"><a href="#给软件包签名" class="headerlink" title="给软件包签名"></a>给软件包签名</h3><p>这里我们用我们上传到launchpad中的GPG KEY 对我们的软件包进行签名。如果忘记自己的公钥代码，可以参加上面进行查询。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> openyoudao</span><br><span class="line">debuild -S -kD059E4D9</span><br></pre></td></tr></table></figure></p><h3 id="上传软件包"><a href="#上传软件包" class="headerlink" title="上传软件包"></a>上传软件包</h3><ul><li><p>编辑~/.dput.cf<br>通过上面的一系列流程，我们生成了一组经过数字签名的文件，最后需要做的是将这些文件上传到ppa官方的ftp，此时会用到一个叫dput的软件，要使用dput，首先要编辑文件~/.dput.cf，没有就创建.在这个文件里面定义要上传的Launchpad账号。我的~/.dput.cf文件内容如下：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[openyoudao]</span></span><br><span class="line"><span class="attr">fqdn</span> = ppa.launchpad.net</span><br><span class="line"><span class="attr">method</span> = ftp</span><br><span class="line"><span class="attr">incoming</span> = ~mindcont/openyoudao/ubuntu/</span><br><span class="line"><span class="attr">login</span> = anonymous</span><br><span class="line"><span class="attr">allow_unsigned_uploads</span> = <span class="number">0</span></span><br></pre></td></tr></table></figure></li><li><p>执行上传</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> ..</span><br><span class="line">dput <span class="keyword">pp</span><span class="variable">a:mindcont</span>/openyoudao openyoudao_0.<span class="number">2</span>-<span class="number">1</span>_source.<span class="keyword">changes</span>　＃上传方式一</span><br><span class="line"></span><br><span class="line">dput openyoudao openyoudao_0.<span class="number">2</span>-<span class="number">1</span>_source.<span class="keyword">changes</span>＃上传方式二，这里的openyoudao 就是我们上一步配置中的[openyoudao]</span><br></pre></td></tr></table></figure></li></ul><p>之后你应该会看到如下信息：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">pi@DeepMind:~/work$ dput ppa:mindcont/opencv2.<span class="number">1</span> openyoudao_0.<span class="number">2</span>-<span class="number">1</span>_source.changes</span><br><span class="line">Package has already been uploaded to ppa on ppa<span class="selector-class">.launchpad</span><span class="selector-class">.net</span></span><br><span class="line">Nothing more to do <span class="keyword">for</span> openyoudao_0.<span class="number">2</span>-<span class="number">1</span>_source.changes</span><br><span class="line">pi@DeepMind:~/work$ dput ppa:mindcont/opencv2.<span class="number">1</span> openyoudao_0.<span class="number">2</span>-<span class="number">1</span>_source.changes</span><br><span class="line">Checking signature on .changes</span><br><span class="line">gpg: 于 <span class="number">2016</span>年<span class="number">11</span>月<span class="number">13</span>日 星期日 <span class="number">17</span>时<span class="number">11</span>分<span class="number">20</span>秒 CST 创建的签名，使用 RSA，钥匙号 D059E4D9</span><br><span class="line">gpg: 完好的签名，来自于“zhangzhengxuan &lt;bond@mindcont.com&gt;”</span><br><span class="line">Good signature on /home/pi/work/openyoudao_0.<span class="number">2</span>-<span class="number">1</span>_source<span class="selector-class">.changes</span>.</span><br><span class="line">Checking signature on .dsc</span><br><span class="line">gpg: 于 <span class="number">2016</span>年<span class="number">11</span>月<span class="number">13</span>日 星期日 <span class="number">17</span>时<span class="number">11</span>分<span class="number">20</span>秒 CST 创建的签名，使用 RSA，钥匙号 D059E4D9</span><br><span class="line">gpg: 完好的签名，来自于“zhangzhengxuan &lt;bond@mindcont.com&gt;”</span><br><span class="line">Good signature on /home/pi/work/openyoudao_0.<span class="number">2</span>-<span class="number">1</span><span class="selector-class">.dsc</span>.</span><br><span class="line">Uploading to ppa (via ftp to ppa<span class="selector-class">.launchpad</span><span class="selector-class">.net</span>):</span><br><span class="line">  Uploading openyoudao_0.<span class="number">2</span>-<span class="number">1</span><span class="selector-class">.dsc</span>: done.</span><br><span class="line">  Uploading openyoudao_0.<span class="number">2</span><span class="selector-class">.orig</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span>: done.    </span><br><span class="line">  Uploading openyoudao_0.<span class="number">2</span>-<span class="number">1</span><span class="selector-class">.debian</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span>: done.</span><br><span class="line">  Uploading openyoudao_0.<span class="number">2</span>-<span class="number">1</span>_source<span class="selector-class">.changes</span>: done.</span><br><span class="line">Successfully uploaded packages.</span><br></pre></td></tr></table></figure></p><p>说明我们上传成功，这里你的邮箱会收到一封ppa发来的邮件，内容如下：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">Accepted:</span></span><br><span class="line"><span class="symbol"> OK:</span> openyoudao_0<span class="number">.2</span>.orig.tar.gz</span><br><span class="line"><span class="symbol"> OK:</span> openyoudao_0<span class="number">.2</span><span class="number">-1.</span>debian.tar.gz</span><br><span class="line"><span class="symbol"> OK:</span> openyoudao_0<span class="number">.2</span><span class="number">-1.</span>dsc</span><br><span class="line">     -&gt; <span class="string">Component:</span> main <span class="string">Section:</span> net</span><br><span class="line"></span><br><span class="line">openyoudao (<span class="number">0.2</span><span class="number">-1</span>) trusty; urgency=low</span><br><span class="line"></span><br><span class="line">  * Initial release <span class="number">1.0</span></span><br><span class="line"></span><br><span class="line">--</span><br><span class="line"><span class="string">https:</span><span class="comment">//launchpad.net/~mindcont/+archive/ubuntu/openyoudao</span></span><br><span class="line">You are receiving <span class="keyword">this</span> email because you made <span class="keyword">this</span> upload.</span><br></pre></td></tr></table></figure></p><p>接下来就静待官方编译吧,编译进度可以在 Overview of published packages》View package details 中查看</p><p><img src="/images/coding/ubuntu/ppa/build.png" alt=""></p><p>编译完成后，就可以通过ppa源进行安装了<br><img src="/images/coding/ubuntu/ppa/build_success.png" alt=""><br><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo<span class="built_in"> add-apt-repository </span>ppa:mindcont/openyoudao</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install openyoudao</span><br></pre></td></tr></table></figure></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>创建launchpad账户》配置GPG密钥》配置ssh》创建project》编写软件包》创建本地编译环境》编译软件包》签名》上传　.changefile》等待官方确认邮件.</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="http://openyoudao.org/%E5%A6%82%E4%BD%95%E5%9C%A8ubuntu%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84ppa%E5%AE%89%E8%A3%85%E5%8C%85" target="_blank" rel="noopener">如何在ubuntu系统下制作自己的ppa安装包</a></li><li><a href="https://www.mobibrw.com/2016/3138" target="_blank" rel="noopener">Ubuntu 15.10系统下制作自己的PPA安装包</a></li><li><a href="http://www.ruanyifeng.com/blog/2013/07/gpg.html" target="_blank" rel="noopener">GPG入门教程</a></li><li><a href="https://www.ibm.com/developerworks/community/blogs/5144904d-5d75-45ed-9d2b-cf1754ee936a/entry/%25e4%25b8%25badebian%25e5%2592%258cubuntu%25e5%2588%25b6%25e4%25bd%259c%25e8%25bd%25af%25e4%25bb%25b6%25e5%258c%2585_%25e4%25b8%2589?lang=en" target="_blank" rel="noopener">为Debian和Ubuntu制作软件包(三)</a></li><li><a href="http://packaging.ubuntu.com/html/packaging-new-software.html" target="_blank" rel="noopener">Packaging New Software</a></li><li><a href="https://help.launchpad.net/Packaging/PPA/Uploading#The_easy_way:_FTP_in_Ubuntu_9.10_and_newer" target="_blank" rel="noopener">Uploading a package to a PPA</a></li><li><a href="https://help.launchpad.net/Packaging/UploadErrors" target="_blank" rel="noopener">Package upload errors</a></li><li><a href="http://doc.bazaar.canonical.com/explorer/en/install-linux.html" target="_blank" rel="noopener">Bazaar Explorer install</a></li><li><a href="http://doc.bazaar.canonical.com/plugins/en/builddeb-plugin.html" target="_blank" rel="noopener">Build Debian packages from Bazaar branches</a></li><li><a href="http://lerry.me/post/2013/07/14/ubuntu_ppa_usagedfa" target="_blank" rel="noopener">Ubuntu PPA的使用方法</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;PPA，或是Personal Package Archive（个人软件包存档），是默认情况下并未被包含在Ubuntu中的软件的一个集合。使用个人包存档（PPA），您可以直接向Ubuntu用户分发软件和更新。
    
    </summary>
    
      <category term="Linux" scheme="http://blog.mindcont.com/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>二手华为路由hg255d刷OpenWrt</title>
    <link href="http://blog.mindcont.com/2016/10/27/hg255d-openwrt/"/>
    <id>http://blog.mindcont.com/2016/10/27/hg255d-openwrt/</id>
    <published>2016-10-27T02:40:52.000Z</published>
    <updated>2018-01-09T03:38:51.621Z</updated>
    
    <content type="html"><![CDATA[<p><strong>刷机有危险，刷机前请做好相关知识储备！！！</strong><br><strong>刷机有危险，刷机前请做好相关知识储备！！！</strong><br><strong>刷机有危险，刷机前请做好相关知识储备！！！</strong><br>重要的话儿，说三遍～<br><a id="more"></a><br>本文仅适合 华为hg255d v4 版本路由，某宝入手二手华为hg255d路由器，CPU: Ralink RT3052F Flash:4M RAM:32M 此为背景。硬改可参考[2].</p><p><img src="/images/iot/hg255d/hg255d-1.jpg" alt=""><br><img src="/images/iot/hg255d/hg255d-2.jpg" alt=""></p><h3 id="连接路由，上传u-boot"><a href="#连接路由，上传u-boot" class="headerlink" title="连接路由，上传u-boot"></a>连接路由，上传u-boot</h3><p>设置本地连接为 192.168.1.100  子网掩码：255.255.255.0 网关丶DNS不用填写（以后只要更新固件就是192.168.1.100的固定ip切记切记），网线与hg255d连接好，保持机器关闭状态.</p><p><img src="/images/iot/hg255d/hg255d-3.jpg" alt=""></p><p>先在浏览器输入<a href="http://192.168.1.1/upload.html" target="_blank" rel="noopener">http://192.168.1.1/upload.html</a> 然后按住路由的reset键并接通电源，保持reset按住，浏览器刷新，大约十秒左右就可以进入如图所示的界面<br><img src="/images/iot/hg255d/hg255d-4.jpg" alt=""></p><p>此时一定要抓紧选择ralink.bin（此固件内已包含改版u-boot和电信原版u-boot，后面u-boot-rom-hg255d_hg256.bin是升级用的）固件并开始刷入，因为在10-20秒以后，路由将正常启动，页面输入固件将会失败。切记速度！！！</p><p>lan口灯狂闪，ralink固件写入结束，大约5min之后路由<strong>会自动重启</strong>，稍等片刻在浏览器中输入192.168.1.1帐号密码同为admin.进入ralink的设置界面.<br><img src="/images/iot/hg255d/hg255d-5.jpg" alt=""></p><h3 id="刷u-boot"><a href="#刷u-boot" class="headerlink" title="刷u-boot"></a>刷u-boot</h3><p>u-boot 即Bootloader ,从设备加电到启动系统这段时间内固化这主板上的一段代码块，同电脑的BIOS类似。刷u-boot，只需要执行一个shell就可以了.找到 系统管理-&gt;系统指令。<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">执行命令：/h<span class="name">g255</span>d/h<span class="name">g255</span>d-flash-uboot.sh   提交一下</span><br></pre></td></tr></table></figure></p><p><img src="/images/iot/hg255d/hg255d-6.jpg" alt=""></p><p>大约1-2秒就结束了，很快的，然后<strong>手动重启路由器</strong>。路由重启后，只要是电源灯频闪基本上就说明刷u-boot成功了.（如想恢复电信原固件，用tftp重刷ralink.bin固件，执行/hg255d/hg255d-flash-tel-uboot.sh就OK了）</p><h3 id="刷openwrt"><a href="#刷openwrt" class="headerlink" title="刷openwrt"></a>刷openwrt</h3><p>还是开机的时候按住wps/wlan/reset按钮任一按钮，然后刷入固件openwrt-ramips-rt305x-hg255d-squashfs-sysupgrade.bin.<strong> 当进度条上传完成，不要断电和动路由器，路由器会自动重启</strong><br><img src="/images/iot/hg255d/hg255d-7.jpg" alt=""></p><p>写入固件大约10秒钟，此时电源灯为常亮，然后大约是5分钟的等待时间，电源灯会灭一下，然后频闪，之后稍等一会就可以192.168.1.1进入openwrt …<br><img src="/images/iot/hg255d/hg255d-8.jpg" alt=""><br>默认账号：root 密码：admin，然后你就可以看到下面的画面<br><img src="/images/iot/hg255d/hg255d-9.jpg" alt=""></p><p><strong>固件和工具</strong><br>链接：<a href="http://pan.baidu.com/s/1bpMd0OB" target="_blank" rel="noopener">http://pan.baidu.com/s/1bpMd0OB</a> 密码：zhe0</p><h3 id="配置网络"><a href="#配置网络" class="headerlink" title="配置网络"></a>配置网络</h3><p>这一部分参考老高[4]的博客，来简要介绍openwrt中br-lan,eth0,eth0.1,eth0.2 这几个接口的意思。<br><img src="/images/iot/hg255d/hg255d-10.png" alt=""></p><h4 id="有线网配置"><a href="#有线网配置" class="headerlink" title="有线网配置"></a>有线网配置</h4><p>openwrt的有线网络配置文件位于/etc/config/network，参考老高[4]的配置如下：<br><figure class="highlight rsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">config interface <span class="string">'loopback'</span> <span class="meta"># 本地回环地址</span></span><br><span class="line">    <span class="built_in">option</span> ifname <span class="string">'lo'</span></span><br><span class="line">    <span class="built_in">option</span> proto <span class="string">'static'</span></span><br><span class="line">    <span class="built_in">option</span> ipaddr <span class="string">'127.0.0.1'</span></span><br><span class="line">    <span class="built_in">option</span> netmask <span class="string">'255.0.0.0'</span></span><br><span class="line"></span><br><span class="line">config globals <span class="string">'globals'</span></span><br><span class="line">    <span class="built_in">option</span> ula_prefix <span class="string">'auto'</span></span><br><span class="line"></span><br><span class="line">config interface <span class="string">'lan'</span> <span class="meta"># 内网口，默认地址192.168.1.1</span></span><br><span class="line">    <span class="built_in">option</span> ifname <span class="string">'eth0.1'</span></span><br><span class="line">    <span class="built_in">option</span> force_link <span class="string">'1'</span></span><br><span class="line">    <span class="built_in">option</span> type <span class="string">'bridge'</span></span><br><span class="line">    <span class="built_in">option</span> proto <span class="string">'static'</span></span><br><span class="line">    <span class="built_in">option</span> ipaddr <span class="string">'192.168.1.1'</span> <span class="meta"># 如果用openwrt做二级路由，且与一级路由地址192.168.1.1冲突，可修改这里</span></span><br><span class="line">    <span class="built_in">option</span> netmask <span class="string">'255.255.255.0'</span></span><br><span class="line">    <span class="built_in">option</span> ip6assign <span class="string">'60'</span></span><br><span class="line">    <span class="built_in">option</span> macaddr <span class="string">'64:09:80:05:e1:bb'</span></span><br><span class="line"></span><br><span class="line">config interface <span class="string">'wan'</span> <span class="meta"># 外网口</span></span><br><span class="line">    <span class="built_in">option</span> ifname <span class="string">'eth0.2'</span></span><br><span class="line">    <span class="built_in">option</span> _orig_ifname <span class="string">'eth0.2'</span></span><br><span class="line">    <span class="built_in">option</span> _orig_bridge <span class="string">'false'</span></span><br><span class="line">    <span class="built_in">option</span> proto <span class="string">'pppoe'</span> <span class="meta"># 可以看出这里使用光纤拨号的方式</span></span><br><span class="line">    <span class="built_in">option</span> macaddr <span class="string">'64:09:80:05:e1:bc'</span> <span class="meta"># mac 地址</span></span><br><span class="line">    <span class="built_in">option</span> username <span class="string">'11100026295'</span> <span class="meta"># 宽带账号</span></span><br><span class="line">    <span class="built_in">option</span> password <span class="string">'380926'</span> <span class="meta"># 宽带密码</span></span><br><span class="line"></span><br><span class="line">config interface <span class="string">'wan6'</span> <span class="meta"># ipv6 不用动</span></span><br><span class="line">    <span class="built_in">option</span> _orig_ifname <span class="string">'@wan'</span></span><br><span class="line">    <span class="built_in">option</span> _orig_bridge <span class="string">'false'</span></span><br><span class="line">    <span class="built_in">option</span> proto <span class="string">'6to4'</span></span><br><span class="line"></span><br><span class="line">config switch <span class="meta"># 交换机</span></span><br><span class="line">    <span class="built_in">option</span> name <span class="string">'mt762x'</span></span><br><span class="line">    <span class="built_in">option</span> reset <span class="string">'1'</span></span><br><span class="line">    <span class="built_in">option</span> enable_vlan <span class="string">'1'</span></span><br><span class="line"></span><br><span class="line">config switch_vlan <span class="meta"># 虚拟出两个 vlan (可以将物理地址屏蔽开，用于不同网段之间通信)，这里是vlan 1</span></span><br><span class="line">    <span class="built_in">option</span> device <span class="string">'mt762x'</span></span><br><span class="line">    <span class="built_in">option</span> vlan <span class="string">'1'</span></span><br><span class="line">    <span class="built_in">option</span> ports <span class="string">'0 1 2 3 5 6t'</span></span><br><span class="line"></span><br><span class="line">config switch_vlan <span class="meta"># 这里是vlan2</span></span><br><span class="line">    <span class="built_in">option</span> device <span class="string">'mt762x'</span></span><br><span class="line">    <span class="built_in">option</span> vlan <span class="string">'2'</span></span><br><span class="line">    <span class="built_in">option</span> ports <span class="string">'4 6t'</span></span><br></pre></td></tr></table></figure></p><h4 id="无线网络配置"><a href="#无线网络配置" class="headerlink" title="无线网络配置"></a>无线网络配置</h4><p>openwrt的无线网络配置文件位于/etc/config/wireless，配置如下：<br><figure class="highlight rsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">config wifi-device <span class="string">'rai0'</span></span><br><span class="line">    <span class="built_in">option</span> type <span class="string">'mt7612'</span></span><br><span class="line">    <span class="built_in">option</span> mode <span class="string">'14'</span></span><br><span class="line">    <span class="built_in">option</span> channel <span class="string">'auto'</span></span><br><span class="line">    <span class="built_in">option</span> txpower <span class="string">'100'</span></span><br><span class="line">    <span class="built_in">option</span> ht <span class="string">'20+40+80'</span></span><br><span class="line">    <span class="built_in">option</span> country <span class="string">'US'</span></span><br><span class="line">    <span class="built_in">option</span> disabled <span class="string">'0'</span></span><br><span class="line"></span><br><span class="line">config wifi-iface</span><br><span class="line">    <span class="built_in">option</span> device <span class="string">'rai0'</span></span><br><span class="line">    <span class="built_in">option</span> network <span class="string">'lan'</span></span><br><span class="line">    <span class="built_in">option</span> mode <span class="string">'ap'</span></span><br><span class="line">    <span class="built_in">option</span> ssid <span class="string">'BYBY_WORLD'</span> <span class="meta"># 2.4G 热点名称</span></span><br><span class="line">    <span class="built_in">option</span> encryption <span class="string">'psk2'</span> <span class="meta"># 加密方式</span></span><br><span class="line">    <span class="built_in">option</span> key <span class="string">'xxx'</span></span><br><span class="line"></span><br><span class="line">config wifi-device <span class="string">'ra0'</span></span><br><span class="line">    <span class="built_in">option</span> type <span class="string">'rt2860v2'</span></span><br><span class="line">    <span class="built_in">option</span> mode <span class="string">'9'</span></span><br><span class="line">    <span class="built_in">option</span> channel <span class="string">'auto'</span></span><br><span class="line">    <span class="built_in">option</span> txpower <span class="string">'100'</span></span><br><span class="line">    <span class="built_in">option</span> ht <span class="string">'40'</span></span><br><span class="line">    <span class="built_in">option</span> country <span class="string">'US'</span></span><br><span class="line">    <span class="built_in">option</span> disabled <span class="string">'0'</span></span><br><span class="line"></span><br><span class="line">config wifi-iface</span><br><span class="line">    <span class="built_in">option</span> device <span class="string">'ra0'</span></span><br><span class="line">    <span class="built_in">option</span> network <span class="string">'lan'</span></span><br><span class="line">    <span class="built_in">option</span> mode <span class="string">'ap'</span></span><br><span class="line">    <span class="built_in">option</span> wps <span class="string">'pbc'</span></span><br><span class="line">    <span class="built_in">option</span> ssid <span class="string">'HELLO_WORLD'</span> <span class="meta"># 5G 热点名称</span></span><br><span class="line">    <span class="built_in">option</span> encryption <span class="string">'psk2'</span> <span class="meta"># 加密方式</span></span><br><span class="line">    <span class="built_in">option</span> key <span class="string">'xxx'</span></span><br></pre></td></tr></table></figure></p><h4 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h4><ul><li><p>II. pppoe-wan<br>虚拟设备，他就是常见的拨号宽带上网，需要有ISP提供的用户名密码，连接后方可激此接口！</p></li><li><p>III. lo<br>虚拟设备，自身的回环网设备。</p></li><li><p>IV. ra0 rai0<br>这两个是成对出现，一看就知道是无线设备，它们各自对应一个SSID，分别是2.4G和5G。</p></li><li><p>V. 虚拟局域网<br>开启虚拟局域网 对应 config switch.划分子网 你可以在网络-&gt;交换机中找到！<br><img src="/images/iot/hg255d/hg255d-11.png" alt=""><br>对照着图下面的配置应该很容易就懂了。</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">config switch_vlan</span><br><span class="line">    <span class="keyword">option</span> device <span class="string">'mt762x'</span></span><br><span class="line">    <span class="keyword">option</span> vlan <span class="string">'1'</span></span><br><span class="line">    <span class="keyword">option</span> ports <span class="string">'0 1 2 3 5 6t'</span></span><br><span class="line"></span><br><span class="line">config switch_vlan</span><br><span class="line">    <span class="keyword">option</span> device <span class="string">'mt762x'</span></span><br><span class="line">    <span class="keyword">option</span> vlan <span class="string">'2'</span></span><br><span class="line">    <span class="keyword">option</span> ports <span class="string">'4 6t'</span></span><br></pre></td></tr></table></figure></li><li><p>VI. eth0<br>eth0是一块物理网卡。eth0.1 eth0.2都是从此设备上虚拟出来的。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">eth0</span><span class="selector-class">.1</span> 是<span class="selector-tag">vlan1</span>分出的<span class="selector-tag">lan</span>口。</span><br><span class="line"><span class="selector-tag">eth0</span><span class="selector-class">.2</span> 是<span class="selector-tag">vlan</span>分出的<span class="selector-tag">wan</span>口。</span><br></pre></td></tr></table></figure></li><li><p>VII. br-lan<br>虚拟设备，用于LAN口设备桥接，可以用brctl show查看使用情况。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">~ brctl show</span><br><span class="line"></span><br><span class="line">bridge name<span class="built_in"> bridge </span>id       STP enabled interfaces</span><br><span class="line">br-lan      7fff.64098005e1bb   <span class="literal">no</span>      eth0.1 rai0 ra0</span><br><span class="line">br-lan = eth0.1 + rai0 + ra0，即将有线LAN口和无线网统一划分为 LAN，便于管理！</span><br></pre></td></tr></table></figure></li></ul><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul><li><a href="http://www.jianshu.com/p/34f9c4963105" target="_blank" rel="noopener">1 OpenWrt：HG255D华为路由器刷OpenWrt</a></li><li><a href="http://forum.eepw.com.cn/thread/236267/1" target="_blank" rel="noopener">2 历经曲折HG255D改造64M内存双SMA天线（独家改法）</a></li><li><a href="http://www.right.com.cn/forum/thread-153163-1-1.html" target="_blank" rel="noopener">3 拆解Huawei(華為) HG255D-已經硬改64M內存 + 被動式散熱改造</a></li><li><a href="https://blog.phpgao.com/openwrt-interface.html" target="_blank" rel="noopener">4 openwrt中br-lan,eth0,eth0.1,eth0.2</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;刷机有危险，刷机前请做好相关知识储备！！！&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;刷机有危险，刷机前请做好相关知识储备！！！&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;刷机有危险，刷机前请做好相关知识储备！！！&lt;/strong&gt;&lt;br&gt;重要的话儿，说三遍～&lt;br&gt;
    
    </summary>
    
      <category term="物联" scheme="http://blog.mindcont.com/categories/%E7%89%A9%E8%81%94/"/>
    
    
      <category term="openwrt" scheme="http://blog.mindcont.com/tags/openwrt/"/>
    
  </entry>
  
  <entry>
    <title>ubuntu 装机必备</title>
    <link href="http://blog.mindcont.com/2016/10/27/ubuntu-necessary-install-software/"/>
    <id>http://blog.mindcont.com/2016/10/27/ubuntu-necessary-install-software/</id>
    <published>2016-10-27T01:47:28.000Z</published>
    <updated>2018-01-09T03:40:40.829Z</updated>
    
    <content type="html"><![CDATA[<p>说linux，不得不从unix 发展历史和发行版本说起，由通用电气\AT&amp;T\MIT 合作开发unix。在美苏冷战期间,美国国防部 ncp &gt;tcp/ip 捆绑 unix 上。c 语言之父肯.汤普森 丹尼斯.里奇重写了unix 底层代码。</p><a id="more"></a><p>UNIX发行版本<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">AIX</span> <span class="selector-tag">IBM</span> <span class="selector-tag">PowerPC</span></span><br><span class="line"><span class="selector-tag">HP-UX</span> <span class="selector-tag">HP</span> <span class="selector-tag">PA-RISC</span></span><br><span class="line"><span class="selector-tag">Solaris</span> <span class="selector-tag">sun</span><span class="selector-tag">SPARC</span></span><br><span class="line"><span class="selector-tag">Linux</span><span class="selector-tag">Red</span> <span class="selector-tag">Hat</span> ,<span class="selector-tag">ubuntu</span> (Intel AMD)</span><br></pre></td></tr></table></figure></p><!--more--><p>LINUX 发展历史，由芬兰大学 Linux Torvalds 开源的软件，而芬兰 企鹅 logo 极地动物,象征开源。</p><p>Linux架构图<br><img src="/images/coding/ubuntu/linux_kernel.jpg" alt=""></p><p>其发行版本<br><img src="/images/coding/ubuntu/linux.jpg" alt=""></p><p>各发行版的特点<br><img src="/images/coding/ubuntu/linux-2.jpg" alt=""></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Redhat</span><br><span class="line">      <span class="attribute">fedora</span> 全功能版,不稳定</span><br><span class="line">      centos 社区维护版 新浪,网易 服务都采用的版本</span><br><span class="line">红旗 Linux</span><br><span class="line">suse 欧洲用的多</span><br></pre></td></tr></table></figure><p>linux 系统的应用领域<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">基于linux的企业服务器</span><br><span class="line">嵌入式应用</span><br><span class="line">linux 在电影娱乐</span><br></pre></td></tr></table></figure></p><p>linux 学习方法<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 详细的报错信息 邮件称呼</span><br><span class="line"><span class="number">2</span> 帮助文档,查找,实例</span><br><span class="line"><span class="number">3</span> 英语</span><br><span class="line">COMMAND NOT FOUND   未找到 命令 ?</span><br><span class="line">NO SUCH file or directory  没有找到文件或者 地址?</span><br><span class="line"><span class="number">4</span> 忘掉windows的思维方式</span><br><span class="line"><span class="number">5</span> 计划 专注 坚持 练习</span><br></pre></td></tr></table></figure></p><h3 id="更改-home-分区挂载点"><a href="#更改-home-分区挂载点" class="headerlink" title="更改/home 分区挂载点"></a>更改/home 分区挂载点</h3><p>ubuntu 难免要弄坏，然后重装，重装的时候，可以将手动更改 /etc/fastab 这个文件来指定文件系统的加载位置。前提是从前系统的 /home 与/ 分区 不在同一个分区中。<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/fastab</span><br><span class="line"></span><br><span class="line"># home was on /dev/sda9 during installation</span><br><span class="line">UUID=<span class="number">9</span>a1eabc7<span class="number">-17</span>ef<span class="number">-4033</span>-ae61<span class="number">-48549</span>c0f1483 /home           ext4    defaults <span class="number">0</span>       <span class="number">0</span></span><br></pre></td></tr></table></figure></p><p>例如我修改后的，然后保存，重启。<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># /etc/fstab: static file <span class="built_in">system</span> information.</span><br><span class="line">#</span><br><span class="line"># Use 'blkid' to <span class="built_in">print</span> the universally <span class="built_in">unique</span> identifier <span class="keyword">for</span> a</span><br><span class="line"># device; this may be used with UUID= as a more robust way to name devices</span><br><span class="line"># that works <span class="built_in">even</span> <span class="keyword">if</span> disks are added <span class="keyword">and</span> removed. See fstab(<span class="number">5</span>).</span><br><span class="line">#</span><br><span class="line"># &lt;file <span class="built_in">system</span>&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;</span><br><span class="line"># / was on /dev/sda3 during installation</span><br><span class="line">UUID=<span class="number">57006982</span>-8ad1-442f-a7d6-c56ee2e68306 /               ext4    <span class="built_in">errors</span>=remount-ro <span class="number">0</span>       <span class="number">1</span></span><br><span class="line"># swap was on /dev/sda8 during installation</span><br><span class="line">UUID=43060bdb-<span class="number">2b29</span>-424f-<span class="number">88b7</span>-84ad64de7851 none            swap    sw              <span class="number">0</span>       <span class="number">0</span></span><br><span class="line"># home was on /dev/sda9 during installation</span><br><span class="line">UUID=9a1eabc7-17ef-<span class="number">4033</span>-ae61-48549c0f1483 /home           ext4    defaults <span class="number">0</span>       <span class="number">0</span></span><br></pre></td></tr></table></figure></p><h3 id="修改源"><a href="#修改源" class="headerlink" title="修改源"></a>修改源</h3><p>可以自定义 源，值得注意的是，当通过设置——》软件源——》服务器位置的时候，会重写掉我们自定义的文件。<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/apt/sources.<span class="built_in">list</span></span><br></pre></td></tr></table></figure></p><p>然后添加下面，保存，更新即可。<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">## 中国的骨干源</span><br><span class="line"><span class="keyword">deb</span> http://<span class="keyword">cn</span>.archive.ubuntu.<span class="keyword">com</span>/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line"><span class="keyword">deb</span> http://<span class="keyword">cn</span>.archive.ubuntu.<span class="keyword">com</span>/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line"><span class="keyword">deb</span> http://<span class="keyword">cn</span>.archive.ubuntu.<span class="keyword">com</span>/ubuntu/ trusty-proposed main restricted universe multiverse</span><br><span class="line"></span><br><span class="line"><span class="keyword">deb</span>-src http://<span class="keyword">cn</span>.archive.ubuntu.<span class="keyword">com</span>/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line"><span class="keyword">deb</span>-src http://<span class="keyword">cn</span>.archive.ubuntu.<span class="keyword">com</span>/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">## 阿里云</span><br><span class="line"><span class="keyword">deb</span> http://mirrors.aliyun.<span class="keyword">com</span>/ubuntu trusty main restricted</span><br><span class="line"><span class="keyword">deb</span>-src http://mirrors.aliyun.<span class="keyword">com</span>/ubuntu trusty main restricted</span><br><span class="line"><span class="keyword">deb</span> http://mirrors.aliyun.<span class="keyword">com</span>/ubuntu trusty multiverse</span><br><span class="line"><span class="keyword">deb</span>-src http://mirrors.aliyun.<span class="keyword">com</span>/ubuntu trusty multiverse</span><br><span class="line"><span class="keyword">deb</span> http://mirrors.aliyun.<span class="keyword">com</span>/ubuntu trusty-updates multiverse</span><br><span class="line"><span class="keyword">deb</span>-src http://mirrors.aliyun.<span class="keyword">com</span>/ubuntu trusty-updates multiverse</span><br><span class="line"><span class="keyword">deb</span> http://mirrors.aliyun.<span class="keyword">com</span>/ubuntu trusty-backports main restricted universe multiverse</span><br><span class="line"><span class="keyword">deb</span>-src http://mirrors.aliyun.<span class="keyword">com</span>/ubuntu trusty-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure></p><h3 id="常用软件"><a href="#常用软件" class="headerlink" title="常用软件"></a>常用软件</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装fcitx-googlepinyin 输入法</span></span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install ibus-googlepinyin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新立得软件包 (synaptic) 和经典菜单(classicMenu Indicator)</span></span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install synaptic</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在任务栏显示网速</span></span><br><span class="line">sudo add-apt-repository ppa:nilarimogard/webupd8</span><br><span class="line">sudo apt-<span class="builtin-name">get</span> update</span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install indicator-netspeed</span><br></pre></td></tr></table></figure><h3 id="pip-镜像加速"><a href="#pip-镜像加速" class="headerlink" title="pip 镜像加速"></a>pip 镜像加速</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install notebook --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><p>类似的还可以编辑全局文件~/.pip/pip.con实现自动使用镜像地址<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">On Unix and Mac OS X the configuration file is: <span class="variable">$HOME</span>/.pip/pip.conf</span><br><span class="line">On Windows, the configuration file is: %HOME%\pip\pip.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># on Ubuntu LTS</span></span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">gedit .pip/pip.conf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[global]</span><br><span class="line">index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure></p><h3 id="GCC-降级和多版本共存"><a href="#GCC-降级和多版本共存" class="headerlink" title="GCC 降级和多版本共存"></a>GCC 降级和多版本共存</h3><p>查看已安装版本 gcc -v ,我们可以通过修改优先级的方法来实现gcc 、g++ 的多版本共存。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">安装 gcc-<span class="number">4.7</span></span><br><span class="line">sudo apt-get install gcc-<span class="number">4.7</span></span><br><span class="line"></span><br><span class="line">设置当前系统两个版本gcc 及其优先级</span><br><span class="line">sudo update-alternatives --install <span class="regexp">/usr/</span>bin<span class="regexp">/gcc gcc /u</span>sr<span class="regexp">/bin/g</span>cc-<span class="number">4.7</span> <span class="number">80</span></span><br><span class="line">sudo update-alternatives --install <span class="regexp">/usr/</span>bin<span class="regexp">/gcc gcc /u</span>sr<span class="regexp">/bin/g</span>cc-<span class="number">5</span> <span class="number">60</span></span><br></pre></td></tr></table></figure><p>通过输入下面的指令，查看当前 gcc 的配置情况<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="keyword">update</span>-alternatives <span class="comment">--config gcc</span></span><br></pre></td></tr></table></figure></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pi@MINDCONT:~$ sudo update-alternatives --config gcc</span><br><span class="line">有 2 个候选项可用于替换 gcc (提供 /usr/bin/gcc)。</span><br><span class="line"></span><br><span class="line"><span class="code">  选择       路径            优先级  状态</span></span><br><span class="line">------------------------------------------------------------</span><br><span class="line"><span class="bullet">* </span>0            /usr/bin/gcc-4.7   80        自动模式</span><br><span class="line"><span class="code">  1            /usr/bin/gcc-4.7   80        手动模式</span></span><br><span class="line"><span class="code">  2            /usr/bin/gcc-5     60        手动模式</span></span><br></pre></td></tr></table></figure><p>对于 g++ 同理 .<br><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">sudo</span> <span class="comment">apt</span><span class="literal">-</span><span class="comment">get</span> <span class="comment">install</span> <span class="comment">g</span><span class="literal">+</span><span class="literal">+</span><span class="literal">-</span><span class="comment">4</span><span class="string">.</span><span class="comment">7</span></span><br><span class="line"><span class="comment">sudo</span> <span class="comment">update</span><span class="literal">-</span><span class="comment">alternatives</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">install</span> <span class="comment">/usr/bin/g</span><span class="literal">+</span><span class="literal">+</span> <span class="comment">g</span><span class="literal">+</span><span class="literal">+</span> <span class="comment">/usr/bin/g</span><span class="literal">+</span><span class="literal">+</span><span class="literal">-</span><span class="comment">4</span><span class="string">.</span><span class="comment">7</span> <span class="comment">80</span></span><br><span class="line"><span class="comment">sudo</span> <span class="comment">update</span><span class="literal">-</span><span class="comment">alternatives</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">install</span> <span class="comment">/usr/bin/g</span><span class="literal">+</span><span class="literal">+</span> <span class="comment">g</span><span class="literal">+</span><span class="literal">+</span> <span class="comment">/usr/bin/g</span><span class="literal">+</span><span class="literal">+</span><span class="literal">-</span><span class="comment">5</span> <span class="comment">60</span></span><br><span class="line"><span class="comment">sudo</span> <span class="comment">update</span><span class="literal">-</span><span class="comment">alternatives</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">config</span> <span class="comment">g</span><span class="literal">+</span><span class="literal">+</span></span><br><span class="line"><span class="comment">pi@MINDCONT:~$</span> <span class="comment">sudo</span> <span class="comment">update</span><span class="literal">-</span><span class="comment">alternatives</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">config</span> <span class="comment">g</span><span class="literal">+</span><span class="literal">+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">有</span> <span class="comment">2</span> <span class="comment">个候选项可用于替换</span> <span class="comment">g</span><span class="literal">+</span><span class="literal">+</span> <span class="comment">(提供</span> <span class="comment">/usr/bin/g</span><span class="literal">+</span><span class="literal">+</span><span class="comment">)。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span>  <span class="comment">选择</span>       <span class="comment">路径</span>            <span class="comment">优先级</span>  <span class="comment">状态</span></span><br><span class="line"><span class="comment"></span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span></span><br><span class="line"><span class="comment">*</span> <span class="comment">0</span>            <span class="comment">/usr/bin/g</span><span class="literal">+</span><span class="literal">+</span><span class="literal">-</span><span class="comment">4</span><span class="string">.</span><span class="comment">7</span>   <span class="comment">80</span>        <span class="comment">自动模式</span></span><br><span class="line"><span class="comment"></span>  <span class="comment">1</span>            <span class="comment">/usr/bin/g</span><span class="literal">+</span><span class="literal">+</span><span class="literal">-</span><span class="comment">4</span><span class="string">.</span><span class="comment">7</span>   <span class="comment">80</span>        <span class="comment">手动模式</span></span><br><span class="line"><span class="comment"></span>  <span class="comment">2</span>            <span class="comment">/usr/bin/g</span><span class="literal">+</span><span class="literal">+</span><span class="literal">-</span><span class="comment">5</span>     <span class="comment">60</span>        <span class="comment">手动模式</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">要维持当前值</span><span class="title">[</span><span class="comment">*</span><span class="title">]</span><span class="comment">请按</span>&lt;<span class="comment">回车键</span>&gt;<span class="comment">，或者键入选择的编号：</span></span><br></pre></td></tr></table></figure></p><h3 id="安装-shadowsocks-客户端"><a href="#安装-shadowsocks-客户端" class="headerlink" title="安装 shadowsocks 客户端"></a>安装 shadowsocks 客户端</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get <span class="keyword">install</span> python-pip</span><br><span class="line">pip <span class="keyword">install</span> shadowsocks</span><br></pre></td></tr></table></figure><p>新建 gui-config.json 文件，将你的信息按照下面的格式填写后保存。<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"server"</span> : <span class="string">"your_server_ip"</span>,</span><br><span class="line"><span class="attr">"server_port"</span> : server_port,</span><br><span class="line"><span class="attr">"local_port"</span>: <span class="number">1080</span>,</span><br><span class="line"><span class="attr">"password"</span> : <span class="string">"password"</span>,</span><br><span class="line"><span class="attr">"method"</span> : <span class="string">"rc4-md5"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>可以通过命令行运行,注意换成你的路径<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>sslocal -c <span class="regexp">/home/</span>pi<span class="regexp">/work/</span>ss<span class="regexp">/gui-config.json</span></span><br></pre></td></tr></table></figure></p><p>然后在firefox 浏览器-》高级-》网络设置中选择，自定义<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SOCKS5 地址 <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> 端口 <span class="number">1080</span></span><br></pre></td></tr></table></figure></p><p><img src="/images/coding/ubuntu/firefox_test.png" alt=""></p><p>如果这时能够正常访问 <a href="https://www.google.com/ncr" target="_blank" rel="noopener">https://www.google.com/ncr</a> ， 即说明 shadowsocks安装和你的配置文件都没有问题。</p><p><img src="/images/coding/ubuntu/browser.png" alt=""></p><p>下面我们修改开机启动项，使它能够开机自启动<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/rc.<span class="keyword">local</span></span><br></pre></td></tr></table></figure></p><p>在打开的文件中，将下面的指令修改为你的路径，这条命令是程序后台运行并将输出日志重定向到ss.log 文件里<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>sslocal -c <span class="regexp">/home/</span>pi<span class="regexp">/work/</span>ss<span class="regexp">/gui-config.json&gt;/</span>home<span class="regexp">/pi/</span>work<span class="regexp">/shadowsocks/</span>ss.log</span><br></pre></td></tr></table></figure></p><p>通过autoproxy 文件实现，国内网站和国外网站走不同的线路<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install genpac</span><br><span class="line">pip install <span class="params">--upgrade</span> genpac</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过代理，下载autoproxy.pac 文件</span></span><br><span class="line">genpac -p <span class="string">"SOCKS5 127.0.0.1:1080"</span> <span class="params">--gfwlist-proxy=</span><span class="string">"SOCKS5 127.0.0.1:1080"</span> <span class="params">--output=</span><span class="string">"~/autoproxy.pac"</span></span><br></pre></td></tr></table></figure></p><p>在设置-》网络-》代理-》自定义，保存<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file:<span class="regexp">//</span><span class="regexp">/home/</span>pi<span class="regexp">/work/</span>shadowsocks<span class="regexp">/autoproxy.pac</span></span><br></pre></td></tr></table></figure></p><p><img src="/images/coding/ubuntu/autoproxy.png" alt=""></p><p>最后，在firefox 浏览器-》高级-》网络设置中选择，使用系统代理 。重启电脑后，再次访问 <a href="https://www.google.com/ncr" target="_blank" rel="noopener">https://www.google.com/ncr</a> 试试吧！</p><h3 id="重装win后修复ubuntu-grub引导"><a href="#重装win后修复ubuntu-grub引导" class="headerlink" title="重装win后修复ubuntu grub引导"></a>重装win后修复ubuntu grub引导</h3><p>简单的方法是使用easyBCD新加一个grub2引导，位置选择自动。缺点，要想进入ubuntu 需要二次引导。<br>第二种方法是，使用 U盘 ubuntu live CD，改bios引导顺序，从u盘启动，选择第一项，进入试用模式<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看当前硬盘所有分区</span></span><br><span class="line"><span class="attribute">sudo</span> fdisk -l</span><br></pre></td></tr></table></figure></p><p>挂载 ubuntu /分区（这里假设 / 分区为/dev/sda7） 所在分区至 livecd /mnt<br>值得注意的是，这里我的/boot分区位于 / 分区下<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取管理员权限</span></span><br><span class="line">sudo -i</span><br><span class="line"></span><br><span class="line">mount <span class="string">/dev/sda7</span> <span class="string">/mnt</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#若 /boot 单独又分区了的话，也加载到 /mnt/boot下</span></span><br><span class="line">mount <span class="string">/dev/sda7</span> <span class="string">/mnt/boot</span></span><br></pre></td></tr></table></figure></p><p>重新安装grub<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub-install <span class="params">--boot-directory=/mnt</span> <span class="string">/dev/sda</span></span><br></pre></td></tr></table></figure></p><p>重启电脑后，我们硬盘上的ubuntu 引导应该找到了，此时进入ubuntu后打开终端，再次更新grub 寻找win的引导<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo update-grub</span></span><br></pre></td></tr></table></figure></p><p>如果顺利的话，你会看到这些（表示成功）：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Generating grub.cfg ...</span><br><span class="line">Found linux <span class="string">image:</span> <span class="regexp">/boot/</span>vmlinuz<span class="number">-2.6</span><span class="number">.32</span><span class="number">-22</span>-generic-pae</span><br><span class="line">Found initrd <span class="string">image:</span> <span class="regexp">/boot/</span>initrd.img<span class="number">-2.6</span><span class="number">.32</span><span class="number">-22</span>-generic-pae</span><br><span class="line">Found memtest86+ <span class="string">image:</span> <span class="regexp">/boot/</span>memtest86+.bin</span><br><span class="line">Found Windows <span class="number">7</span> (loader) on <span class="regexp">/dev/</span>sda3</span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;说linux，不得不从unix 发展历史和发行版本说起，由通用电气\AT&amp;amp;T\MIT 合作开发unix。在美苏冷战期间,美国国防部 ncp &amp;gt;tcp/ip 捆绑 unix 上。c 语言之父肯.汤普森 丹尼斯.里奇重写了unix 底层代码。&lt;/p&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://blog.mindcont.com/categories/Linux/"/>
    
    
      <category term="ubuntu" scheme="http://blog.mindcont.com/tags/ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>CNN 基本公式分析</title>
    <link href="http://blog.mindcont.com/2016/09/18/cnn/"/>
    <id>http://blog.mindcont.com/2016/09/18/cnn/</id>
    <published>2016-09-18T08:11:09.000Z</published>
    <updated>2018-01-09T03:38:20.134Z</updated>
    
    <content type="html"><![CDATA[<p>之前工作里写过CNN，一眨眼，快到一年了。写CNN的过程，使我有了很大的成长，对BP的理解也深刻了许多。之前写得文档里，只是针对论文做了一个解析，现在放出一些关键的推导过程，也稍微回顾一下。关于训练模型里的一些trick，很多时候是需要尝试的，我突然发现：其实也很需要想象力！</p><a id="more"></a><p>注：很多图片是之前做的PPT截图，如果用mathjex重复打公式和排版了，比较费时间，所以直接截图了。</p><p><strong>卷积神经网络</strong><br>卷积神经网络(convolutional neural network)是利用模型特性来处理掉输入的波动而获得不变性特征，由LeCun提出，目前广泛的应用于图像数据。</p><h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><p>卷积操作主要是f(x)g(x)在重合区域的积分。</p><h3 id="一维卷积"><a href="#一维卷积" class="headerlink" title="一维卷积"></a>一维卷积</h3><p>如下图所示，是一维卷积。类似于点积，<strong>y = x*w</strong>,下图的w=[1,0,-1]。这里引入了一个概念<strong>局部接受野</strong>(local receptive fields)和<strong>权值共享</strong>(weight sharing)。为了方便表述，灰色的是隐含层i，黄色是下一层隐含层i+1。对于传统的神经网络而言，i+1层的一个神经元是接收了i层所有神经元节点的加权求和得到的，而这里，则仅接收i层神经元局部输入的加权得到，也就是局部接受野的概念。而权值共享，指的是对于i+1层的每一个神经元用的权重w是同一个。原来是7个输入5个输出的话，那么需要w是<code>7*5=35</code>个参数，如果使用局部接受野，输入变为了3，则需要w是<code>3*5=15</code>个参数。如果再使用权值共享，那么就变成了3个参数！使得整个网络的参数大为减少。<br><img src="/images/research/caffe/cnn/cnn_1d_conv.png" alt=""><br>当然，i层可以对应多个i+1层，也就是每一个共享的w得到一个i+1层，多个共享的w就得到了多个i+1层，这个数一般称之为feature map数。这样可以学习到更多的特征。<br><strong>这样能够更好的表达局部特征！而通过不断的深度，使得局部特征聚合为高级特征</strong></p><h3 id="二维卷积"><a href="#二维卷积" class="headerlink" title="二维卷积"></a>二维卷积</h3><p><img src="/images/research/caffe/cnn/cnn_Convolution_schematic.gif" alt=""><br>这里不细说，下面会细说。</p><h3 id="三维卷积"><a href="#三维卷积" class="headerlink" title="三维卷积"></a>三维卷积</h3><p><img src="/images/research/caffe/cnn/cnn_3d_conv.png" alt=""><br>目前多数都是采用3d卷积，本质跟2d卷积一样。就是维度增加了，对应的输入变为了4维，而w也是4维的，这样卷积求和得到输出。</p><p>除了卷积之外，cnn还有一个核心的概念，子抽样(subsampling)，一般用pooling来表示。pooling的种类有很多种，主要是用一个特征来表达一个局部特征，这样使得参数大为减少。常见的有max pooling和mean pooling，L2 pooling。max pooling就是用局部特征的最大值来表达这个区域的特征。其他依次类推。如下图所示：<br><img src="/images/research/caffe/cnn/cnn_Pooling_schematic.gif" alt=""></p><p>另外，对于图像里的一些其他操作，比如stride，表示卷积每次的移动步长，pad表示对图像进行阔边，防止在卷积操作中丢失边界特征。</p><h2 id="卷积的BP"><a href="#卷积的BP" class="headerlink" title="卷积的BP"></a>卷积的BP</h2><p>卷积的BP推导可以概括为3个卷积。具体如下：<br>这里我们以2d卷积为例子，3d卷积的话，就是在2d上增加一个循环就可以了。<br>如下图所示：<br><img src="/images/research/caffe/cnn/cnn_2d_conv.png" alt=""></p><p>这是一个forward过程，就是第二部分提到的卷积操作。这里仅用大O里面加个x表示卷积，<strong>注意后者是卷积核</strong>，也就是filter或者说weight。</p><p>那么误差反馈就比较容易，首先是得到了上层传递过来的delta，之后对输入的x求导得到dx用于反馈误差。之后对w求导，得到dw，用于更新梯度。<br>这个比较简单，因为本质都是点积，只需要对应的求导再加和就可以了。如下图所示：<br><img src="/images/research/caffe/cnn/cnn_dx.png" alt=""><br>对应的求解，发现这个操作类似于卷积。但是对于<code>x_{0,0}</code>的求解，需要对delta进行阔边以方便直接使用卷积操作。如下图所示:<br><img src="/images/research/caffe/cnn/cnn_dx_border.png" alt=""></p><p>接下来是对w求导，得到更新梯度。计算也是一样的，找到w参与的点积计算，拿到导数合并一下就可以了。如下图所示，我们发现同样可以用卷积操作来表示：<br><img src="/images/research/caffe/cnn/cnn_dw.png" alt=""></p><p>那么我们可以联系到线性回归，以方便我们记忆了：<br><img src="/images/research/caffe/cnn/cnn_bp.png" alt=""></p><p>以上就是关于卷积BP的推导和证明了。图片是在ppt里编辑好之后截图过来的，因为直接写一堆公式的话，感觉容易乱。<br>此外，我们看到也能看到对于<code>5*5</code>的卷积操作，其实是可以用2个<code>3*3</code>的卷积操作来代替，同时还能达到层数更多的效果。目前通过可视化来看，深度学习的特征是层级式的，特征由低级不断的汇总为高级特征。</p><h2 id="pooling层BP"><a href="#pooling层BP" class="headerlink" title="pooling层BP"></a>pooling层BP</h2><p>对于pooling层，如何进行BP操作呢？pooling层比卷积层简单的地方是，pooling是没有参数的，所以只需要得到dx之后用于误差传递就可以了。对于mean pooling，其实相当于卷积都是均值，比如2*2的pooling，那么w就相当于[[0.25, 0.25],[0.25, 0.25]]，我们直接套用卷积的公式就可以了。而对于L2 pooling等等类似的pooling，其实是可以拆分成平方操作，sum pooling，再开方的三个操作分别传递误差就可以，而sum pooling也可以套用卷积操作。唯一不一样的是max pooling，没有固定的卷积核，所以需要循环一下，对于输入最大的点进行求导。pooling 如下图所示：<br><img src="/images/research/caffe/cnn/cnn_pool.png" alt=""></p><p>从max 和 mean等操作也可以看到，pooling的不同。<br>pooling的本质是一种局部特征的表达。max pooling的是用图像某一区域像素值的最大值来表示该区域的特征，而mean pool是用图像某一区域像素值的均值来表示该区域的特征。这两个pooling操作都提高了提取特征的不变性，而特征提取的误差主要来自两个方面：</p><ul><li>邻域大小受限造成的估计值方差增大；</li><li>卷积层参数误差造成估计均值的偏移。</li></ul><p>一般来说，mean-pooling能减小第一种误差，更多的保留图像的背景信息，max-pooling能减小第二种误差(导数不影响其他点)，更多的保留纹理信息。在图像处理中，使用max pooling多于mean pooling。</p><h2 id="im2col"><a href="#im2col" class="headerlink" title="im2col"></a>im2col</h2><p>实际在计算的卷积的时候，通常可以使用一些卷积操作库。在类比线性回归的时候，也容易想到，如果把二维的卷积核w转为一维的话，操作会不会更快？因为在误差反馈的时候，不需要再重复的循环。因此，有一种方式是把二维图像转为一维向量进行计算的方式。如下图所示：<br><img src="/images/research/caffe/cnn/cnn_im2col.png" alt=""><br>简单的说，就是把操作转为向量的形式。那么计算就和线性回归一样了，如下：<br><img src="/images/research/caffe/cnn/cnn_im2col_2.png" alt=""><br>对于误差反馈，我们还需要把反馈的误差，再转回到二维图像的形式，也就是col2im，如下图所示：<br><img src="/images/research/caffe/cnn/cnn_col2im.png" alt=""><br>转换的时候，是不断的累加的。</p><h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><p>自己写了一个kitnet的神经网络库，最近比较忙，很多优化算法和layer还没实现。这里简单的给一下卷积的部分code。网上有很多好的代码值得参考和学习，这里就是配合上面的截图，给关键的几个函数。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConvLayer</span>(<span class="title">ParamLayer</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, shape, pad_w=<span class="number">0</span>, pad_h=<span class="number">0</span>, stride=<span class="number">1</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                 name=<span class="string">"ConvLayer"</span>, init_method=<span class="string">"random"</span>, debug=<span class="number">0</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">        shape (input_channel, filter_size, filter_size, output_channel)</span></span><br><span class="line"><span class="string">        c: channel</span></span><br><span class="line"><span class="string">        f: filter_size</span></span><br><span class="line"><span class="string">        b: batch_size</span></span><br><span class="line"><span class="string">        w: width</span></span><br><span class="line"><span class="string">        h: height</span></span><br><span class="line"><span class="string">        '</span><span class="string">''</span></span><br><span class="line">        <span class="keyword">super</span>(ConvLayer, <span class="keyword">self</span>).__init_<span class="number">_</span>(name, shape, init_method)</span><br><span class="line">        <span class="keyword">self</span>.in_channel = shape[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">self</span>.filter_h = shape[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">self</span>.filter_w = shape[<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">self</span>.out_channel = shape[<span class="number">3</span>]</span><br><span class="line">        <span class="keyword">self</span>.indx = <span class="keyword">self</span>.filter_h * <span class="keyword">self</span>.filter_w * <span class="keyword">self</span>.in_channel</span><br><span class="line">        <span class="keyword">self</span>.pad_h = pad_h</span><br><span class="line">        <span class="keyword">self</span>.pad_w = pad_w</span><br><span class="line">        <span class="keyword">self</span>.stride = stride</span><br><span class="line">        <span class="keyword">self</span>.debug = debug</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(<span class="keyword">self</span>, x)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">        x shape: (batch_size, channel, height, weight)</span></span><br><span class="line"><span class="string">        '</span><span class="string">''</span></span><br><span class="line">        <span class="comment"># get the output shape</span></span><br><span class="line">        <span class="keyword">self</span>.batch_size, in_channel, in_h, in_w = x.shape</span><br><span class="line">        assert in_channel == <span class="keyword">self</span>.in_channel</span><br><span class="line">        out_h = (in_h + <span class="number">2</span> * <span class="keyword">self</span>.pad_h - <span class="keyword">self</span>.filter_h) / <span class="keyword">self</span>.stride + <span class="number">1</span></span><br><span class="line">        out_w = (in_w + <span class="number">2</span> * <span class="keyword">self</span>.pad_w - <span class="keyword">self</span>.filter_w) / <span class="keyword">self</span>.stride + <span class="number">1</span></span><br><span class="line">        assert out_h % <span class="number">1</span> == <span class="number">0</span></span><br><span class="line">        assert out_w % <span class="number">1</span> == <span class="number">0</span></span><br><span class="line">        out_h, out_w = int(out_h), int(out_w)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># pad input array</span></span><br><span class="line">        x_padded = np.pad(x, ((<span class="number">0</span>,<span class="number">0</span>), (<span class="number">0</span>,<span class="number">0</span>), (<span class="keyword">self</span>.pad_h, <span class="keyword">self</span>.pad_h),</span><br><span class="line">                              (<span class="keyword">self</span>.pad_w, <span class="keyword">self</span>.pad_w)), <span class="string">'constant'</span>)</span><br><span class="line">        <span class="keyword">self</span>.h_padded, <span class="keyword">self</span>.w_padded = x_padded.shape[<span class="number">2</span>], x_padded.shape[<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># im2col, (out_h*out_w*batch_size, filter_h*filter_w*in_channel)</span></span><br><span class="line">        x_cols = None</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="keyword">self</span>.filter_h, <span class="keyword">self</span>.h_padded+<span class="number">1</span>, <span class="keyword">self</span>.stride)<span class="symbol">:</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> xrange(<span class="keyword">self</span>.filter_w, <span class="keyword">self</span>.w_padded+<span class="number">1</span>, <span class="keyword">self</span>.stride)<span class="symbol">:</span></span><br><span class="line">                <span class="keyword">for</span> n <span class="keyword">in</span> xrange(<span class="keyword">self</span>.batch_size)<span class="symbol">:</span></span><br><span class="line">                    tmp = x_padded[n, <span class="symbol">:</span>, i-<span class="keyword">self</span>.<span class="symbol">filter_h:</span>i, j-<span class="keyword">self</span>.<span class="symbol">filter_w:</span>j]</span><br><span class="line">                    field = tmp.reshape((<span class="number">1</span>, <span class="keyword">self</span>.indx))</span><br><span class="line">                    <span class="keyword">if</span> x_cols is <span class="symbol">None:</span></span><br><span class="line">                        x_cols = field</span><br><span class="line">                    <span class="symbol">else:</span></span><br><span class="line">                        x_cols = np.vstack((x_cols, field))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.input = x_cols</span><br><span class="line">        <span class="comment"># weight2col, (indx, out_channel)</span></span><br><span class="line">        <span class="keyword">self</span>.w_cols = <span class="keyword">self</span>.W.reshape(<span class="keyword">self</span>.indx, <span class="keyword">self</span>.out_channel)</span><br><span class="line">        <span class="comment"># output_col shape, out_h*out_w*batch_size, out_channel</span></span><br><span class="line">        <span class="keyword">self</span>.output_col = np.dot(<span class="keyword">self</span>.input, <span class="keyword">self</span>.w_cols) + <span class="keyword">self</span>.b</span><br><span class="line">        <span class="comment"># output shape, (batch_size, channel, height, weight)</span></span><br><span class="line">        <span class="keyword">self</span>.output = <span class="keyword">self</span>.output_col.reshape(<span class="keyword">self</span>.batch_size, out_h,</span><br><span class="line">                                              out_w, <span class="keyword">self</span>.out_channel)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.<span class="symbol">debug:</span></span><br><span class="line">            print <span class="string">"x_cols.shape = "</span>, x_cols.shape</span><br><span class="line">            print <span class="string">"w_cols.shape = "</span>, <span class="keyword">self</span>.w_cols.shape</span><br><span class="line">            print <span class="string">"output.shape = "</span>, <span class="keyword">self</span>.output.shape</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">backward</span><span class="params">(<span class="keyword">self</span>, delta)</span></span><span class="symbol">:</span></span><br><span class="line">        assert delta.size == <span class="keyword">self</span>.output.size</span><br><span class="line">        delta_cols = delta.reshape(<span class="keyword">self</span>.output_col.shape)</span><br><span class="line">        <span class="comment"># grad_x_cols, (out_h*out_w*batch_size, indx)</span></span><br><span class="line">        grad_x_cols = np.dot(delta_cols, <span class="keyword">self</span>.w_cols.T)</span><br><span class="line">        <span class="comment"># get the grad</span></span><br><span class="line">        grad_w = np.dot(<span class="keyword">self</span>.input.T, delta_cols)</span><br><span class="line">        grad_b = np.sum(delta_cols, axis=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">self</span>.grad =[grad_w.reshape(<span class="keyword">self</span>.W.shape), grad_b.reshape(<span class="keyword">self</span>.b.shape)]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># col2im: convert back from x_cols to x</span></span><br><span class="line">        <span class="comment"># (batch_size, channel, height, weight)</span></span><br><span class="line">        dx_padded = np.zeros((<span class="keyword">self</span>.batch_size, <span class="keyword">self</span>.in_channel,</span><br><span class="line">                              <span class="keyword">self</span>.h_padded, <span class="keyword">self</span>.w_padded))</span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        tmp_shape = (<span class="number">1</span>, <span class="keyword">self</span>.in_channel, <span class="keyword">self</span>.filter_h, <span class="keyword">self</span>.filter_w)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="keyword">self</span>.filter_h, <span class="keyword">self</span>.h_padded+<span class="number">1</span>, <span class="keyword">self</span>.stride)<span class="symbol">:</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> xrange(<span class="keyword">self</span>.filter_w, <span class="keyword">self</span>.w_padded+<span class="number">1</span>, <span class="keyword">self</span>.stride)<span class="symbol">:</span></span><br><span class="line">                <span class="keyword">for</span> n <span class="keyword">in</span> xrange(<span class="keyword">self</span>.batch_size)<span class="symbol">:</span></span><br><span class="line">                    tmp = grad_x_cols[idx,<span class="symbol">:</span>].reshape(tmp_shape)</span><br><span class="line">                    dx_padded[<span class="symbol">n:</span>n+<span class="number">1</span>, <span class="symbol">:</span>,</span><br><span class="line">                              i - <span class="keyword">self</span>.<span class="symbol">filter_h:</span>i,</span><br><span class="line">                              j - <span class="keyword">self</span>.<span class="symbol">filter_w:</span>j] += tmp</span><br><span class="line">                    idx += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.pad_h == <span class="number">0</span><span class="symbol">:</span></span><br><span class="line">            <span class="keyword">self</span>.delta = dx_padded</span><br><span class="line">        <span class="symbol">else:</span></span><br><span class="line">            <span class="keyword">self</span>.delta = dx_padded[<span class="symbol">:</span>, <span class="symbol">:</span>, <span class="keyword">self</span>.<span class="symbol">pad_h:</span>-<span class="keyword">self</span>.pad_h,</span><br><span class="line">                                   <span class="keyword">self</span>.<span class="symbol">pad_w:</span>-<span class="keyword">self</span>.pad_w]</span><br><span class="line">        <span class="comment"># debug</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.<span class="symbol">debug:</span></span><br><span class="line">            print <span class="string">"grad_w.shape = "</span>, <span class="keyword">self</span>.grad[<span class="number">0</span>].shape</span><br><span class="line">            print <span class="string">"delta.shape = "</span>, <span class="keyword">self</span>.delta.shape</span><br></pre></td></tr></table></figure><h2 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h2><p>文章：<a href="http://www.datakit.cn/blog/2016/03/23/bp_cnn.html" target="_blank" rel="noopener">CNN基本公式分析</a><br>来源：<a href="http://www.datakit.cn/" target="_blank" rel="noopener">http://www.datakit.cn/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;之前工作里写过CNN，一眨眼，快到一年了。写CNN的过程，使我有了很大的成长，对BP的理解也深刻了许多。之前写得文档里，只是针对论文做了一个解析，现在放出一些关键的推导过程，也稍微回顾一下。关于训练模型里的一些trick，很多时候是需要尝试的，我突然发现：其实也很需要想象力！&lt;/p&gt;
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
  </entry>
  
  <entry>
    <title>深度学习：数据集篇</title>
    <link href="http://blog.mindcont.com/2016/09/13/dataset/"/>
    <id>http://blog.mindcont.com/2016/09/13/dataset/</id>
    <published>2016-09-13T08:34:32.000Z</published>
    <updated>2018-01-09T03:38:44.609Z</updated>
    
    <content type="html"><![CDATA[<p>大数据，数据挖掘，深度学习，终究绕不开数据集，为此单独开一个页面，持续更新各类数据集，希望可以碰出一些好的思路，用深度学习的方法解决一些实际问题。</p><!-- ![](/images/coding/ubuntu/princeton.jpg) --><table><br>  <thead><br>    <tr><br>      <th>Name</th><br>      <th>Type</th><br>      <th>Download</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <td><a href="http://places.csail.mit.edu/index.html" target="_blank" rel="noopener">AlexNet-Places205</a></td><br>      <td><img src="https://caffe2.ai/static/images/boathouse.png" alt="images places recognition"></td><br>      <td><a href="http://places.csail.mit.edu/model/placesCNN_upgraded.tar.gz" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://www.speech.cs.cmu.edu/databases/an4/" target="_blank" rel="noopener">AN4</a>: 948 training and 130 test utterances</td><br>      <td><img src="https://caffe2.ai/static/images/landing-audio.png" alt="speech"></td><br>      <td><a href="http://www.speech.cs.cmu.edu/databases/an4/an4_raw.bigendian.tar.gz" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="https://www2.eecs.berkeley.edu/Research/Projects/CS/vision/bsds/" target="_blank" rel="noopener">BSDS (300/500)</a>: 12k labeled segmentations</td><br>      <td><img src="https://caffe2.ai/static/images/wolf.jpg" alt="image segmentation"></td><br>      <td><a href="https://www2.eecs.berkeley.edu/Research/Projects/CS/vision/bsds/BSDS300-images.tgz" target="_blank" rel="noopener"> images</a> <a href="https://www2.eecs.berkeley.edu/Research/Projects/CS/vision/bsds/BSDS300-human.tgz" target="_blank" rel="noopener"> segmentations</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://mmlab.ie.cuhk.edu.hk/projects/CelebA.html" target="_blank" rel="noopener">Celeb-A</a>: 200k+ celebrity images, 10k+ identities</td><br>      <td><img src="https://caffe2.ai/static/images/celebrity.png" alt="celebrity images"></td><br>      <td><a href="https://www.dropbox.com/sh/8oqt9vytwxb3s4r/AAB06FXaQRUNtjW9ntaoPGvCa?dl=0" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="https://www.cs.toronto.edu/~kriz/cifar.html" target="_blank" rel="noopener">CIFAR-10</a>: 60k tiny (32x32) tagged images</td><br>      <td><img src="https://caffe2.ai/static/images/cifar-tiny.png" alt="tiny images"></td><br>      <td><a href="https://www.cs.toronto.edu/~kriz/cifar.html" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://mscoco.org/dataset/" target="_blank" rel="noopener">COCO</a>: A large image dataset designed for object detection, segmentation, and caption generation.</td><br>      <td><img src="https://caffe2.ai/static/images/coco.png" alt="coco"></td><br>      <td><a href="http://mscoco.org/dataset/#download" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://mmlab.ie.cuhk.edu.hk/datasets/comp_cars/index.html" target="_blank" rel="noopener">CompCars</a>: 136k+ car images &amp; 1716 car models</td><br>      <td><img src="https://caffe2.ai/static/images/cars.png" alt="cars"></td><br>      <td><a href="http://mmlab.ie.cuhk.edu.hk/datasets/comp_cars/index.html" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://www.robots.ox.ac.uk/~vgg/data/flowers/102/index.html" target="_blank" rel="noopener">Oxford 102 Flowers</a>: 102 flower categories</td><br>      <td><img src="https://caffe2.ai/static/images/flowers.png" alt="flowers"></td><br>      <td><a href="http://www.robots.ox.ac.uk/~vgg/data/flowers/102/102flowers.tgz" target="_blank" rel="noopener"> images</a> <a href="http://www.robots.ox.ac.uk/~vgg/data/flowers/102/102segmentations.tgz" target="_blank" rel="noopener"> segmentations</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://image-net.org/" target="_blank" rel="noopener">ImageNet</a>: 14,197,122 images, 21841 synsets indexed</td><br>      <td><img src="https://caffe2.ai/static/images/imagenet.jpg" alt="large range of images"></td><br>      <td><a href="http://image-net.org/download" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://www.image-net.org/challenges/LSVRC/" target="_blank" rel="noopener">ImageNet ILSVRC</a>: Competition datasets</td><br>      <td><img src="https://caffe2.ai/static/images/imagenet.jpg" alt="large range of images"></td><br>      <td><a href="http://www.image-net.org/challenges/LSVRC/" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="https://en.wikipedia.org/wiki/Iris_flower_data_set" target="_blank" rel="noopener">Iris</a></td><br>      <td><img src="https://caffe2.ai/static/images/iris.jpg" alt="flowers &gt; classification"></td><br>      <td><a href="https://en.wikipedia.org/wiki/Iris_flower_data_set" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://lsun.cs.princeton.edu/2016/" target="_blank" rel="noopener">LSUN Scenes</a> millions of indoor/outdoor building scenes</td><br>      <td><img src="https://caffe2.ai/static/images/kitchen.jpg" alt="scene classification"></td><br>      <td><a href="https://github.com/fyu/lsun/blob/master/download.py" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://lsun.cs.princeton.edu/2016/" target="_blank" rel="noopener">LSUN Room Layout</a> 4000 indoor scenes</td><br>      <td><img src="https://caffe2.ai/static/images/layout.png" alt="scene classification"></td><br>      <td><a href="https://github.com/fyu/lsun/blob/master/download.py" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://yann.lecun.com/exdb/mnist/" target="_blank" rel="noopener">MNIST</a> 60k handwriting training set, 10k test images</td><br>      <td><img src="https://caffe2.ai/static/images/mnist.png" alt="handwriting"></td><br>      <td><a href="http://yann.lecun.com/exdb/mnist/" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://cs-people.bu.edu/jmzhang/sos.html" target="_blank" rel="noopener">Multi-Salient-Object (MSO)</a> 1224 tagged salient object images</td><br>      <td><img src="https://caffe2.ai/static/images/mso.png" alt="tagged objects"></td><br>      <td><a href="http://www.cs.bu.edu/groups/ivc/data/SOS/MSO.zip" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://www.openu.ac.il/home/hassner/Adience/data.html#agegender" target="_blank" rel="noopener">OUI-Adience Face Image</a> 26,580 age &amp; gender labeled images</td><br>      <td><img src="https://caffe2.ai/static/images/age.png" alt="age, gender"></td><br>      <td><a href="http://www.openu.ac.il/home/hassner/Adience/data.html#agegender" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://host.robots.ox.ac.uk/pascal/VOC/" target="_blank" rel="noopener">PASCAL VOC 2012</a> 11,530 images w/ 27,450 ROI annotated objects and 6,929 segmentations</td><br>      <td><img src="https://caffe2.ai/static/images/voc.png" alt="images &gt; object recognition"></td><br>      <td><a href="http://host.robots.ox.ac.uk/pascal/VOC/" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://www.netresec.com/?page=PcapFiles" target="_blank" rel="noopener">PCAP</a> Network captures of regular internet traffic and attack scenario traffic</td><br>      <td><img src="https://caffe2.ai/static/images/defcon.jpg" alt="network capture"></td><br>      <td><a href="http://www.netresec.com/?page=PcapFiles" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://www.fit.vutbr.cz/~imikolov/rnnlm/" target="_blank" rel="noopener">Penn Treebank (PTB)</a> statistical language modeling</td><br>      <td><img src="https://caffe2.ai/static/images/landing-audio.png" alt="language"></td><br>      <td><a href="http://www.fit.vutbr.cz/~imikolov/rnnlm/simple-examples.tgz" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://crcv.ucf.edu/data/UCF_YouTube_Action.php" target="_blank" rel="noopener">UCF11/YouTube Action</a> 11 action categories: basketball shooting, biking/cycling, diving, golf swinging, horse back riding, soccer juggling, swinging, tennis swinging, trampoline jumping, volleyball spiking, and walking with a dog</td><br>      <td><img src="https://caffe2.ai/static/images/action.jpg" alt="video &gt; action"></td><br>      <td><a href="http://crcv.ucf.edu/data/UCF_YouTube_Action.php" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="https://archive.ics.uci.edu/ml/datasets.html" target="_blank" rel="noopener">UCI Datasets</a></td><br>      <td><img src="https://caffe2.ai/static/images/research/caffe2variety.png" alt="variety"></td><br>      <td><a href="https://archive.ics.uci.edu/ml/datasets.html" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="https://catalog.data.gov/dataset" target="_blank" rel="noopener">US Census</a>: demographic data</td><br>      <td><img src="https://caffe2.ai/static/images/linegraph.png" alt="line graph"></td><br>      <td><a href="https://catalog.data.gov/dataset" target="_blank" rel="noopener">download</a></td><br>    </tr><br>    <tr><br>      <td><a href="http://www.robots.ox.ac.uk/~vgg/software/vgg_face/" target="_blank" rel="noopener">VGG-Face</a> millions of faces</td><br>      <td><img src="https://caffe2.ai/static/images/faces.jpg" alt="faces"></td><br>      <td><a href="http://www.robots.ox.ac.uk/~vgg/software/vgg_face/src/vgg_face_caffe.tar.gz" target="_blank" rel="noopener">download</a></td><br>    </tr><br>  </tbody><br></table><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><table><thead><tr><th>CV 开源代码</th><th>链接</th></tr></thead><tbody><tr><td>code</td><td><a href="http://www.sigvc.org/bbs/thread-72-1-1.html" target="_blank" rel="noopener">http://www.sigvc.org/bbs/thread-72-1-1.html</a></td></tr><tr><td>vision.princeton.edu</td><td>vision.princeton.edu/research.html</td></tr></tbody></table><table><thead><tr><th>ILSVRC 历年竞赛数据集</th><th>链接 (<a href="http://image-net.org/" target="_blank" rel="noopener">http://image-net.org/</a>)</th></tr></thead><tbody><tr><td>ILSVRC2016 Challenge</td><td><a href="http://image-net.org/challenges/LSVRC/2016/download-images-8r28#det" target="_blank" rel="noopener">http://image-net.org/challenges/LSVRC/2016/download-images-8r28#det</a></td></tr><tr><td>ILSVRC2015 Challenge</td><td><a href="http://image-net.org/challenges/LSVRC/2015/download-images-3j16.php" target="_blank" rel="noopener">http://image-net.org/challenges/LSVRC/2015/download-images-3j16.php</a></td></tr><tr><td>ILSVRC2014 Challenge</td><td><a href="http://image-net.org/challenges/LSVRC/2014/download-images-5jj5.php" target="_blank" rel="noopener">http://image-net.org/challenges/LSVRC/2014/download-images-5jj5.php</a></td></tr><tr><td>ILSVRC2012 Challenge</td><td><a href="http://image-net.org/challenges/LSVRC/2012/nonpub-downloads" target="_blank" rel="noopener">http://image-net.org/challenges/LSVRC/2012/nonpub-downloads</a></td></tr><tr><td>ILSVRC2010 Challenge</td><td><a href="http://image-net.org/challenges/LSVRC/2010/download-all-nonpub" target="_blank" rel="noopener">http://image-net.org/challenges/LSVRC/2010/download-all-nonpub</a></td></tr></tbody></table><table><thead><tr><th>PASCAL VOC Challenge</th><th>链接</th></tr></thead><tbody><tr><td>The PASCAL VOC Challenge 2012</td><td><a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/" target="_blank" rel="noopener">http://host.robots.ox.ac.uk/pascal/VOC/voc2012/</a></td></tr><tr><td>The PASCAL VOC Challenge 2007</td><td><a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2007/" target="_blank" rel="noopener">http://host.robots.ox.ac.uk/pascal/VOC/voc2007/</a></td></tr></tbody></table><table><thead><tr><th>名称</th><th>链接</th></tr></thead><tbody><tr><td>MS-COCO</td><td><a href="http://mscoco.org/dataset/#download" target="_blank" rel="noopener">http://mscoco.org/dataset/#download</a></td></tr><tr><td>youtube人脸</td><td><a href="http://www.cs.tau.ac.il/~wolf/ytfaces/index.html" target="_blank" rel="noopener">http://www.cs.tau.ac.il/~wolf/ytfaces/index.html</a></td></tr><tr><td>人脸</td><td><a href="http://vis-www.cs.umass.edu/lfw/" target="_blank" rel="noopener">http://vis-www.cs.umass.edu/lfw/</a></td></tr><tr><td>三维人脸</td><td><a href="http://biometrics.idealtest.org/dbDetailForUser.do?id=8" target="_blank" rel="noopener">http://biometrics.idealtest.org/dbDetailForUser.do?id=8</a></td></tr><tr><td>文本类</td><td><a href="http://blog.csdn.net/freesum/article/details/7370823" target="_blank" rel="noopener">http://blog.csdn.net/freesum/article/details/7370823</a></td></tr><tr><td>数字图像处理</td><td><a href="http://blog.csdn.net/wangyaninglm/article/details/38707257" target="_blank" rel="noopener">http://blog.csdn.net/wangyaninglm/article/details/38707257</a></td></tr><tr><td>机器视觉中常用的数据测试集</td><td><a href="http://blog.csdn.net/maxiemei/article/details/17281767" target="_blank" rel="noopener">http://blog.csdn.net/maxiemei/article/details/17281767</a></td></tr><tr><td>常用图像数据集：标注、检索</td><td><a href="http://www.cnblogs.com/huashiyiqike/p/3778035.html" target="_blank" rel="noopener">http://www.cnblogs.com/huashiyiqike/p/3778035.html</a></td></tr><tr><td>花卉</td><td><a href="http://www.cnblogs.com/fuleying/p/3895817.html" target="_blank" rel="noopener">http://www.cnblogs.com/fuleying/p/3895817.html</a></td></tr><tr><td>100+诡异的数据集</td><td><a href="http://www.cnblogs.com/xianghang123/p/3773086.html" target="_blank" rel="noopener">http://www.cnblogs.com/xianghang123/p/3773086.html</a></td></tr></tbody></table><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://www.zhihu.com/question/19969760" target="_blank" rel="noopener">数据分析和挖掘有哪些公开的数据来源？</a></li><li><a href="https://caffe2.ai/docs/datasets.html" target="_blank" rel="noopener">Datasets | Caffe2</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;大数据，数据挖掘，深度学习，终究绕不开数据集，为此单独开一个页面，持续更新各类数据集，希望可以碰出一些好的思路，用深度学习的方法解决一些实际问题。&lt;/p&gt;
&lt;!-- ![](/images/coding/ubuntu/princeton.jpg) --&gt;
&lt;table&gt;&lt;b
      
    
    </summary>
    
      <category term="深度学习" scheme="http://blog.mindcont.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    
  </entry>
  
</feed>
